(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
void 0==CanvasRenderingContext2D.prototype.ellipse&&(CanvasRenderingContext2D.prototype.ellipse=function(t,r,n,e,o,i,a,s){this.save(),this.translate(t,r),this.rotate(o),this.scale(n,e),this.arc(0,0,1,i,a,s),this.restore()}),"function"!=typeof Path2D&&!function(){function t(t){if(this.ops_=[],void 0!=t)if("string"==typeof t)try{this.ops_=parser.parse(t)}catch(t){}else{if(!t.hasOwnProperty("ops_"))throw"Error: "+typeof t+"is not a valid argument to Path";this.ops_=t.ops_.slice(0)}}function r(t){return function(){this.ops_.push({type:t,args:Array.prototype.slice.call(arguments,0)})}}parser=function(){function t(t,r){function n(){this.constructor=t}n.prototype=r.prototype,t.prototype=new n}function r(t,r,n,e,o,i){this.message=t,this.expected=r,this.found=n,this.offset=e,this.line=o,this.column=i,this.name="SyntaxError"}function n(t){function n(r){function n(r,n,e){var o,i;for(o=n;o<e;o++)i=t.charAt(o),"\n"===i?(r.seenCR||r.line++,r.column=1,r.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(r.line++,r.column=1,r.seenCR=!0):(r.column++,r.seenCR=!1)}return Ar!==r&&(Ar>r&&(Ar=0,xr={line:1,column:1,seenCR:!1}),n(xr,Ar,r),Ar=r),xr}function e(t){Cr<Pr||(Cr>Pr&&(Pr=Cr,Rr=[]),Rr.push(t))}function o(e,o,i){function a(t){var r=1;for(t.sort(function(t,r){return t.description<r.description?-1:t.description>r.description?1:0});r<t.length;)t[r-1]===t[r]?t.splice(r,1):r++}function s(t,r){function n(t){function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+r(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+r(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+r(t)})}var e,o,i,a=new Array(t.length);for(i=0;i<t.length;i++)a[i]=t[i].description;return e=t.length>1?a.slice(0,-1).join(", ")+" or "+a[t.length-1]:a[0],o=r?'"'+n(r)+'"':"end of input","Expected "+e+" but "+o+" found."}var u=n(i),c=i<t.length?t.charAt(i):null;return null!==o&&a(o),new r(null!==e?e:s(o,c),o,c,i,u.line,u.column)}function i(){var t,r,n,e,o;for(t=Cr,r=[],n=B();n!==lt;)r.push(n),n=B();if(r!==lt)if(n=a(),n===lt&&(n=gt),n!==lt){for(e=[],o=B();o!==lt;)e.push(o),o=B();e!==lt?(_r=t,r=yt(n),t=r):(Cr=t,t=vt)}else Cr=t,t=vt;else Cr=t,t=vt;return t}function a(){var t,r,n,e,o;if(t=Cr,r=s(),r!==lt){for(n=Cr,e=[],o=B();o!==lt;)e.push(o),o=B();e!==lt?(o=a(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)}else Cr=t,t=vt;return t}function s(){var t,r,n,e,o;if(t=Cr,r=p(),r!==lt){for(n=Cr,e=[],o=B();o!==lt;)e.push(o),o=B();e!==lt?(o=u(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)}else Cr=t,t=vt;return t}function u(){var t,r,n,e,o;if(t=Cr,r=c(),r!==lt){for(n=Cr,e=[],o=B();o!==lt;)e.push(o),o=B();e!==lt?(o=u(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)}else Cr=t,t=vt;return t}function c(){var t;return t=f(),t===lt&&(t=h(),t===lt&&(t=g(),t===lt&&(t=d(),t===lt&&(t=C(),t===lt&&(t=x(),t===lt&&(t=M(),t===lt&&(t=T(),t===lt&&(t=b())))))))),t}function p(){var r,n,o,i;if(r=Cr,dt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(Ct)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=l(),i!==lt?(_r=r,n=_t(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function l(){var t,r,n,e,o;return t=Cr,r=q(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=v(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function f(){var r,n;return r=Cr,xt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(Pt)),n!==lt&&(_r=r,n=Rt()),r=n}function h(){var r,n,o,i;if(r=Cr,Mt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(wt)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=v(),i!==lt?(_r=r,n=Dt(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function v(){var t,r,n,e,o;return t=Cr,r=q(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=v(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function g(){var r,n,o,i;if(r=Cr,Tt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(mt)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=y(),i!==lt?(_r=r,n=bt(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function y(){var t,r,n,e,o;return t=Cr,r=E(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=y(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function d(){var r,n,o,i;if(r=Cr,Ft.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(kt)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=y(),i!==lt?(_r=r,n=qt(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function C(){var r,n,o,i;if(r=Cr,Et.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(St)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=_(),i!==lt?(_r=r,n=It(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function _(){var t,r,n,e,o;return t=Cr,r=A(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=_(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function A(){var t,r,n,e,o,i;return t=Cr,r=q(),r!==lt?(n=z(),n===lt&&(n=gt),n!==lt?(e=q(),e!==lt?(o=z(),o===lt&&(o=gt),o!==lt?(i=q(),i!==lt?(_r=t,r=Ot(r,e,i),t=r):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt),t}function x(){var r,n,o,i;if(r=Cr,zt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(jt)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=P(),i!==lt?(_r=r,n=Ht(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function P(){var t,r,n,e,o;return t=Cr,r=R(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=P(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function R(){var t,r,n,e;return t=Cr,r=q(),r!==lt?(n=z(),n===lt&&(n=gt),n!==lt?(e=q(),e!==lt?(_r=t,r=Qt(r,e),t=r):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt),t}function M(){var r,n,o,i;if(r=Cr,Vt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(Lt)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=w(),i!==lt?(_r=r,n=Zt(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function w(){var t,r,n,e,o;return t=Cr,r=D(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=w(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function D(){var t,r,n,e;return t=Cr,r=q(),r!==lt?(n=z(),n===lt&&(n=gt),n!==lt?(e=q(),e!==lt?(_r=t,r=Qt(r,e),t=r):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt),t}function T(){var r,n,o,i;if(r=Cr,Bt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(Ut)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=m(),i!==lt?(_r=r,n=Gt(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function m(){var t,r,n,e,o;return t=Cr,r=q(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=m(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function b(){var r,n,o,i;if(r=Cr,Jt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(Kt)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=F(),i!==lt?(_r=r,n=Nt(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function F(){var t,r,n,e,o;return t=Cr,r=k(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=F(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function k(){var t,r,n,e,o,i,a,s,u,c,p,l;return t=Cr,r=S(),r!==lt?(n=z(),n===lt&&(n=gt),n!==lt?(e=S(),e!==lt?(o=z(),o===lt&&(o=gt),o!==lt?(i=I(),i!==lt?(a=z(),a!==lt?(s=O(),s!==lt?(u=z(),u===lt&&(u=gt),u!==lt?(c=O(),c!==lt?(p=z(),p===lt&&(p=gt),p!==lt?(l=q(),l!==lt?(_r=t,r=Wt(r,e,i,s,c,l),t=r):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt),t}function q(){var t,r,n,e;return t=Cr,r=E(),r!==lt?(n=z(),n===lt&&(n=gt),n!==lt?(e=E(),e!==lt?(_r=t,r=Xt(r,e),t=r):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt),t}function E(){var t,r;return t=Cr,r=I(),r!==lt&&(_r=t,r=Yt(r)),t=r}function S(){var t;return t=H(),t===lt&&(t=Z()),t}function I(){var t,r,n;return t=Cr,r=L(),r===lt&&(r=gt),r!==lt?(n=H(),n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t===lt&&(t=Cr,r=L(),r===lt&&(r=gt),r!==lt?(n=Z(),n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)):(Cr=t,t=vt)),t}function O(){var r;return 48===t.charCodeAt(Cr)?(r=$t,Cr++):(r=lt,0===Mr&&e(tr)),r===lt&&(49===t.charCodeAt(Cr)?(r=rr,Cr++):(r=lt,0===Mr&&e(nr))),r}function z(){var t,r,n,e,o;if(t=Cr,r=[],n=B(),n!==lt)for(;n!==lt;)r.push(n),n=B();else r=vt;if(r!==lt)if(n=j(),n===lt&&(n=gt),n!==lt){for(e=[],o=B();o!==lt;)e.push(o),o=B();e!==lt?(r=[r,n,e],t=r):(Cr=t,t=vt)}else Cr=t,t=vt;else Cr=t,t=vt;if(t===lt)if(t=Cr,r=j(),r!==lt){for(n=[],e=B();e!==lt;)n.push(e),e=B();n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)}else Cr=t,t=vt;return t}function j(){var r;return 44===t.charCodeAt(Cr)?(r=er,Cr++):(r=lt,0===Mr&&e(or)),r}function H(){var t,r,n;return t=Cr,r=Q(),r!==lt?(n=V(),n===lt&&(n=gt),n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t===lt&&(t=Cr,r=Z(),r!==lt?(n=V(),n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)):(Cr=t,t=vt)),t}function Q(){var r,n,o,i;return r=Cr,n=Z(),n===lt&&(n=gt),n!==lt?(46===t.charCodeAt(Cr)?(o=ir,Cr++):(o=lt,0===Mr&&e(ar)),o!==lt?(i=Z(),i!==lt?(n=[n,o,i],r=n):(Cr=r,r=vt)):(Cr=r,r=vt)):(Cr=r,r=vt),r===lt&&(r=Cr,n=Z(),n!==lt?(46===t.charCodeAt(Cr)?(o=ir,Cr++):(o=lt,0===Mr&&e(ar)),o!==lt?(n=[n,o],r=n):(Cr=r,r=vt)):(Cr=r,r=vt)),r}function V(){var r,n,o,i;return r=Cr,sr.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(ur)),n!==lt?(o=L(),o===lt&&(o=gt),o!==lt?(i=Z(),i!==lt?(n=[n,o,i],r=n):(Cr=r,r=vt)):(Cr=r,r=vt)):(Cr=r,r=vt),r}function L(){var r;return 43===t.charCodeAt(Cr)?(r=cr,Cr++):(r=lt,0===Mr&&e(pr)),r===lt&&(45===t.charCodeAt(Cr)?(r=lr,Cr++):(r=lt,0===Mr&&e(fr))),r}function Z(){var r,n,o;if(r=Cr,n=[],hr.test(t.charAt(Cr))?(o=t.charAt(Cr),Cr++):(o=lt,0===Mr&&e(vr)),o!==lt)for(;o!==lt;)n.push(o),hr.test(t.charAt(Cr))?(o=t.charAt(Cr),Cr++):(o=lt,0===Mr&&e(vr));else n=vt;return n!==lt&&(_r=r,n=gr(n)),r=n}function B(){var r;return yr.test(t.charAt(Cr))?(r=t.charAt(Cr),Cr++):(r=lt,0===Mr&&e(dr)),r}function U(t,r){return"mlazhvcsqt".indexOf(t)===-1?wr=r:(wr[0]+=r[0],wr[1]+=r[1]),br=t,wr.slice(0)}function G(t,r){for(var n=[],e=wr.slice(0),o=0;o<r.length;o+=2){wr=e.slice(0);var i=U(t,r.slice(o,o+2));n=n.concat(i),o==r.length-4&&(Dr=i.slice(0))}return n}function J(){"CcSsQqTt".indexOf(br)==-1&&(Dr=wr.slice(0));var t=[0,0];return t[0]=2*wr[0]-Dr[0],t[1]=2*wr[1]-Dr[1],t}function K(t,r){var n=[r,0];return"H"==t&&(n[1]=wr[1]),U(t,n)}function N(t,r){var n=[0,r];return"V"==t&&(n[0]=wr[0]),U(t,n)}function W(t,r){var n=[t];if(r&&r.length>1)for(var e=r[1],o=0;o<e.length;o++)n.push(e[o]);return n}function X(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function Y(t,r){return t[0]*r[0]+t[1]*r[1]}function $(t,r){return Y(t,r)/(X(t)*X(r))}function tt(t,r){var n=1;return t[0]*r[1]-t[1]*r[0]<0&&(n=-1),n*Math.acos($(t,r))}function rt(t,r){var n=Math.cos(r),e=Math.sin(r);return[n*t[0]+e*t[1],-1*e*t[0]+n*t[1]]}function nt(t,r){var n=Math.cos(r),e=Math.sin(r);return[n*t[0]-e*t[1],e*t[0]+n*t[1]]}function et(t,r){return[(t[0]-r[0])/2,(t[1]-r[1])/2]}function ot(t,r){return[(t[0]+r[0])/2,(t[1]+r[1])/2]}function it(t,r){return[t[0]*r[0],t[1]*r[1]]}function at(t,r){return[t*r[0],t*r[1]]}function st(t,r){return[t[0]+r[0],t[1]+r[1]]}function ut(t,r,n,e,o,i,a){if(0==r||0==n)return void Tr.push({type:"lineTo",args:a});var e=e*(Math.PI/180);r=Math.abs(r),n=Math.abs(n);var s=rt(et(t,a),e),u=it(s,s),c=Math.pow(r,2),p=Math.pow(n,2),l=Math.sqrt(u[0]/c+u[1]/p);l>1&&(r*=l,n*=l,c=Math.pow(r,2),p=Math.pow(n,2));var f=Math.sqrt((c*p-c*u[1]-p*u[0])/(c*u[1]+p*u[0]));o==i&&(f*=-1);var h=at(f,[r*s[1]/n,-n*s[0]/r]),v=st(nt(h,e),ot(t,a)),g=[(s[0]-h[0])/r,(s[1]-h[1])/n],y=[(-1*s[0]-h[0])/r,(-1*s[1]-h[1])/n],d=tt([1,0],g),C=tt(g,y),_=d,A=d+C;Tr.push({type:"save",args:[]},{type:"translate",args:[v[0],v[1]]},{type:"rotate",args:[e]},{type:"scale",args:[r,n]},{type:"arc",args:[0,0,1,_,A,1-i]},{type:"restore",args:[]})}var ct,pt=arguments.length>1?arguments[1]:{},lt={},ft={svg_path:i},ht=i,vt=lt,gt=null,yt=function(t){return Tr},dt=/^[Mm]/,Ct={type:"class",value:"[Mm]",description:"[Mm]"},_t=function(t,r){var n=t;mr&&(n="M",mr=!1),Tr.push({type:"moveTo",args:U(n,r[0])});for(var e=1;e<r.length;e++)Tr.push({type:"lineTo",args:U(t,r[e])})},At=function(t,r){return W(t,r)},xt=/^[Zz]/,Pt={type:"class",value:"[Zz]",description:"[Zz]"},Rt=function(){Tr.push({type:"closePath",args:[]})},Mt=/^[Ll]/,wt={type:"class",value:"[Ll]",description:"[Ll]"},Dt=function(t,r){for(var n=0;n<r.length;n++)Tr.push({type:"lineTo",args:U(t,r[n])})},Tt=/^[Hh]/,mt={type:"class",value:"[Hh]",description:"[Hh]"},bt=function(t,r){for(var n=0;n<r.length;n++)Tr.push({type:"lineTo",args:K(t,r[n])})},Ft=/^[Vv]/,kt={type:"class",value:"[Vv]",description:"[Vv]"},qt=function(t,r){for(var n=0;n<r.length;n++)Tr.push({type:"lineTo",args:N(t,r[n])})},Et=/^[Cc]/,St={type:"class",value:"[Cc]",description:"[Cc]"},It=function(t,r){for(var n=0;n<r.length;n++)Tr.push({type:"bezierCurveTo",args:G(t,r[n])})},Ot=function(t,r,n){return t.concat(r,n)},zt=/^[Ss]/,jt={type:"class",value:"[Ss]",description:"[Ss]"},Ht=function(t,r){for(var n=0;n<r.length;n++)Tr.push({type:"bezierCurveTo",args:J().concat(G(t,r[n]))})},Qt=function(t,r){return t.concat(r)},Vt=/^[Qq]/,Lt={type:"class",value:"[Qq]",description:"[Qq]"},Zt=function(t,r){for(var n=0;n<r.length;n++)Tr.push({type:"quadraticCurveTo",args:G(t,r[n])})},Bt=/^[Tt]/,Ut={type:"class",value:"[Tt]",description:"[Tt]"},Gt=function(t,r){for(var n=0;n<r.length;n++){var e=J();Tr.push({type:"quadraticCurveTo",args:e.concat(G(t,r[n]))}),Dr=e.slice(0)}},Jt=/^[Aa]/,Kt={type:"class",value:"[Aa]",description:"[Aa]"},Nt=function(t,r){for(var n=0;n<r.length;n++){var e=[wr.slice()],o=[U(t,r[n].slice(-2))];absArgs=e.concat(r[n].slice(0,-2),o),ut.apply(this,absArgs)}},Wt=function(t,r,n,e,o,i){return[parseFloat(t),parseFloat(r),parseFloat(n.join("")),parseInt(e),parseInt(o),i[0],i[1]]},Xt=function(t,r){return[t,r]},Yt=function(t){return parseFloat(t.join(""))},$t="0",tr={type:"literal",value:"0",description:'"0"'},rr="1",nr={type:"literal",value:"1",description:'"1"'},er=",",or={type:"literal",value:",",description:'","'},ir=".",ar={type:"literal",value:".",description:'"."'},sr=/^[eE]/,ur={type:"class",value:"[eE]",description:"[eE]"},cr="+",pr={type:"literal",value:"+",description:'"+"'},lr="-",fr={type:"literal",value:"-",description:'"-"'},hr=/^[0-9]/,vr={type:"class",value:"[0-9]",description:"[0-9]"},gr=function(t){return t.join("")},yr=/^[ \t\n\r]/,dr={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},Cr=0,_r=0,Ar=0,xr={line:1,column:1,seenCR:!1},Pr=0,Rr=[],Mr=0;if("startRule"in pt){if(!(pt.startRule in ft))throw new Error("Can't start parsing from rule \""+pt.startRule+'".');ht=ft[pt.startRule]}var wr=[0,0],Dr=[0,0],Tr=[],mr=!0,br="";if(ct=ht(),ct!==lt&&Cr===t.length)return ct;throw ct!==lt&&Cr<t.length&&e({type:"end",description:"end of input"}),o(null,Rr,Pr)}return t(r,Error),{SyntaxError:r,parse:n}}();for(var n=["closePath","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","rect","arc","arcTo","ellipse","isPointInPath","isPointInStroke"],e=0;e<n.length;e++){var o=n[e];t.prototype[o]=r(o)}t.prototype.addPath=function(t,r){var n=!1;r&&r.hasOwnProperty("a")&&r.hasOwnProperty("b")&&r.hasOwnProperty("c")&&r.hasOwnProperty("d")&&r.hasOwnProperty("e")&&r.hasOwnProperty("f")&&(n=!0,this.ops_.push({type:"save",args:[]}),this.ops_.push({type:"transform",args:[r.a,r.b,r.c,r.d,r.e,r.f]})),this.ops_=this.ops_.concat(t.ops_),n&&this.ops_.push({type:"restore",args:[]})},original_fill=CanvasRenderingContext2D.prototype.fill,original_stroke=CanvasRenderingContext2D.prototype.stroke,original_clip=CanvasRenderingContext2D.prototype.clip,original_is_point_in_path=CanvasRenderingContext2D.prototype.isPointInPath,original_is_point_in_stroke=CanvasRenderingContext2D.prototype.isPointInStroke,CanvasRenderingContext2D.prototype.fill=function(r){if(r instanceof t){this.beginPath();for(var n=0,e=r.ops_.length;n<e;n++){var o=r.ops_[n];CanvasRenderingContext2D.prototype[o.type].apply(this,o.args)}original_fill.apply(this,Array.prototype.slice.call(arguments,1))}else original_fill.apply(this,arguments)},CanvasRenderingContext2D.prototype.stroke=function(r){if(r instanceof t){this.beginPath();for(var n=0,e=r.ops_.length;n<e;n++){var o=r.ops_[n];CanvasRenderingContext2D.prototype[o.type].apply(this,o.args)}original_stroke.call(this)}else original_stroke.call(this)},CanvasRenderingContext2D.prototype.clip=function(r){if(r instanceof t){this.beginPath();for(var n=0,e=r.ops_.length;n<e;n++){var o=r.ops_[n];CanvasRenderingContext2D.prototype[o.type].apply(this,o.args)}original_clip.apply(this,Array.prototype.slice.call(arguments,1))}else original_clip.apply(this,arguments)},CanvasRenderingContext2D.prototype.isPointInPath=function(r){if(r instanceof t){this.beginPath();for(var n=0,e=r.ops_.length;n<e;n++){var o=r.ops_[n];CanvasRenderingContext2D.prototype[o.type].apply(this,o.args)}return original_is_point_in_path.apply(this,Array.prototype.slice.call(arguments,1))}return original_is_point_in_path.apply(this,arguments)},CanvasRenderingContext2D.prototype.isPointInStroke=function(r){if(r instanceof t){this.beginPath();for(var n=0,e=r.ops_.length;n<e;n++){var o=r.ops_[n];CanvasRenderingContext2D.prototype[o.type].apply(this,o.args)}return original_is_point_in_stroke.apply(this,Array.prototype.slice.call(arguments,1))}return original_is_point_in_stroke.apply(this,arguments)},Path2D=t}();
},{}],2:[function(_dereq_,module,exports){
!function(){var f={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};"function"==typeof define&&define.amd?define(f):"object"==typeof module&&module.exports?module.exports=f:this.colorbrewer=f}();
},{}],3:[function(_dereq_,module,exports){
module.exports=_dereq_("./colorbrewer.js");
},{"./colorbrewer.js":2}],4:[function(_dereq_,module,exports){
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.d3_ease={})}(this,function(n){"use strict";function t(n){return+n}function e(n){return n*n}function u(n){return n*(2-n)}function r(n){return((n*=2)<=1?n*n:--n*(2-n)+1)/2}function a(n){return n*n*n}function o(n){return--n*n*n+1}function i(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}function c(n){return 1-Math.cos(n*y)}function s(n){return Math.sin(n*y)}function f(n){return(1-Math.cos(E*n))/2}function h(n){return Math.pow(2,10*n-10)}function p(n){return 1-Math.pow(2,-10*n)}function M(n){return((n*=2)<=1?Math.pow(2,10*n-10):2-Math.pow(2,10-10*n))/2}function I(n){return 1-Math.sqrt(1-n*n)}function d(n){return Math.sqrt(1- --n*n)}function O(n){return((n*=2)<=1?1-Math.sqrt(1-n*n):Math.sqrt(1-(n-=2)*n)+1)/2}function l(n){return 1-x(1-n)}function x(n){return(n=+n)<P?g*n*n:n<k?g*(n-=b)*n+q:n<S?g*(n-=Q)*n+j:g*(n-=L)*n+_}function w(n){return((n*=2)<=1?1-x(1-n):x(n-1)+1)/2}var m=3,v=function n(t){function e(n){return Math.pow(n,t)}return t=+t,e.exponent=n,e}(m),B=function n(t){function e(n){return 1-Math.pow(1-n,t)}return t=+t,e.exponent=n,e}(m),C=function n(t){function e(n){return((n*=2)<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}return t=+t,e.exponent=n,e}(m),E=Math.PI,y=E/2,P=4/11,b=6/11,k=8/11,q=.75,Q=9/11,S=10/11,j=.9375,L=21/22,_=63/64,g=1/P/P,z=1.70158,A=function n(t){function e(n){return n*n*((t+1)*n-t)}return t=+t,e.overshoot=n,e}(z),D=function n(t){function e(n){return--n*n*((t+1)*n+t)+1}return t=+t,e.overshoot=n,e}(z),F=function n(t){function e(n){return((n*=2)<1?n*n*((t+1)*n-t):(n-=2)*n*((t+1)*n+t)+2)/2}return t=+t,e.overshoot=n,e}(z),G=2*Math.PI,H=1,J=.3,K=function n(t,e){function u(n){return t*Math.pow(2,10*--n)*Math.sin((r-n)/e)}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=G);return u.amplitude=function(t){return n(t,e*G)},u.period=function(e){return n(t,e)},u}(H,J),N=function n(t,e){function u(n){return 1-t*Math.pow(2,-10*(n=+n))*Math.sin((n+r)/e)}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=G);return u.amplitude=function(t){return n(t,e*G)},u.period=function(e){return n(t,e)},u}(H,J),R=function n(t,e){function u(n){return((n=2*n-1)<0?t*Math.pow(2,10*n)*Math.sin((r-n)/e):2-t*Math.pow(2,-10*n)*Math.sin((r+n)/e))/2}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=G);return u.amplitude=function(t){return n(t,e*G)},u.period=function(e){return n(t,e)},u}(H,J),T="0.7.0";n.version=T,n.easeLinear=t,n.easeQuad=r,n.easeQuadIn=e,n.easeQuadOut=u,n.easeQuadInOut=r,n.easeCubic=i,n.easeCubicIn=a,n.easeCubicOut=o,n.easeCubicInOut=i,n.easePoly=C,n.easePolyIn=v,n.easePolyOut=B,n.easePolyInOut=C,n.easeSin=f,n.easeSinIn=c,n.easeSinOut=s,n.easeSinInOut=f,n.easeExp=M,n.easeExpIn=h,n.easeExpOut=p,n.easeExpInOut=M,n.easeCircle=O,n.easeCircleIn=I,n.easeCircleOut=d,n.easeCircleInOut=O,n.easeBounce=x,n.easeBounceIn=l,n.easeBounceOut=x,n.easeBounceInOut=w,n.easeBack=F,n.easeBackIn=A,n.easeBackOut=D,n.easeBackInOut=F,n.easeElastic=N,n.easeElasticIn=K,n.easeElasticOut=N,n.easeElasticInOut=R});
},{}],5:[function(_dereq_,module,exports){
!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function r(n){return null===n?NaN:+n}function i(n){return!isNaN(n)}function u(n){return{left:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var u=r+i>>>1;n(t[u],e)<0?r=u+1:i=u}return r},right:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var u=r+i>>>1;n(t[u],e)>0?i=u:r=u+1}return r}}}function o(n){return n.length}function a(n){for(var t=1;n*t%1;)t*=10;return t}function c(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function l(){this._=Object.create(null)}function f(n){return(n+="")===ho||n[0]===po?po+n:n}function s(n){return(n+="")[0]===po?n.slice(1):n}function h(n){return f(n)in this._}function p(n){return(n=f(n))in this._&&delete this._[n]}function g(){var n=[];for(var t in this._)n.push(s(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function y(){this._=Object.create(null)}function m(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=go.length;e<r;++e){var i=go[e]+t;if(i in n)return i}}function b(){}function _(){}function w(n){function t(){for(var t,r=e,i=-1,u=r.length;++i<u;)(t=r[i].on)&&t.apply(this,arguments);return n}var e=[],r=new l;return t.on=function(t,i){var u,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,u=e.indexOf(o)).concat(e.slice(u+1)),r.remove(t)),i&&e.push(r.set(t,{on:i})),n)},t}function S(){to.event.preventDefault()}function k(){for(var n,t=to.event;n=t.sourceEvent;)t=n;return t}function N(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(i){try{var u=i.sourceEvent=to.event;i.target=n,to.event=i,t[i.type].apply(e,r)}finally{to.event=u}}},t}function E(n){return yo(n,bo),n}function A(n){return"function"==typeof n?n:function(){return mo(n,this)}}function C(n){return"function"==typeof n?n:function(){return Mo(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function i(){this.setAttribute(n,t)}function u(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=to.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?u:i}function q(n){return n.trim().replace(/\s+/g," ")}function L(n){return new RegExp("(?:^|\\s+)"+to.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<i;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<i;)n[e](this,r)}n=T(n).map(D);var i=n.length;return"function"==typeof t?r:e}function D(n){var t=L(n);return function(e,r){if(i=e.classList)return r?i.add(n):i.remove(n);var i=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||e.setAttribute("class",q(i+" "+n))):e.setAttribute("class",q(i.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function i(){this.style.setProperty(n,t,e)}function u(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?u:i}function U(n,t){function e(){delete this[n]}function r(){this[n]=t}function i(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?i:r}function j(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e?t.createElementNS(e,n):t.createElement(n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=to.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return xo(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;e<r;e++)for(var i,u=n[e],o=0,a=u.length;o<a;o++)(i=u[o])&&t(i,o,e);return n}function Z(n){return yo(n,wo),n}function V(n){var t,e;return function(r,i,u){var o,a=n[u].update,c=a.length;for(u!=e&&(e=u,t=0),i>=t&&(t=i+1);!(o=a[t])&&++t<c;);return o}}function X(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function i(){var i=c(t,ro(arguments));r.call(this),this.addEventListener(n,this[o]=i,i.$=e),i._=t}function u(){var t,e=new RegExp("^__on([^.]+)"+to.requote(n)+"$");for(var r in this)if(t=r.match(e)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),c=$;a>0&&(n=n.slice(0,a));var l=So.get(n);return l&&(n=l,c=B),a?t?i:r:t?b:u}function $(n,t){return function(e){var r=to.event;to.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{to.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++No,i="click"+r,u=to.select(t(e)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==ko&&(ko=!("onselectstart"in e)&&x(e.style,"userSelect")),ko){var o=n(e).style,a=o[ko];o[ko]="none"}return function(n){if(u.on(r,null),ko&&(o[ko]=a),n){var t=function(){u.on(i,null)};u.on(i,function(){S(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();if(Eo<0){var u=t(n);if(u.scrollX||u.scrollY){r=to.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Eo=!(o.f||o.e),r.remove()}}return Eo?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}function G(){return to.event.changedTouches[0].identifier}function K(n){return n>0?1:n<0?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nn(n){return n>1?0:n<-1?zo:Math.acos(n)}function tn(n){return n>1?To:n<-1?-To:Math.asin(n)}function en(n){return((n=Math.exp(n))-1/n)/2}function rn(n){return((n=Math.exp(n))+1/n)/2}function un(n){return((n=Math.exp(2*n))-1)/(n+1)}function on(n){return(n=Math.sin(n/2))*n}function an(){}function cn(n,t,e){return this instanceof cn?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof cn?new cn(n.h,n.s,n.l):_n(""+n,wn,cn):new cn(n,t,e)}function ln(n,t,e){function r(n){return n>360?n-=360:n<0&&(n+=360),n<60?u+(o-u)*n/60:n<180?o:n<240?u+(o-u)*(240-n)/60:u}function i(n){return Math.round(255*r(n))}var u,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:t<0?0:t>1?1:t,e=e<0?0:e>1?1:e,o=e<=.5?e*(1+t):e+t-e*t,u=2*e-o,new mn(i(n+120),i(n),i(n-120))}function fn(n,t,e){return this instanceof fn?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof fn?new fn(n.h,n.c,n.l):n instanceof hn?gn(n.l,n.a,n.b):gn((n=Sn((n=to.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new fn(n,t,e)}function sn(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new hn(e,Math.cos(n*=Ro)*t,Math.sin(n)*t)}function hn(n,t,e){return this instanceof hn?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof hn?new hn(n.l,n.a,n.b):n instanceof fn?sn(n.h,n.c,n.l):Sn((n=mn(n)).r,n.g,n.b):new hn(n,t,e)}function pn(n,t,e){var r=(n+16)/116,i=r+t/500,u=r-e/200;return i=vn(i)*Vo,r=vn(r)*Xo,u=vn(u)*$o,new mn(yn(3.2404542*i-1.5371385*r-.4985314*u),yn(-.969266*i+1.8760108*r+.041556*u),yn(.0556434*i-.2040259*r+1.0572252*u))}function gn(n,t,e){return n>0?new fn(Math.atan2(e,t)*Do,Math.sqrt(t*t+e*e),n):new fn(NaN,NaN,n)}function vn(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function dn(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function yn(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function mn(n,t,e){return this instanceof mn?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof mn?new mn(n.r,n.g,n.b):_n(""+n,mn,ln):new mn(n,t,e)}function Mn(n){return new mn(n>>16,n>>8&255,255&n)}function xn(n){return Mn(n)+""}function bn(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function _n(n,t,e){var r,i,u,o=0,a=0,c=0;if(r=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Nn(i[0]),Nn(i[1]),Nn(i[2]))}return(u=Jo.get(n))?t(u.r,u.g,u.b):(null==n||"#"!==n.charAt(0)||isNaN(u=parseInt(n.slice(1),16))||(4===n.length?(o=(3840&u)>>4,o|=o>>4,a=240&u,a|=a>>4,c=15&u,c|=c<<4):7===n.length&&(o=(16711680&u)>>16,a=(65280&u)>>8,c=255&u)),t(o,a,c))}function wn(n,t,e){var r,i,u=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-u,c=(o+u)/2;return a?(i=c<.5?a/(o+u):a/(2-o-u),r=n==o?(t-e)/a+(t<e?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=NaN,i=c>0&&c<1?0:r),new cn(r,i,c)}function Sn(n,t,e){n=kn(n),t=kn(t),e=kn(e);var r=dn((.4124564*n+.3575761*t+.1804375*e)/Vo),i=dn((.2126729*n+.7151522*t+.072175*e)/Xo),u=dn((.0193339*n+.119192*t+.9503041*e)/$o);return hn(116*i-16,500*(r-i),200*(i-u))}function kn(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Nn(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function En(n){return"function"==typeof n?n:function(){return n}}function An(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Cn(t,e,n,r)}}function Cn(n,t,e,r){function i(){var n,t=c.status;if(!t&&qn(c)||t>=200&&t<300||304===t){try{n=e.call(u,c)}catch(n){return void o.error.call(u,n)}o.load.call(u,n)}else o.error.call(u,c)}var u={},o=to.dispatch("beforesend","progress","load","error"),a={},c=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=i:c.onreadystatechange=function(){c.readyState>3&&i()},c.onprogress=function(n){var t=to.event;to.event=n;try{o.progress.call(u,c)}finally{to.event=t}},u.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",u)},u.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",u):t},u.responseType=function(n){return arguments.length?(l=n,u):l},u.response=function(n){return e=n,u},["get","post"].forEach(function(n){u[n]=function(){return u.send.apply(u,[n].concat(ro(arguments)))}}),u.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),c.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),c.setRequestHeader)for(var f in a)c.setRequestHeader(f,a[f]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=l&&(c.responseType=l),null!=i&&u.on("error",i).on("load",function(n){i(null,n)}),o.beforesend.call(u,c),c.send(null==r?null:r),u},u.abort=function(){return c.abort(),u},to.rebind(u,o,"on"),null==r?u:u.get(zn(r))}function zn(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function qn(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function Ln(){var n=Tn(),t=Rn()-n;t>24?(isFinite(t)&&(clearTimeout(na),na=setTimeout(Ln,t)),Qo=0):(Qo=1,ea(Ln))}function Tn(){var n=Date.now();for(ta=Go;ta;)n>=ta.t&&(ta.f=ta.c(n-ta.t)),ta=ta.n;return n}function Rn(){for(var n,t=Go,e=1/0;t;)t.f?t=n?n.n=t.n:Go=t.n:(t.t<e&&(e=t.t),t=(n=t).n);return Ko=n,e}function Dn(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Pn(n,t){var e=Math.pow(10,3*so(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function Un(n){var t=n.decimal,e=n.thousands,r=n.grouping,i=n.currency,u=r&&e?function(n,t){for(var i=n.length,u=[],o=0,a=r[0],c=0;i>0&&a>0&&(c+a+1>t&&(a=Math.max(1,t-c)),u.push(n.substring(i-=a,i+a)),!((c+=a+1)>t));)a=r[o=(o+1)%r.length];return u.reverse().join(e)}:m;return function(n){var e=ia.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"-",c=e[4]||"",l=e[5],f=+e[6],s=e[7],h=e[8],p=e[9],g=1,v="",d="",y=!1,m=!0;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===o)&&(l=r="0",o="="),p){case"n":s=!0,p="g";break;case"%":g=100,d="%",p="f";break;case"p":g=100,d="%",p="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+p.toLowerCase());case"c":m=!1;case"d":y=!0,h=0;break;case"s":g=-1,p="r"}"$"===c&&(v=i[0],d=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=ua.get(p)||jn;var M=l&&s;return function(n){var e=d;if(y&&n%1)return"";var i=n<0||0===n&&1/n<0?(n=-n,"-"):"-"===a?"":a;if(g<0){var c=to.formatPrefix(n,h);n=c.scale(n),e=c.symbol+d}else n*=g;n=p(n,h);var x,b,_=n.lastIndexOf(".");if(_<0){var w=m?n.lastIndexOf("e"):-1;w<0?(x=n,b=""):(x=n.substring(0,w),b=n.substring(w))}else x=n.substring(0,_),b=t+n.substring(_+1);!l&&s&&(x=u(x,1/0));var S=v.length+x.length+b.length+(M?0:i.length),k=S<f?new Array(S=f-S+1).join(r):"";return M&&(x=u(k+x,k.length?f-b.length:1/0)),i+=v,n=x+b,("<"===o?i+n+k:">"===o?k+i+n:"^"===o?k.substring(0,S>>=1)+i+n+k.substring(S):i+(M?n:k+n))+e}}}function jn(n){return n+""}function Fn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Hn(n,t,e){function r(t){var e=n(t),r=u(e,1);return t-e<r-t?e:r}function i(e){return t(e=n(new aa(e-1)),1),e}function u(n,e){return t(n=new aa(+n),e),n}function o(n,r,u){var o=i(n),a=[];if(u>1)for(;o<r;)e(o)%u||a.push(new Date(+o)),t(o,1);else for(;o<r;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{aa=Fn;var r=new Fn;return r._=n,o(r,t,e)}finally{aa=Date}}n.floor=n,n.round=r,n.ceil=i,n.offset=u,n.range=o;var c=n.utc=On(n);return c.floor=c,c.round=On(r),c.ceil=On(i),c.offset=On(u),c.range=a,n}function On(n){return function(t,e){try{aa=Fn;var r=new Fn;return r._=t,n(r,e)._}finally{aa=Date}}}function In(n){function t(n){function t(t){for(var e,i,u,o=[],a=-1,c=0;++a<r;)37===n.charCodeAt(a)&&(o.push(n.slice(c,a)),null!=(i=la[e=n.charAt(++a)])&&(e=n.charAt(++a)),(u=A[e])&&(e=u(t,null==i?"e"===e?" ":"0":i)),o.push(e),c=a+1);return o.push(n.slice(c,a)),o.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=e(r,n,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var u=null!=r.Z&&aa!==Fn,o=new(u?Fn:aa);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),u?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var i,u,o,a=0,c=t.length,l=e.length;a<c;){if(r>=l)return-1;if(i=t.charCodeAt(a++),37===i){if(o=t.charAt(a++),u=C[o in la?t.charAt(a++):o],!u||(r=u(n,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){N.lastIndex=0;var r=N.exec(t.slice(e));return r?(n.m=E.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){S.lastIndex=0;var r=S.exec(t.slice(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,A.c.toString(),t,r)}function c(n,t,r){return e(n,A.x.toString(),t,r)}function l(n,t,r){return e(n,A.X.toString(),t,r)}function f(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var s=n.dateTime,h=n.date,p=n.time,g=n.periods,v=n.days,d=n.shortDays,y=n.months,m=n.shortMonths;t.utc=function(n){function e(n){try{aa=Fn;var t=new aa;return t._=n,r(t)}finally{aa=Date}}var r=t(n);return e.parse=function(n){try{aa=Fn;var t=r.parse(n);return t&&t._}finally{aa=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ct;var M=to.map(),x=Zn(v),b=Vn(v),_=Zn(d),w=Vn(d),S=Zn(y),k=Vn(y),N=Zn(m),E=Vn(m);g.forEach(function(n,t){M.set(n.toLowerCase(),t)});var A={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return m[n.getMonth()]},B:function(n){return y[n.getMonth()]},c:t(s),d:function(n,t){return Yn(n.getDate(),t,2)},e:function(n,t){return Yn(n.getDate(),t,2)},H:function(n,t){return Yn(n.getHours(),t,2)},I:function(n,t){return Yn(n.getHours()%12||12,t,2)},j:function(n,t){return Yn(1+oa.dayOfYear(n),t,3)},L:function(n,t){return Yn(n.getMilliseconds(),t,3)},m:function(n,t){return Yn(n.getMonth()+1,t,2)},M:function(n,t){return Yn(n.getMinutes(),t,2)},p:function(n){return g[+(n.getHours()>=12)]},S:function(n,t){return Yn(n.getSeconds(),t,2)},U:function(n,t){return Yn(oa.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Yn(oa.mondayOfYear(n),t,2)},x:t(h),X:t(p),y:function(n,t){return Yn(n.getFullYear()%100,t,2)},Y:function(n,t){return Yn(n.getFullYear()%1e4,t,4)},Z:ot,"%":function(){return"%"}},C={a:r,A:i,b:u,B:o,c:a,d:nt,e:nt,H:et,I:et,j:tt,L:ut,m:Qn,M:rt,p:f,S:it,U:$n,w:Xn,W:Bn,x:c,X:l,y:Jn,Y:Wn,Z:Gn,"%":at};return t}function Yn(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",u=i.length;return r+(u<e?new Array(e-u+1).join(t)+i:i)}function Zn(n){return new RegExp("^(?:"+n.map(to.requote).join("|")+")","i")}function Vn(n){for(var t=new l,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function Xn(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function $n(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function Bn(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Wn(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Jn(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+2));return r?(n.y=Kn(+r[0]),e+r[0].length):-1}function Gn(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Kn(n){return n+(n>68?1900:2e3)}function Qn(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function nt(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function tt(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function et(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function rt(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function it(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ut(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function ot(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=so(t)/60|0,i=so(t)%60;return e+Yn(r,"0",2)+Yn(i,"0",2)}function at(n,t,e){sa.lastIndex=0;var r=sa.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ct(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function lt(){}function ft(n,t,e){var r=e.s=n+t,i=r-n,u=r-i;e.t=n-u+(t-i)}function st(n,t){n&&va.hasOwnProperty(n.type)&&va[n.type](n,t)}function ht(n,t,e){var r,i=-1,u=n.length-e;for(t.lineStart();++i<u;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function pt(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)ht(n[e],t,1);t.polygonEnd()}function gt(){function n(n,t){n*=Ro,t=t*Ro/2+zo/4;var e=n-r,o=e>=0?1:-1,a=o*e,c=Math.cos(t),l=Math.sin(t),f=u*l,s=i*c+f*Math.cos(a),h=f*o*Math.sin(a);ya.add(Math.atan2(h,s)),r=n,i=c,u=l}var t,e,r,i,u;ma.point=function(o,a){ma.point=n,r=(t=o)*Ro,i=Math.cos(a=(e=a)*Ro/2+zo/4),u=Math.sin(a)},ma.lineEnd=function(){n(t,e)}}function vt(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function dt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function yt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function mt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Mt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function xt(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function bt(n){return[Math.atan2(n[1],n[0]),tn(n[2])]}function _t(n,t){return so(n[0]-t[0])<Ao&&so(n[1]-t[1])<Ao}function wt(n,t){n*=Ro;var e=Math.cos(t*=Ro);St(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function St(n,t,e){++Ma,ba+=(n-ba)/Ma,_a+=(t-_a)/Ma,wa+=(e-wa)/Ma}function kt(){function n(n,i){n*=Ro;var u=Math.cos(i*=Ro),o=u*Math.cos(n),a=u*Math.sin(n),c=Math.sin(i),l=Math.atan2(Math.sqrt((l=e*c-r*a)*l+(l=r*o-t*c)*l+(l=t*a-e*o)*l),t*o+e*a+r*c);xa+=l,Sa+=l*(t+(t=o)),ka+=l*(e+(e=a)),Na+=l*(r+(r=c)),St(t,e,r)}var t,e,r;za.point=function(i,u){i*=Ro;var o=Math.cos(u*=Ro);t=o*Math.cos(i),e=o*Math.sin(i),r=Math.sin(u),za.point=n,St(t,e,r)}}function Nt(){za.point=wt}function Et(){function n(n,t){n*=Ro;var e=Math.cos(t*=Ro),o=e*Math.cos(n),a=e*Math.sin(n),c=Math.sin(t),l=i*c-u*a,f=u*o-r*c,s=r*a-i*o,h=Math.sqrt(l*l+f*f+s*s),p=r*o+i*a+u*c,g=h&&-nn(p)/h,v=Math.atan2(h,p);Ea+=g*l,Aa+=g*f,Ca+=g*s,xa+=v,Sa+=v*(r+(r=o)),ka+=v*(i+(i=a)),Na+=v*(u+(u=c)),St(r,i,u)}var t,e,r,i,u;za.point=function(o,a){t=o,e=a,za.point=n,o*=Ro;var c=Math.cos(a*=Ro);r=c*Math.cos(o),i=c*Math.sin(o),u=Math.sin(a),St(r,i,u)},za.lineEnd=function(){n(t,e),za.lineEnd=Nt,za.point=wt}}function At(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function Ct(){return!0}function zt(n,t,e,r,i){var u=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(_t(e,r)){i.lineStart();for(var a=0;a<t;++a)i.point((e=n[a])[0],e[1]);return void i.lineEnd()}var c=new Lt(e,n,null,!0),l=new Lt(e,null,c,!1);c.o=l,u.push(c),o.push(l),c=new Lt(r,n,null,!1),l=new Lt(r,null,c,!0),c.o=l,u.push(c),o.push(l)}}),o.sort(t),qt(u),qt(o),u.length){for(var a=0,c=e,l=o.length;a<l;++a)o[a].e=c=!c;for(var f,s,h=u[0];;){for(var p=h,g=!0;p.v;)if((p=p.n)===h)return;f=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(var a=0,l=f.length;a<l;++a)i.point((s=f[a])[0],s[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(g){f=p.p.z;for(var a=f.length-1;a>=0;--a)i.point((s=f[a])[0],s[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,f=p.z,g=!g}while(!p.v);i.lineEnd()}}}function qt(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function Lt(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Tt(n,t,e,r){return function(i,u){function o(t,e){var r=i(t,e);n(t=r[0],e=r[1])&&u.point(t,e)}function a(n,t){var e=i(n,t);d.point(e[0],e[1])}function c(){m.point=a,d.lineStart()}function l(){m.point=o,d.lineEnd()}function f(n,t){v.push([n,t]);var e=i(n,t);x.point(e[0],e[1])}function s(){x.lineStart(),v=[]}function h(){f(v[0][0],v[0][1]),x.lineEnd();var n,t=x.clean(),e=M.buffer(),r=e.length;if(v.pop(),g.push(v),v=null,r)if(1&t){n=e[0];var i,r=n.length-1,o=-1;if(r>0){for(b||(u.polygonStart(),b=!0),u.lineStart();++o<r;)u.point((i=n[o])[0],i[1]);u.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),p.push(e.filter(Rt))}var p,g,v,d=t(u),y=i.invert(r[0],r[1]),m={point:o,lineStart:c,lineEnd:l,polygonStart:function(){m.point=f,m.lineStart=s,m.lineEnd=h,p=[],g=[]},polygonEnd:function(){m.point=o,m.lineStart=c,m.lineEnd=l,p=to.merge(p);var n=Ht(y,g);p.length?(b||(u.polygonStart(),b=!0),zt(p,Pt,n,e,u)):n&&(b||(u.polygonStart(),b=!0),u.lineStart(),e(null,null,1,u),u.lineEnd()),b&&(u.polygonEnd(),b=!1),p=g=null},sphere:function(){u.polygonStart(),u.lineStart(),e(null,null,1,u),u.lineEnd(),u.polygonEnd()}},M=Dt(),x=t(M),b=!1;return m}}function Rt(n){return n.length>1}function Dt(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Pt(n,t){return((n=n.x)[0]<0?n[1]-To-Ao:To-n[1])-((t=t.x)[0]<0?t[1]-To-Ao:To-t[1])}function Ut(n){var t,e=NaN,r=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(u,o){var a=u>0?zo:-zo,c=so(u-e);so(c-zo)<Ao?(n.point(e,r=(r+o)/2>0?To:-To),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(u,r),t=0):i!==a&&c>=zo&&(so(e-i)<Ao&&(e-=i*Ao),so(u-a)<Ao&&(u-=a*Ao),r=jt(e,r,u,o),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=u,r=o),i=a},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}function jt(n,t,e,r){var i,u,o=Math.sin(n-e);return so(o)>Ao?Math.atan((Math.sin(t)*(u=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(t))*Math.sin(n))/(i*u*o)):(t+r)/2}function Ft(n,t,e,r){var i;if(null==n)i=e*To,r.point(-zo,i),r.point(0,i),r.point(zo,i),r.point(zo,0),r.point(zo,-i),r.point(0,-i),r.point(-zo,-i),r.point(-zo,0),r.point(-zo,i);else if(so(n[0]-t[0])>Ao){var u=n[0]<t[0]?zo:-zo;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(t[0],t[1])}function Ht(n,t){var e=n[0],r=n[1],i=[Math.sin(e),-Math.cos(e),0],u=0,o=0;ya.reset();for(var a=0,c=t.length;a<c;++a){var l=t[a],f=l.length;if(f)for(var s=l[0],h=s[0],p=s[1]/2+zo/4,g=Math.sin(p),v=Math.cos(p),d=1;;){d===f&&(d=0),n=l[d];var y=n[0],m=n[1]/2+zo/4,M=Math.sin(m),x=Math.cos(m),b=y-h,_=b>=0?1:-1,w=_*b,S=w>zo,k=g*M;if(ya.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),u+=S?b+_*qo:b,S^h>=e^y>=e){var N=yt(vt(s),vt(n));xt(N);var E=yt(i,N);xt(E);var A=(S^b>=0?-1:1)*tn(E[2]);(r>A||r===A&&(N[0]||N[1]))&&(o+=S^b>=0?1:-1)}if(!d++)break;h=y,g=M,v=x,s=n}}return(u<-Ao||u<Ao&&ya<0)^1&o}function Ot(n){function t(n,t){return Math.cos(n)*Math.cos(t)>u}function e(n){var e,u,c,l,f;return{lineStart:function(){l=c=!1,f=1},point:function(s,h){var p,g=[s,h],v=t(s,h),d=o?v?0:i(s,h):v?i(s+(s<0?zo:-zo),h):0;if(!e&&(l=c=v)&&n.lineStart(),v!==c&&(p=r(e,g),(_t(e,p)||_t(g,p))&&(g[0]+=Ao,g[1]+=Ao,v=t(g[0],g[1]))),v!==c)f=0,v?(n.lineStart(),p=r(g,e),n.point(p[0],p[1])):(p=r(e,g),n.point(p[0],p[1]),n.lineEnd()),e=p;else if(a&&e&&o^v){var y;d&u||!(y=r(g,e,!0))||(f=0,o?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!v||e&&_t(e,g)||n.point(g[0],g[1]),e=g,c=v,u=d},lineEnd:function(){c&&n.lineEnd(),e=null},clean:function(){return f|(l&&c)<<1}}}function r(n,t,e){var r=vt(n),i=vt(t),o=[1,0,0],a=yt(r,i),c=dt(a,a),l=a[0],f=c-l*l;if(!f)return!e&&n;var s=u*c/f,h=-u*l/f,p=yt(o,a),g=Mt(o,s),v=Mt(a,h);mt(g,v);var d=p,y=dt(g,d),m=dt(d,d),M=y*y-m*(dt(g,g)-1);if(!(M<0)){var x=Math.sqrt(M),b=Mt(d,(-y-x)/m);if(mt(b,g),b=bt(b),!e)return b;var _,w=n[0],S=t[0],k=n[1],N=t[1];S<w&&(_=w,w=S,S=_);var E=S-w,A=so(E-zo)<Ao,C=A||E<Ao;if(!A&&N<k&&(_=k,k=N,N=_),C?A?k+N>0^b[1]<(so(b[0]-w)<Ao?k:N):k<=b[1]&&b[1]<=N:E>zo^(w<=b[0]&&b[0]<=S)){var z=Mt(d,(-y+x)/m);return mt(z,g),[b,bt(z)]}}}function i(t,e){var r=o?n:zo-n,i=0;return t<-r?i|=1:t>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var u=Math.cos(n),o=u>0,a=so(u)>Ao,c=ge(n,6*Ro);return Tt(t,e,c,o?[0,-n]:[-zo,n-zo])}function It(n,t,e,r){return function(i){var u,o=i.a,a=i.b,c=o.x,l=o.y,f=a.x,s=a.y,h=0,p=1,g=f-c,v=s-l;if(u=n-c,g||!(u>0)){if(u/=g,g<0){if(u<h)return;u<p&&(p=u)}else if(g>0){if(u>p)return;u>h&&(h=u)}if(u=e-c,g||!(u<0)){if(u/=g,g<0){if(u>p)return;u>h&&(h=u)}else if(g>0){if(u<h)return;u<p&&(p=u)}if(u=t-l,v||!(u>0)){if(u/=v,v<0){if(u<h)return;u<p&&(p=u)}else if(v>0){if(u>p)return;u>h&&(h=u)}if(u=r-l,v||!(u<0)){if(u/=v,v<0){if(u>p)return;u>h&&(h=u)}else if(v>0){if(u<h)return;u<p&&(p=u)}return h>0&&(i.a={x:c+h*g,y:l+h*v}),p<1&&(i.b={x:c+p*g,y:l+p*v}),i}}}}}}function Yt(n,t,e,r){function i(r,i){return so(r[0]-n)<Ao?i>0?0:3:so(r[0]-e)<Ao?i>0?2:1:so(r[1]-t)<Ao?i>0?1:0:i>0?3:2}function u(n,t){return o(n.x,t.x)}function o(n,t){var e=i(n,1),r=i(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function c(n){for(var t=0,e=d.length,r=n[1],i=0;i<e;++i)for(var u,o=1,a=d[i],c=a.length,l=a[0];o<c;++o)u=a[o],l[1]<=r?u[1]>r&&Q(l,u,n)>0&&++t:u[1]<=r&&Q(l,u,n)<0&&--t,l=u;return 0!==t}function l(u,a,c,l){var f=0,s=0;if(null==u||(f=i(u,c))!==(s=i(a,c))||o(u,a)<0^c>0){do l.point(0===f||3===f?n:e,f>1?r:t);while((f=(f+c+4)%4)!==s)}else l.point(a[0],a[1])}function f(i,u){return n<=i&&i<=e&&t<=u&&u<=r}function s(n,t){f(n,t)&&a.point(n,t)}function h(){C.point=g,d&&d.push(y=[]),S=!0,w=!1,b=_=NaN}function p(){v&&(g(m,M),x&&w&&E.rejoin(),v.push(E.buffer())),C.point=s,w&&a.lineEnd()}function g(n,t){n=Math.max(-La,Math.min(La,n)),t=Math.max(-La,Math.min(La,t));var e=f(n,t);if(d&&y.push([n,t]),S)m=n,M=t,x=e,S=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&w)a.point(n,t);else{var r={a:{x:b,y:_},b:{x:n,y:t}};A(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&&(a.lineStart(),a.point(n,t),k=!1)}b=n,_=t,w=e}var v,d,y,m,M,x,b,_,w,S,k,N=a,E=Dt(),A=It(n,t,e,r),C={point:s,lineStart:h,lineEnd:p,polygonStart:function(){a=E,v=[],d=[],k=!0},polygonEnd:function(){a=N,v=to.merge(v);var t=c([n,r]),e=k&&t,i=v.length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),i&&zt(v,u,t,l,a),a.polygonEnd()),v=d=y=null}};return C}}function Zt(n){var t=0,e=zo/3,r=oe(n),i=r(t,e);return i.parallels=function(n){return arguments.length?r(t=n[0]*zo/180,e=n[1]*zo/180):[t/zo*180,e/zo*180]},i}function Vt(n,t){function e(n,t){var e=Math.sqrt(u-2*i*Math.sin(t))/i;return[e*Math.sin(n*=i),o-e*Math.cos(n)]}var r=Math.sin(n),i=(r+Math.sin(t))/2,u=1+r*(2*i-r),o=Math.sqrt(u)/i;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/i,tn((u-(n*n+e*e)*i*i)/(2*i))]},e}function Xt(){function n(n,t){Ra+=i*n-r*t,r=n,i=t}var t,e,r,i;Fa.point=function(u,o){Fa.point=n,t=r=u,e=i=o},Fa.lineEnd=function(){n(t,e)}}function $t(n,t){n<Da&&(Da=n),n>Ua&&(Ua=n),t<Pa&&(Pa=t),t>ja&&(ja=t)}function Bt(){function n(n,t){o.push("M",n,",",t,u)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function i(){o.push("Z")}var u=Wt(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return u=Wt(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Wt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Jt(n,t){ba+=n,_a+=t,++wa}function Gt(){function n(n,r){var i=n-t,u=r-e,o=Math.sqrt(i*i+u*u);Sa+=o*(t+n)/2,ka+=o*(e+r)/2,Na+=o,Jt(t=n,e=r)}var t,e;Oa.point=function(r,i){Oa.point=n,Jt(t=r,e=i)}}function Kt(){Oa.point=Jt}function Qt(){function n(n,t){var e=n-r,u=t-i,o=Math.sqrt(e*e+u*u);Sa+=o*(r+n)/2,ka+=o*(i+t)/2,Na+=o,o=i*n-r*t,Ea+=o*(r+n),Aa+=o*(i+t),Ca+=3*o,Jt(r=n,i=t)}var t,e,r,i;Oa.point=function(u,o){Oa.point=n,Jt(t=r=u,e=i=o)},Oa.lineEnd=function(){n(t,e)}}function ne(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,qo)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function i(){a.point=t}function u(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(n){return o=n,a},result:b};return a}function te(n){function t(n){return(a?r:e)(n)}function e(t){return ie(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=NaN,S.point=u,t.lineStart()}function u(e,r){var u=vt([e,r]),o=n(e,r);i(M,x,m,b,_,w,M=o[0],x=o[1],m=e,b=u[0],_=u[1],w=u[2],a,t),t.point(M,x)}function o(){S.point=e,t.lineEnd()}function c(){r(),S.point=l,S.lineEnd=f}function l(n,t){u(s=n,h=t),p=M,g=x,v=b,d=_,y=w,S.point=u}function f(){i(M,x,m,b,_,w,p,g,s,v,d,y,a,t),S.lineEnd=o,o()}var s,h,p,g,v,d,y,m,M,x,b,_,w,S={point:e,lineStart:r,lineEnd:o,polygonStart:function(){
t.polygonStart(),S.lineStart=c},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function i(t,e,r,a,c,l,f,s,h,p,g,v,d,y){var m=f-t,M=s-e,x=m*m+M*M;if(x>4*u&&d--){var b=a+p,_=c+g,w=l+v,S=Math.sqrt(b*b+_*_+w*w),k=Math.asin(w/=S),N=so(so(w)-1)<Ao||so(r-h)<Ao?(r+h)/2:Math.atan2(_,b),E=n(N,k),A=E[0],C=E[1],z=A-t,q=C-e,L=M*z-m*q;(L*L/x>u||so((m*z+M*q)/x-.5)>.3||a*p+c*g+l*v<o)&&(i(t,e,r,a,c,l,A,C,N,b/=S,_/=S,w,d,y),y.point(A,C),i(A,C,N,b,_,w,f,s,h,p,g,v,d,y))}}var u=.5,o=Math.cos(30*Ro),a=16;return t.precision=function(n){return arguments.length?(a=(u=n*n)>0&&16,t):Math.sqrt(u)},t}function ee(n){var t=te(function(t,e){return n([t*Do,e*Do])});return function(n){return ae(t(n))}}function re(n){this.stream=n}function ie(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ue(n){return oe(function(){return n})()}function oe(n){function t(n){return n=a(n[0]*Ro,n[1]*Ro),[n[0]*h+c,l-n[1]*h]}function e(n){return n=a.invert((n[0]-c)/h,(l-n[1])/h),n&&[n[0]*Do,n[1]*Do]}function r(){a=At(o=fe(y,M,x),u);var n=u(v,d);return c=p-n[0]*h,l=g+n[1]*h,i()}function i(){return f&&(f.valid=!1,f=null),t}var u,o,a,c,l,f,s=te(function(n,t){return n=u(n,t),[n[0]*h+c,l-n[1]*h]}),h=150,p=480,g=250,v=0,d=0,y=0,M=0,x=0,b=qa,_=m,w=null,S=null;return t.stream=function(n){return f&&(f.valid=!1),f=ae(b(o,s(_(n)))),f.valid=!0,f},t.clipAngle=function(n){return arguments.length?(b=null==n?(w=n,qa):Ot((w=+n)*Ro),i()):w},t.clipExtent=function(n){return arguments.length?(S=n,_=n?Yt(n[0][0],n[0][1],n[1][0],n[1][1]):m,i()):S},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(p=+n[0],g=+n[1],r()):[p,g]},t.center=function(n){return arguments.length?(v=n[0]%360*Ro,d=n[1]%360*Ro,r()):[v*Do,d*Do]},t.rotate=function(n){return arguments.length?(y=n[0]%360*Ro,M=n[1]%360*Ro,x=n.length>2?n[2]%360*Ro:0,r()):[y*Do,M*Do,x*Do]},to.rebind(t,s,"precision"),function(){return u=n.apply(this,arguments),t.invert=u.invert&&e,r()}}function ae(n){return ie(n,function(t,e){n.point(t*Ro,e*Ro)})}function ce(n,t){return[n,t]}function le(n,t){return[n>zo?n-qo:n<-zo?n+qo:n,t]}function fe(n,t,e){return n?t||e?At(he(n),pe(t,e)):he(n):t||e?pe(t,e):le}function se(n){return function(t,e){return t+=n,[t>zo?t-qo:t<-zo?t+qo:t,e]}}function he(n){var t=se(n);return t.invert=se(-n),t}function pe(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),f=l*r+a*i;return[Math.atan2(c*u-f*o,a*r-l*i),tn(f*u+c*o)]}var r=Math.cos(n),i=Math.sin(n),u=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),f=l*u-c*o;return[Math.atan2(c*u+l*o,a*r+f*i),tn(f*r-a*i)]},e}function ge(n,t){var e=Math.cos(n),r=Math.sin(n);return function(i,u,o,a){var c=o*t;null!=i?(i=ve(e,i),u=ve(e,u),(o>0?i<u:i>u)&&(i+=o*qo)):(i=n+o*qo,u=n-.5*c);for(var l,f=i;o>0?f>u:f<u;f-=c)a.point((l=bt([e,-r*Math.cos(f),-r*Math.sin(f)]))[0],l[1])}}function ve(n,t){var e=vt(t);e[0]-=n,xt(e);var r=nn(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Ao)%(2*Math.PI)}function de(n,t,e){var r=to.range(n,t-Ao,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function ye(n,t,e){var r=to.range(n,t-Ao,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function me(n){return n.source}function Me(n){return n.target}function xe(n,t,e,r){var i=Math.cos(t),u=Math.sin(t),o=Math.cos(r),a=Math.sin(r),c=i*Math.cos(n),l=i*Math.sin(n),f=o*Math.cos(e),s=o*Math.sin(e),h=2*Math.asin(Math.sqrt(on(r-t)+i*o*on(e-n))),p=1/Math.sin(h),g=h?function(n){var t=Math.sin(n*=h)*p,e=Math.sin(h-n)*p,r=e*c+t*f,i=e*l+t*s,o=e*u+t*a;return[Math.atan2(i,r)*Do,Math.atan2(o,Math.sqrt(r*r+i*i))*Do]}:function(){return[n*Do,t*Do]};return g.distance=h,g}function be(){function n(n,i){var u=Math.sin(i*=Ro),o=Math.cos(i),a=so((n*=Ro)-t),c=Math.cos(a);Ia+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*u-e*o*c)*a),e*u+r*o*c),t=n,e=u,r=o}var t,e,r;Ya.point=function(i,u){t=i*Ro,e=Math.sin(u*=Ro),r=Math.cos(u),Ya.point=n},Ya.lineEnd=function(){Ya.point=Ya.lineEnd=b}}function _e(n,t){function e(t,e){var r=Math.cos(t),i=Math.cos(e),u=n(r*i);return[u*i*Math.sin(t),u*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),i=t(r),u=Math.sin(i),o=Math.cos(i);return[Math.atan2(n*u,r*o),Math.asin(r&&e*u/r)]},e}function we(n,t){function e(n,t){o>0?t<-To+Ao&&(t=-To+Ao):t>To-Ao&&(t=To-Ao);var e=o/Math.pow(i(t),u);return[e*Math.sin(u*n),o-e*Math.cos(u*n)]}var r=Math.cos(n),i=function(n){return Math.tan(zo/4+n/2)},u=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(i(t)/i(n)),o=r*Math.pow(i(n),u)/u;return u?(e.invert=function(n,t){var e=o-t,r=K(u)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/u,2*Math.atan(Math.pow(o/r,1/u))-To]},e):ke}function Se(n,t){function e(n,t){var e=u-t;return[e*Math.sin(i*n),u-e*Math.cos(i*n)]}var r=Math.cos(n),i=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),u=r/i+n;return so(i)<Ao?ce:(e.invert=function(n,t){var e=u-t;return[Math.atan2(n,e)/i,u-K(i)*Math.sqrt(n*n+e*e)]},e)}function ke(n,t){return[n,Math.log(Math.tan(zo/4+t/2))]}function Ne(n){var t,e=ue(n),r=e.scale,i=e.translate,u=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=i.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var o=u.apply(e,arguments);if(o===e){if(t=null==n){var a=zo*r(),c=i();u([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function Ee(n,t){return[Math.log(Math.tan(zo/4+t/2)),-n]}function Ae(n){return n[0]}function Ce(n){return n[1]}function ze(n){for(var t=n.length,e=[0,1],r=2,i=2;i<t;i++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function qe(n,t){return n[0]-t[0]||n[1]-t[1]}function Le(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Te(n,t,e,r){var i=n[0],u=e[0],o=t[0]-i,a=r[0]-u,c=n[1],l=e[1],f=t[1]-c,s=r[1]-l,h=(a*(c-l)-s*(i-u))/(s*o-a*f);return[i+h*o,c+h*f]}function Re(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function De(){er(this),this.edge=this.site=this.circle=null}function Pe(n){var t=tc.pop()||new De;return t.site=n,t}function Ue(n){$e(n),Ka.remove(n),tc.push(n),er(n)}function je(n){var t=n.circle,e=t.x,r=t.cy,i={x:e,y:r},u=n.P,o=n.N,a=[n];Ue(n);for(var c=u;c.circle&&so(e-c.circle.x)<Ao&&so(r-c.circle.cy)<Ao;)u=c.P,a.unshift(c),Ue(c),c=u;a.unshift(c),$e(c);for(var l=o;l.circle&&so(e-l.circle.x)<Ao&&so(r-l.circle.cy)<Ao;)o=l.N,a.push(l),Ue(l),l=o;a.push(l),$e(l);var f,s=a.length;for(f=1;f<s;++f)l=a[f],c=a[f-1],Qe(l.edge,c.site,l.site,i);c=a[0],l=a[s-1],l.edge=Ge(c.site,l.site,null,i),Xe(c),Xe(l)}function Fe(n){for(var t,e,r,i,u=n.x,o=n.y,a=Ka._;a;)if(r=He(a,o)-u,r>Ao)a=a.L;else{if(i=u-Oe(a,o),!(i>Ao)){r>-Ao?(t=a.P,e=a):i>-Ao?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}var c=Pe(n);if(Ka.insert(t,c),t||e){if(t===e)return $e(t),e=Pe(t.site),Ka.insert(c,e),c.edge=e.edge=Ge(t.site,c.site),Xe(t),void Xe(e);if(!e)return void(c.edge=Ge(t.site,c.site));$e(t),$e(e);var l=t.site,f=l.x,s=l.y,h=n.x-f,p=n.y-s,g=e.site,v=g.x-f,d=g.y-s,y=2*(h*d-p*v),m=h*h+p*p,M=v*v+d*d,x={x:(d*m-p*M)/y+f,y:(h*M-v*m)/y+s};Qe(e.edge,l,g,x),c.edge=Ge(l,n,null,x),e.edge=Ge(n,g,null,x),Xe(t),Xe(e)}}function He(n,t){var e=n.site,r=e.x,i=e.y,u=i-t;if(!u)return r;var o=n.P;if(!o)return-(1/0);e=o.site;var a=e.x,c=e.y,l=c-t;if(!l)return a;var f=a-r,s=1/u-1/l,h=f/l;return s?(-h+Math.sqrt(h*h-2*s*(f*f/(-2*l)-c+l/2+i-u/2)))/s+r:(r+a)/2}function Oe(n,t){var e=n.N;if(e)return He(e,t);var r=n.site;return r.y===t?r.x:1/0}function Ie(n){this.site=n,this.edges=[]}function Ye(n){for(var t,e,r,i,u,o,a,c,l,f,s=n[0][0],h=n[1][0],p=n[0][1],g=n[1][1],v=Ga,d=v.length;d--;)if(u=v[d],u&&u.prepare())for(a=u.edges,c=a.length,o=0;o<c;)f=a[o].end(),r=f.x,i=f.y,l=a[++o%c].start(),t=l.x,e=l.y,(so(r-t)>Ao||so(i-e)>Ao)&&(a.splice(o,0,new nr(Ke(u.site,f,so(r-s)<Ao&&g-i>Ao?{x:s,y:so(t-s)<Ao?e:g}:so(i-g)<Ao&&h-r>Ao?{x:so(e-g)<Ao?t:h,y:g}:so(r-h)<Ao&&i-p>Ao?{x:h,y:so(t-h)<Ao?e:p}:so(i-p)<Ao&&r-s>Ao?{x:so(e-p)<Ao?t:s,y:p}:null),u.site,null)),++c)}function Ze(n,t){return t.angle-n.angle}function Ve(){er(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xe(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,i=n.site,u=e.site;if(r!==u){var o=i.x,a=i.y,c=r.x-o,l=r.y-a,f=u.x-o,s=u.y-a,h=2*(c*s-l*f);if(!(h>=-Co)){var p=c*c+l*l,g=f*f+s*s,v=(s*p-l*g)/h,d=(c*g-f*p)/h,s=d+a,y=ec.pop()||new Ve;y.arc=n,y.site=i,y.x=v+o,y.y=s+Math.sqrt(v*v+d*d),y.cy=s,n.circle=y;for(var m=null,M=nc._;M;)if(y.y<M.y||y.y===M.y&&y.x<=M.x){if(!M.L){m=M.P;break}M=M.L}else{if(!M.R){m=M;break}M=M.R}nc.insert(m,y),m||(Qa=y)}}}}function $e(n){var t=n.circle;t&&(t.P||(Qa=t.N),nc.remove(t),ec.push(t),er(t),n.circle=null)}function Be(n){for(var t,e=Ja,r=It(n[0][0],n[0][1],n[1][0],n[1][1]),i=e.length;i--;)t=e[i],(!We(t,n)||!r(t)||so(t.a.x-t.b.x)<Ao&&so(t.a.y-t.b.y)<Ao)&&(t.a=t.b=null,e.splice(i,1))}function We(n,t){var e=n.b;if(e)return!0;var r,i,u=n.a,o=t[0][0],a=t[1][0],c=t[0][1],l=t[1][1],f=n.l,s=n.r,h=f.x,p=f.y,g=s.x,v=s.y,d=(h+g)/2,y=(p+v)/2;if(v===p){if(d<o||d>=a)return;if(h>g){if(u){if(u.y>=l)return}else u={x:d,y:c};e={x:d,y:l}}else{if(u){if(u.y<c)return}else u={x:d,y:l};e={x:d,y:c}}}else if(r=(h-g)/(v-p),i=y-r*d,r<-1||r>1)if(h>g){if(u){if(u.y>=l)return}else u={x:(c-i)/r,y:c};e={x:(l-i)/r,y:l}}else{if(u){if(u.y<c)return}else u={x:(l-i)/r,y:l};e={x:(c-i)/r,y:c}}else if(p<v){if(u){if(u.x>=a)return}else u={x:o,y:r*o+i};e={x:a,y:r*a+i}}else{if(u){if(u.x<o)return}else u={x:a,y:r*a+i};e={x:o,y:r*o+i}}return n.a=u,n.b=e,!0}function Je(n,t){this.l=n,this.r=t,this.a=this.b=null}function Ge(n,t,e,r){var i=new Je(n,t);return Ja.push(i),e&&Qe(i,n,t,e),r&&Qe(i,t,n,r),Ga[n.i].edges.push(new nr(i,n,t)),Ga[t.i].edges.push(new nr(i,t,n)),i}function Ke(n,t,e){var r=new Je(n,null);return r.a=t,r.b=e,Ja.push(r),r}function Qe(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function nr(n,t,e){var r=n.a,i=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function tr(){this._=null}function er(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function rr(n,t){var e=t,r=t.R,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ir(n,t){var e=t,r=t.L,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function ur(n){for(;n.L;)n=n.L;return n}function or(n,t){var e,r,i,u=n.sort(ar).pop();for(Ja=[],Ga=new Array(n.length),Ka=new tr,nc=new tr;;)if(i=Qa,u&&(!i||u.y<i.y||u.y===i.y&&u.x<i.x))u.x===e&&u.y===r||(Ga[u.i]=new Ie(u),Fe(u),e=u.x,r=u.y),u=n.pop();else{if(!i)break;je(i.arc)}t&&(Be(t),Ye(t));var o={cells:Ga,edges:Ja};return Ka=nc=Ja=Ga=null,o}function ar(n,t){return t.y-n.y||t.x-n.x}function cr(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function lr(n){return n.x}function fr(n){return n.y}function sr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hr(n,t,e,r,i,u){if(!n(t,e,r,i,u)){var o=.5*(e+i),a=.5*(r+u),c=t.nodes;c[0]&&hr(n,c[0],e,r,o,a),c[1]&&hr(n,c[1],o,r,i,a),c[2]&&hr(n,c[2],e,a,o,u),c[3]&&hr(n,c[3],o,a,i,u)}}function pr(n,t,e,r,i,u,o){var a,c=1/0;return function n(l,f,s,h,p){if(!(f>u||s>o||h<r||p<i)){if(g=l.point){var g,v=t-l.x,d=e-l.y,y=v*v+d*d;if(y<c){var m=Math.sqrt(c=y);r=t-m,i=e-m,u=t+m,o=e+m,a=g}}for(var M=l.nodes,x=.5*(f+h),b=.5*(s+p),_=t>=x,w=e>=b,S=w<<1|_,k=S+4;S<k;++S)if(l=M[3&S])switch(3&S){case 0:n(l,f,s,x,b);break;case 1:n(l,x,s,h,b);break;case 2:n(l,f,b,x,p);break;case 3:n(l,x,b,h,p)}}}(n,r,i,u,o),a}function gr(n,t){n=to.rgb(n),t=to.rgb(t);var e=n.r,r=n.g,i=n.b,u=t.r-e,o=t.g-r,a=t.b-i;return function(n){return"#"+bn(Math.round(e+u*n))+bn(Math.round(r+o*n))+bn(Math.round(i+a*n))}}function vr(n,t){var e,r={},i={};for(e in n)e in t?r[e]=mr(n[e],t[e]):i[e]=n[e];for(e in t)e in n||(i[e]=t[e]);return function(n){for(e in r)i[e]=r[e](n);return i}}function dr(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function yr(n,t){var e,r,i,u=ic.lastIndex=uc.lastIndex=0,o=-1,a=[],c=[];for(n+="",t+="";(e=ic.exec(n))&&(r=uc.exec(t));)(i=r.index)>u&&(i=t.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,c.push({i:o,x:dr(e,r)})),u=uc.lastIndex;return u<t.length&&(i=t.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?c[0]?(t=c[0].x,function(n){return t(n)+""}):function(){return t}:(t=c.length,function(n){for(var e,r=0;r<t;++r)a[(e=c[r]).i]=e.x(n);return a.join("")})}function mr(n,t){for(var e,r=to.interpolators.length;--r>=0&&!(e=to.interpolators[r](n,t)););return e}function Mr(n,t){var e,r=[],i=[],u=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;e<a;++e)r.push(mr(n[e],t[e]));for(;e<u;++e)i[e]=n[e];for(;e<o;++e)i[e]=t[e];return function(n){for(e=0;e<a;++e)i[e]=r[e](n);return i}}function xr(n){return function(t){return t<=0?0:t>=1?1:n(t)}}function br(n){return function(t){return 1-n(1-t)}}function _r(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function wr(n){return n*n}function Sr(n){return n*n*n}function kr(n){if(n<=0)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(n<.5?e:3*(n-t)+e-.75)}function Nr(n){return function(t){return Math.pow(t,n)}}function Er(n){return 1-Math.cos(n*To)}function Ar(n){return Math.pow(2,10*(n-1))}function Cr(n){return 1-Math.sqrt(1-n*n)}function zr(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/qo*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*qo/t)}}function qr(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function Lr(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Tr(n,t){n=to.hcl(n),t=to.hcl(t);var e=n.h,r=n.c,i=n.l,u=t.h-e,o=t.c-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:u<-180&&(u+=360),function(n){return sn(e+u*n,r+o*n,i+a*n)+""}}function Rr(n,t){n=to.hsl(n),t=to.hsl(t);var e=n.h,r=n.s,i=n.l,u=t.h-e,o=t.s-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:u<-180&&(u+=360),function(n){return ln(e+u*n,r+o*n,i+a*n)+""}}function Dr(n,t){n=to.lab(n),t=to.lab(t);var e=n.l,r=n.a,i=n.b,u=t.l-e,o=t.a-r,a=t.b-i;return function(n){return pn(e+u*n,r+o*n,i+a*n)+""}}function Pr(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Ur(n){var t=[n.a,n.b],e=[n.c,n.d],r=Fr(t),i=jr(t,e),u=Fr(Hr(e,t,-i))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Do,this.translate=[n.e,n.f],this.scale=[r,u],this.skew=u?Math.atan2(i,u)*Do:0}function jr(n,t){return n[0]*t[0]+n[1]*t[1]}function Fr(n){var t=Math.sqrt(jr(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Hr(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Or(n,t){var e,r=[],i=[],u=to.transform(n),o=to.transform(t),a=u.translate,c=o.translate,l=u.rotate,f=o.rotate,s=u.skew,h=o.skew,p=u.scale,g=o.scale;return a[0]!=c[0]||a[1]!=c[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:dr(a[0],c[0])},{i:3,x:dr(a[1],c[1])})):c[0]||c[1]?r.push("translate("+c+")"):r.push(""),l!=f?(l-f>180?f+=360:f-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:dr(l,f)})):f&&r.push(r.pop()+"rotate("+f+")"),s!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:dr(s,h)}):h&&r.push(r.pop()+"skewX("+h+")"),p[0]!=g[0]||p[1]!=g[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:e-4,x:dr(p[0],g[0])},{i:e-2,x:dr(p[1],g[1])})):1==g[0]&&1==g[1]||r.push(r.pop()+"scale("+g+")"),e=i.length,function(n){for(var t,u=-1;++u<e;)r[(t=i[u]).i]=t.x(n);return r.join("")}}function Ir(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Yr(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Zr(n){for(var t=n.source,e=n.target,r=Xr(t,e),i=[t];t!==r;)t=t.parent,i.push(t);for(var u=i.length;e!==r;)i.splice(u,0,e),e=e.parent;return i}function Vr(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Xr(n,t){if(n===t)return n;for(var e=Vr(n),r=Vr(t),i=e.pop(),u=r.pop(),o=null;i===u;)o=i,i=e.pop(),u=r.pop();return o}function $r(n){n.fixed|=2}function Br(n){n.fixed&=-7}function Wr(n){n.fixed|=4,n.px=n.x,n.py=n.y}function Jr(n){n.fixed&=-5}function Gr(n,t,e){var r=0,i=0;if(n.charge=0,!n.leaf)for(var u,o=n.nodes,a=o.length,c=-1;++c<a;)u=o[c],null!=u&&(Gr(u,t,e),n.charge+=u.charge,r+=u.charge*u.cx,i+=u.charge*u.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var l=t*e[n.point.index];n.charge+=n.pointCharge=l,r+=l*n.point.x,i+=l*n.point.y}n.cx=r/n.charge,n.cy=i/n.charge}function Kr(n,t){return to.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=ii,n}function Qr(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(i=n.children)&&(r=i.length))for(var r,i;--r>=0;)e.push(i[r])}function ni(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(u=n.children)&&(i=u.length))for(var i,u,o=-1;++o<i;)e.push(u[o]);for(;null!=(n=r.pop());)t(n)}function ti(n){return n.children}function ei(n){return n.value}function ri(n,t){return t.value-n.value}function ii(n){return to.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function ui(n){return n.x}function oi(n){return n.y}function ai(n,t,e){n.y0=t,n.y=e}function ci(n){return to.range(n.length)}function li(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function fi(n){for(var t,e=1,r=0,i=n[0][1],u=n.length;e<u;++e)(t=n[e][1])>i&&(r=e,i=t);return r}function si(n){return n.reduce(hi,0)}function hi(n,t){return n+t[1]}function pi(n,t){return gi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function gi(n,t){for(var e=-1,r=+n[0],i=(n[1]-r)/t,u=[];++e<=t;)u[e]=i*e+r;return u}function vi(n){return[to.min(n),to.max(n)]}function di(n,t){return n.value-t.value}function yi(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function mi(n,t){n._pack_next=t,t._pack_prev=n}function Mi(n,t){var e=t.x-n.x,r=t.y-n.y,i=n.r+t.r;return.999*i*i>e*e+r*r}function xi(n){function t(n){f=Math.min(n.x-n.r,f),s=Math.max(n.x+n.r,s),h=Math.min(n.y-n.r,h),p=Math.max(n.y+n.r,p)}if((e=n.children)&&(l=e.length)){var e,r,i,u,o,a,c,l,f=1/0,s=-(1/0),h=1/0,p=-(1/0);if(e.forEach(bi),r=e[0],r.x=-r.r,r.y=0,t(r),l>1&&(i=e[1],i.x=i.r,i.y=0,t(i),l>2))for(u=e[2],Si(r,i,u),t(u),yi(r,u),r._pack_prev=u,yi(u,i),i=r._pack_next,o=3;o<l;o++){Si(r,i,u=e[o]);var g=0,v=1,d=1;for(a=i._pack_next;a!==i;a=a._pack_next,v++)if(Mi(a,u)){g=1;break}if(1==g)for(c=r._pack_prev;c!==a._pack_prev&&!Mi(c,u);c=c._pack_prev,d++);g?(v<d||v==d&&i.r<r.r?mi(r,i=a):mi(r=c,i),o--):(yi(r,u),i=u,t(u))}var y=(f+s)/2,m=(h+p)/2,M=0;for(o=0;o<l;o++)u=e[o],u.x-=y,u.y-=m,M=Math.max(M,u.r+Math.sqrt(u.x*u.x+u.y*u.y));n.r=M,e.forEach(_i)}}function bi(n){n._pack_next=n._pack_prev=n}function _i(n){delete n._pack_next,delete n._pack_prev}function wi(n,t,e,r){var i=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,i)for(var u=-1,o=i.length;++u<o;)wi(i[u],t,e,r)}function Si(n,t,e){var r=n.r+e.r,i=t.x-n.x,u=t.y-n.y;if(r&&(i||u)){var o=t.r+e.r,a=i*i+u*u;o*=o,r*=r;var c=.5+(r-o)/(2*a),l=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+c*i+l*u,e.y=n.y+c*u-l*i}else e.x=n.x+r,e.y=n.y}function ki(n,t){return n.parent==t.parent?1:2}function Ni(n){var t=n.children;return t.length?t[0]:n.t}function Ei(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Ai(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Ci(n){for(var t,e=0,r=0,i=n.children,u=i.length;--u>=0;)t=i[u],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function zi(n,t,e){return n.a.parent===t.parent?n.a:e}function qi(n){return 1+to.max(n,function(n){return n.y})}function Li(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Ti(n){var t=n.children;return t&&t.length?Ti(t[0]):n}function Ri(n){var t,e=n.children;return e&&(t=e.length)?Ri(e[t-1]):n}function Di(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Pi(n,t){var e=n.x+t[3],r=n.y+t[0],i=n.dx-t[1]-t[3],u=n.dy-t[0]-t[2];return i<0&&(e+=i/2,i=0),u<0&&(r+=u/2,u=0),{x:e,y:r,dx:i,dy:u}}function Ui(n){var t=n[0],e=n[n.length-1];return t<e?[t,e]:[e,t]}function ji(n){return n.rangeExtent?n.rangeExtent():Ui(n.range())}function Fi(n,t,e,r){var i=e(n[0],n[1]),u=r(t[0],t[1]);return function(n){return u(i(n))}}function Hi(n,t){var e,r=0,i=n.length-1,u=n[r],o=n[i];return o<u&&(e=r,r=i,i=e,e=u,u=o,o=e),n[r]=t.floor(u),n[i]=t.ceil(o),n}function Oi(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:dc}function Ii(n,t,e,r){var i=[],u=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)i.push(e(n[o-1],n[o])),u.push(r(t[o-1],t[o]));return function(t){var e=to.bisect(n,t,1,a)-1;return u[e](i[e](t))}}function Yi(n,t,e,r){function i(){var i=Math.min(n.length,t.length)>2?Ii:Fi,c=r?Yr:Ir;return o=i(n,t,c,e),a=i(t,n,c,mr),u}function u(n){return o(n)}var o,a;return u.invert=function(n){return a(n)},u.domain=function(t){return arguments.length?(n=t.map(Number),i()):n},u.range=function(n){return arguments.length?(t=n,i()):t},u.rangeRound=function(n){return u.range(n).interpolate(Pr)},u.clamp=function(n){return arguments.length?(r=n,i()):r},u.interpolate=function(n){return arguments.length?(e=n,i()):e},u.ticks=function(t){return $i(n,t)},u.tickFormat=function(t,e){return Bi(n,t,e)},u.nice=function(t){return Vi(n,t),i()},u.copy=function(){return Yi(n,t,e,r)},i()}function Zi(n,t){return to.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Vi(n,t){return Hi(n,Oi(Xi(n,t)[2]))}function Xi(n,t){null==t&&(t=10);var e=Ui(n),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),u=t/r*i;return u<=.15?i*=10:u<=.35?i*=5:u<=.75&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function $i(n,t){return to.range.apply(to,Xi(n,t))}function Bi(n,t,e){var r=Xi(n,t);if(e){var i=ia.exec(e);if(i.shift(),"s"===i[8]){var u=to.formatPrefix(Math.max(so(r[0]),so(r[1])));return i[7]||(i[7]="."+Wi(u.scale(r[2]))),i[8]="f",e=to.format(i.join("")),function(n){return e(u.scale(n))+u.symbol}}i[7]||(i[7]="."+Ji(i[8],r)),e=i.join("")}else e=",."+Wi(r[2])+"f";return to.format(e)}function Wi(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function Ji(n,t){var e=Wi(t[2]);return n in yc?Math.abs(e-Wi(Math.max(so(t[0]),so(t[1]))))+ +("e"!==n):e-2*("%"===n)}function Gi(n,t,e,r){function i(n){return(e?Math.log(n<0?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function u(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(i(t))}return o.invert=function(t){return u(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(i)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(i)),o):t},o.nice=function(){var t=Hi(r.map(i),e?Math:Mc);return n.domain(t),r=t.map(u),o},o.ticks=function(){var n=Ui(r),o=[],a=n[0],c=n[1],l=Math.floor(i(a)),f=Math.ceil(i(c)),s=t%1?2:t;if(isFinite(f-l)){if(e){for(;l<f;l++)for(var h=1;h<s;h++)o.push(u(l)*h);o.push(u(l))}else for(o.push(u(l));l++<f;)for(var h=s-1;h>0;h--)o.push(u(l)*h);for(l=0;o[l]<a;l++);for(f=o.length;o[f-1]>c;f--);o=o.slice(l,f)}return o},o.tickFormat=function(n,t){if(!arguments.length)return mc;arguments.length<2?t=mc:"function"!=typeof t&&(t=to.format(t));var r,a=Math.max(.1,n/o.ticks().length),c=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(n){return n/u(c(i(n)+r))<=a?t(n):""}},o.copy=function(){return Gi(n.copy(),t,e,r)},Zi(o,n)}function Ki(n,t,e){function r(t){return n(i(t))}var i=Qi(t),u=Qi(1/t);return r.invert=function(t){return u(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(i)),r):e},r.ticks=function(n){return $i(e,n)},r.tickFormat=function(n,t){return Bi(e,n,t)},r.nice=function(n){return r.domain(Vi(e,n))},r.exponent=function(o){return arguments.length?(i=Qi(t=o),u=Qi(1/t),n.domain(e.map(i)),r):t},r.copy=function(){return Ki(n.copy(),t,e)},Zi(r,n)}function Qi(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function nu(n,t){function e(e){return u[((i.get(e)||("range"===t.t?i.set(e,n.push(e)):NaN))-1)%u.length]}function r(t,e){return to.range(n.length).map(function(n){return t+e*n})}var i,u,o;return e.domain=function(r){if(!arguments.length)return n;n=[],i=new l;for(var u,o=-1,a=r.length;++o<a;)i.has(u=r[o])||i.set(u,n.push(u));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(u=n,o=0,t={t:"range",a:arguments},e):u},e.rangePoints=function(i,a){arguments.length<2&&(a=0);var c=i[0],l=i[1],f=n.length<2?(c=(c+l)/2,0):(l-c)/(n.length-1+a);return u=r(c+f*a/2,f),o=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(i,a){arguments.length<2&&(a=0);var c=i[0],l=i[1],f=n.length<2?(c=l=Math.round((c+l)/2),0):(l-c)/(n.length-1+a)|0;return u=r(c+Math.round(f*a/2+(l-c-(n.length-1+a)*f)/2),f),o=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(i,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=i[1]<i[0],f=i[l-0],s=i[1-l],h=(s-f)/(n.length-a+2*c);return u=r(f+h*c,h),l&&u.reverse(),o=h*(1-a),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(i,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=i[1]<i[0],f=i[l-0],s=i[1-l],h=Math.floor((s-f)/(n.length-a+2*c));return u=r(f+Math.round((s-f-(n.length-a)*h)/2),h),l&&u.reverse(),o=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Ui(t.a[0])},e.copy=function(){return nu(n,t)},e.domain(n)}function tu(n,t){function u(){var e=0,r=t.length;for(a=[];++e<r;)a[e-1]=to.quantile(n,e/r);return o}function o(n){if(!isNaN(n=+n))return t[to.bisect(a,n)]}var a;return o.domain=function(t){return arguments.length?(n=t.map(r).filter(i).sort(e),u()):n},o.range=function(n){return arguments.length?(t=n,u()):t},o.quantiles=function(){return a},o.invertExtent=function(e){return e=t.indexOf(e),e<0?[NaN,NaN]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return tu(n,t)},u()}function eu(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(u*(t-n))))]}function i(){return u=e.length/(t-n),o=e.length-1,r}var u,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],i()):[n,t]},r.range=function(n){return arguments.length?(e=n,i()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=t<0?NaN:t/u+n,[t,t+1/u]},r.copy=function(){return eu(n,t,e)},i()}function ru(n,t){function e(e){if(e<=e)return t[to.bisect(n,e)]}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return ru(n,t)},e}function iu(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return $i(n,t)},t.tickFormat=function(t,e){return Bi(n,t,e)},t.copy=function(){return iu(n)},t}function uu(){return 0}function ou(n){return n.innerRadius}function au(n){return n.outerRadius}function cu(n){return n.startAngle}function lu(n){return n.endAngle}function fu(n){return n&&n.padAngle}function su(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function hu(n,t,e,r,i){var u=n[0]-t[0],o=n[1]-t[1],a=(i?r:-r)/Math.sqrt(u*u+o*o),c=a*o,l=-a*u,f=n[0]+c,s=n[1]+l,h=t[0]+c,p=t[1]+l,g=(f+h)/2,v=(s+p)/2,d=h-f,y=p-s,m=d*d+y*y,M=e-r,x=f*p-h*s,b=(y<0?-1:1)*Math.sqrt(M*M*m-x*x),_=(x*y-d*b)/m,w=(-x*d-y*b)/m,S=(x*y+d*b)/m,k=(-x*d+y*b)/m,N=_-g,E=w-v,A=S-g,C=k-v;return N*N+E*E>A*A+C*C&&(_=S,w=k),[[_-c,w-l],[_*e/M,w*e/M]]}function pu(n){function t(t){function o(){l.push("M",u(n(f),a))}for(var c,l=[],f=[],s=-1,h=t.length,p=En(e),g=En(r);++s<h;)i.call(this,c=t[s],s)?f.push([+p.call(this,c,s),+g.call(this,c,s)]):f.length&&(o(),f=[]);return f.length&&o(),l.length?l.join(""):null}var e=Ae,r=Ce,i=Ct,u=gu,o=u.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(i=n,t):i},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?u=n:(u=kc.get(n)||gu).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function gu(n){return n.join("L")}function vu(n){return gu(n)+"Z"}function du(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&i.push("H",r[0]),i.join("")}function yu(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("V",(r=n[t])[1],"H",r[0]);return i.join("")}function mu(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r=n[t])[0],"V",r[1]);return i.join("")}function Mu(n,t){return n.length<4?gu(n):n[1]+_u(n.slice(1,-1),wu(n,t))}function xu(n,t){return n.length<3?gu(n):n[0]+_u((n.push(n[0]),n),wu([n[n.length-2]].concat(n,[n[1]]),t))}function bu(n,t){return n.length<3?gu(n):n[0]+_u(n,wu(n,t))}function _u(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return gu(n);var e=n.length!=t.length,r="",i=n[0],u=n[1],o=t[0],a=o,c=1;if(e&&(r+="Q"+(u[0]-2*o[0]/3)+","+(u[1]-2*o[1]/3)+","+u[0]+","+u[1],i=n[1],c=2),t.length>1){a=t[1],u=n[c],c++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1];for(var l=2;l<t.length;l++,c++)u=n[c],a=t[l],r+="S"+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1]}if(e){var f=n[c];r+="Q"+(u[0]+2*a[0]/3)+","+(u[1]+2*a[1]/3)+","+f[0]+","+f[1]}return r}function wu(n,t){for(var e,r=[],i=(1-t)/2,u=n[0],o=n[1],a=1,c=n.length;++a<c;)e=u,u=o,o=n[a],r.push([i*(o[0]-e[0]),i*(o[1]-e[1])]);return r}function Su(n){if(n.length<3)return gu(n);var t=1,e=n.length,r=n[0],i=r[0],u=r[1],o=[i,i,i,(r=n[1])[0]],a=[u,u,u,r[1]],c=[i,",",u,"L",Au(Ac,o),",",Au(Ac,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Cu(c,o,a);return n.pop(),c.push("L",r),c.join("")}function ku(n){if(n.length<4)return gu(n);for(var t,e=[],r=-1,i=n.length,u=[0],o=[0];++r<3;)t=n[r],u.push(t[0]),o.push(t[1]);for(e.push(Au(Ac,u)+","+Au(Ac,o)),--r;++r<i;)t=n[r],u.shift(),u.push(t[0]),o.shift(),o.push(t[1]),Cu(e,u,o);return e.join("")}function Nu(n){for(var t,e,r=-1,i=n.length,u=i+4,o=[],a=[];++r<4;)e=n[r%i],o.push(e[0]),a.push(e[1]);for(t=[Au(Ac,o),",",Au(Ac,a)],--r;++r<u;)e=n[r%i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Cu(t,o,a);return t.join("")}function Eu(n,t){var e=n.length-1;if(e)for(var r,i,u=n[0][0],o=n[0][1],a=n[e][0]-u,c=n[e][1]-o,l=-1;++l<=e;)r=n[l],i=l/e,r[0]=t*r[0]+(1-t)*(u+i*a),r[1]=t*r[1]+(1-t)*(o+i*c);return Su(n)}function Au(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Cu(n,t,e){n.push("C",Au(Nc,t),",",Au(Nc,e),",",Au(Ec,t),",",Au(Ec,e),",",Au(Ac,t),",",Au(Ac,e))}function zu(n,t){return(t[1]-n[1])/(t[0]-n[0])}function qu(n){for(var t=0,e=n.length-1,r=[],i=n[0],u=n[1],o=r[0]=zu(i,u);++t<e;)r[t]=(o+(o=zu(i=u,u=n[t+1])))/2;return r[t]=o,r}function Lu(n){for(var t,e,r,i,u=[],o=qu(n),a=-1,c=n.length-1;++a<c;)t=zu(n[a],n[a+1]),so(t)<Ao?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,i=e*e+r*r,i>9&&(i=3*t/Math.sqrt(i),o[a]=i*e,o[a+1]=i*r));for(a=-1;++a<=c;)i=(n[Math.min(c,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),u.push([i||0,o[a]*i||0]);return u}function Tu(n){return n.length<3?gu(n):n[0]+_u(n,Lu(n))}function Ru(n){for(var t,e,r,i=-1,u=n.length;++i<u;)t=n[i],e=t[0],r=t[1]-To,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Du(n){function t(t){function c(){v.push("M",a(n(y),s),f,l(n(d.reverse()),s),"Z")}for(var h,p,g,v=[],d=[],y=[],m=-1,M=t.length,x=En(e),b=En(i),_=e===r?function(){return p}:En(r),w=i===u?function(){return g}:En(u);++m<M;)o.call(this,h=t[m],m)?(d.push([p=+x.call(this,h,m),g=+b.call(this,h,m)]),y.push([+_.call(this,h,m),+w.call(this,h,m)])):d.length&&(c(),d=[],y=[]);return d.length&&c(),v.length?v.join(""):null}var e=Ae,r=Ae,i=0,u=Ce,o=Ct,a=gu,c=a.key,l=a,f="L",s=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,
t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(i=u=n,t):u},t.y0=function(n){return arguments.length?(i=n,t):i},t.y1=function(n){return arguments.length?(u=n,t):u},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(c="function"==typeof n?a=n:(a=kc.get(n)||gu).key,l=a.reverse||a,f=a.closed?"M":"L",t):c},t.tension=function(n){return arguments.length?(s=n,t):s},t}function Pu(n){return n.radius}function Uu(n){return[n.x,n.y]}function ju(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-To;return[e*Math.cos(r),e*Math.sin(r)]}}function Fu(){return 64}function Hu(){return"circle"}function Ou(n){var t=Math.sqrt(n/zo);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Iu(n){return function(){var t,e;(t=this[n])&&(e=t[t.active])&&(--t.count?delete t[t.active]:delete this[n],t.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function Yu(n,t,e){return yo(n,Dc),n.namespace=t,n.id=e,n}function Zu(n,t,e,r){var i=n.id,u=n.namespace;return Y(n,"function"==typeof e?function(n,o,a){n[u][i].tween.set(t,r(e.call(n,n.__data__,o,a)))}:(e=r(e),function(n){n[u][i].tween.set(t,e)}))}function Vu(n){return null==n&&(n=""),function(){this.textContent=n}}function Xu(n){return null==n?"__transition__":"__transition_"+n+"__"}function $u(n,t,e,r,i){var u=n[e]||(n[e]={active:0,count:0}),o=u[r];if(!o){var a=i.time;o=u[r]={tween:new l,time:a,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++u.count,to.timer(function(i){function c(e){if(u.active>r)return f();var i=u[u.active];i&&(--u.count,delete u[u.active],i.event&&i.event.interrupt.call(n,n.__data__,i.index)),u.active=r,o.event&&o.event.start.call(n,n.__data__,t),o.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&v.push(r)}),h=o.ease,s=o.duration,to.timer(function(){return g.c=l(e||1)?Ct:l,1},0,a)}function l(e){if(u.active!==r)return 1;for(var i=e/s,a=h(i),c=v.length;c>0;)v[--c].call(n,a);return i>=1?(o.event&&o.event.end.call(n,n.__data__,t),f()):void 0}function f(){return--u.count?delete u[r]:delete n[e],1}var s,h,p=o.delay,g=ta,v=[];return g.t=p+a,p<=i?c(i-p):void(g.c=c)},0,a)}}function Bu(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function Wu(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function Ju(n){return n.toISOString()}function Gu(n,t,e){function r(t){return n(t)}function i(n,e){var r=n[1]-n[0],i=r/e,u=to.bisect(Zc,i);return u==Zc.length?[t.year,Xi(n.map(function(n){return n/31536e6}),e)[2]]:u?t[i/Zc[u-1]<Zc[u]/i?u-1:u]:[$c,Xi(n,e)[2]]}return r.invert=function(t){return Ku(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(Ku)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,Ku(+e+1),t).length}var u=r.domain(),o=Ui(u),a=null==n?i(o,10):"number"==typeof n&&i(o,n);return a&&(n=a[0],t=a[1]),r.domain(Hi(u,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=Ku(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=Ku(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Ui(r.domain()),u=null==n?i(e,10):"number"==typeof n?i(e,n):!n.range&&[{range:n},t];return u&&(n=u[0],t=u[1]),n.range(e[0],Ku(+e[1]+1),t<1?1:t)},r.tickFormat=function(){return e},r.copy=function(){return Gu(n.copy(),t,e)},Zi(r,n)}function Ku(n){return new Date(n)}function Qu(n){return JSON.parse(n.responseText)}function no(n){var t=io.createRange();return t.selectNode(io.body),t.createContextualFragment(n.responseText)}var to={version:"3.5.6"},eo=[].slice,ro=function(n){return eo.call(n)},io=this.document;if(io)try{ro(io.documentElement.childNodes)[0].nodeType}catch(n){ro=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),io)try{io.createElement("DIV").style.setProperty("opacity",0,"")}catch(n){var uo=this.Element.prototype,oo=uo.setAttribute,ao=uo.setAttributeNS,co=this.CSSStyleDeclaration.prototype,lo=co.setProperty;uo.setAttribute=function(n,t){oo.call(this,n,t+"")},uo.setAttributeNS=function(n,t,e){ao.call(this,n,t,e+"")},co.setProperty=function(n,t,e){lo.call(this,n,t+"",e)}}to.ascending=e,to.descending=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN},to.min=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u;)if(null!=(r=n[i])&&r>=r){e=r;break}for(;++i<u;)null!=(r=n[i])&&e>r&&(e=r)}else{for(;++i<u;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=r;break}for(;++i<u;)null!=(r=t.call(n,n[i],i))&&e>r&&(e=r)}return e},to.max=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u;)if(null!=(r=n[i])&&r>=r){e=r;break}for(;++i<u;)null!=(r=n[i])&&r>e&&(e=r)}else{for(;++i<u;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=r;break}for(;++i<u;)null!=(r=t.call(n,n[i],i))&&r>e&&(e=r)}return e},to.extent=function(n,t){var e,r,i,u=-1,o=n.length;if(1===arguments.length){for(;++u<o;)if(null!=(r=n[u])&&r>=r){e=i=r;break}for(;++u<o;)null!=(r=n[u])&&(e>r&&(e=r),i<r&&(i=r))}else{for(;++u<o;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=i=r;break}for(;++u<o;)null!=(r=t.call(n,n[u],u))&&(e>r&&(e=r),i<r&&(i=r))}return[e,i]},to.sum=function(n,t){var e,r=0,u=n.length,o=-1;if(1===arguments.length)for(;++o<u;)i(e=+n[o])&&(r+=e);else for(;++o<u;)i(e=+t.call(n,n[o],o))&&(r+=e);return r},to.mean=function(n,t){var e,u=0,o=n.length,a=-1,c=o;if(1===arguments.length)for(;++a<o;)i(e=r(n[a]))?u+=e:--c;else for(;++a<o;)i(e=r(t.call(n,n[a],a)))?u+=e:--c;if(c)return u/c},to.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],u=e-r;return u?i+u*(n[r]-i):i},to.median=function(n,t){var u,o=[],a=n.length,c=-1;if(1===arguments.length)for(;++c<a;)i(u=r(n[c]))&&o.push(u);else for(;++c<a;)i(u=r(t.call(n,n[c],c)))&&o.push(u);if(o.length)return to.quantile(o.sort(e),.5)},to.variance=function(n,t){var e,u,o=n.length,a=0,c=0,l=-1,f=0;if(1===arguments.length)for(;++l<o;)i(e=r(n[l]))&&(u=e-a,a+=u/++f,c+=u*(e-a));else for(;++l<o;)i(e=r(t.call(n,n[l],l)))&&(u=e-a,a+=u/++f,c+=u*(e-a));if(f>1)return c/(f-1)},to.deviation=function(){var n=to.variance.apply(this,arguments);return n?Math.sqrt(n):n};var fo=u(e);to.bisectLeft=fo.left,to.bisect=to.bisectRight=fo.right,to.bisector=function(n){return u(1===n.length?function(t,r){return e(n(t),r)}:n)},to.shuffle=function(n,t,e){(u=arguments.length)<3&&(e=n.length,u<2&&(t=0));for(var r,i,u=e-t;u;)i=Math.random()*u--|0,r=n[u+t],n[u+t]=n[i+t],n[i+t]=r;return n},to.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},to.pairs=function(n){for(var t,e=0,r=n.length-1,i=n[0],u=new Array(r<0?0:r);e<r;)u[e]=[t=i,i=n[++e]];return u},to.zip=function(){if(!(r=arguments.length))return[];for(var n=-1,t=to.min(arguments,o),e=new Array(t);++n<t;)for(var r,i=-1,u=e[n]=new Array(r);++i<r;)u[i]=arguments[i][n];return e},to.transpose=function(n){return to.zip.apply(to,n)},to.keys=function(n){var t=[];for(var e in n)t.push(e);return t},to.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},to.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},to.merge=function(n){for(var t,e,r,i=n.length,u=-1,o=0;++u<i;)o+=n[u].length;for(e=new Array(o);--i>=0;)for(r=n[i],t=r.length;--t>=0;)e[--o]=r[t];return e};var so=Math.abs;to.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r,i=[],u=a(so(e)),o=-1;if(n*=u,t*=u,e*=u,e<0)for(;(r=n+e*++o)>t;)i.push(r/u);else for(;(r=n+e*++o)<t;)i.push(r/u);return i},to.map=function(n,t){var e=new l;if(n instanceof l)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,i=-1,u=n.length;if(1===arguments.length)for(;++i<u;)e.set(i,n[i]);else for(;++i<u;)e.set(t.call(n,r=n[i],i),r)}else for(var o in n)e.set(o,n[o]);return e};var ho="__proto__",po="\0";c(l,{has:h,get:function(n){return this._[f(n)]},set:function(n,t){return this._[f(n)]=t},remove:p,keys:g,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:s(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,s(t),this._[t])}}),to.nest=function(){function n(t,o,a){if(a>=u.length)return r?r.call(i,o):e?o.sort(e):o;for(var c,f,s,h,p=-1,g=o.length,v=u[a++],d=new l;++p<g;)(h=d.get(c=v(f=o[p])))?h.push(f):d.set(c,[f]);return t?(f=t(),s=function(e,r){f.set(e,n(t,r,a))}):(f={},s=function(e,r){f[e]=n(t,r,a)}),d.forEach(s),f}function t(n,e){if(e>=u.length)return n;var r=[],i=o[e++];return n.forEach(function(n,i){r.push({key:n,values:t(i,e)})}),i?r.sort(function(n,t){return i(n.key,t.key)}):r}var e,r,i={},u=[],o=[];return i.map=function(t,e){return n(e,t,0)},i.entries=function(e){return t(n(to.map,e,0),0)},i.key=function(n){return u.push(n),i},i.sortKeys=function(n){return o[u.length-1]=n,i},i.sortValues=function(n){return e=n,i},i.rollup=function(n){return r=n,i},i},to.set=function(n){var t=new y;if(n)for(var e=0,r=n.length;e<r;++e)t.add(n[e]);return t},c(y,{has:h,add:function(n){return this._[f(n+="")]=!0,n},remove:p,values:g,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,s(t))}}),to.behavior={},to.rebind=function(n,t){for(var e,r=1,i=arguments.length;++r<i;)n[e=arguments[r]]=M(n,t,t[e]);return n};var go=["webkit","ms","moz","Moz","o","O"];to.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},to.event=null,to.requote=function(n){return n.replace(vo,"\\$&")};var vo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,yo={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},mo=function(n,t){return t.querySelector(n)},Mo=function(n,t){return t.querySelectorAll(n)},xo=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(xo=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(mo=function(n,t){return Sizzle(n,t)[0]||null},Mo=Sizzle,xo=Sizzle.matchesSelector),to.selection=function(){return to.select(io.documentElement)};var bo=to.selection.prototype=[];bo.select=function(n){var t,e,r,i,u=[];n=A(n);for(var o=-1,a=this.length;++o<a;){u.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var c=-1,l=r.length;++c<l;)(i=r[c])?(t.push(e=n.call(i,i.__data__,c,o)),e&&"__data__"in i&&(e.__data__=i.__data__)):t.push(null)}return E(u)},bo.selectAll=function(n){var t,e,r=[];n=C(n);for(var i=-1,u=this.length;++i<u;)for(var o=this[i],a=-1,c=o.length;++a<c;)(e=o[a])&&(r.push(t=ro(n.call(e,e.__data__,a,i))),t.parentNode=e);return E(r)};var _o={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};to.ns={prefix:_o,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&(e=n.slice(0,t),n=n.slice(t+1)),_o.hasOwnProperty(e)?{space:_o[e],local:n}:n}},bo.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=to.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},bo.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,i=-1;if(t=e.classList){for(;++i<r;)if(!t.contains(n[i]))return!1}else for(t=e.getAttribute("class");++i<r;)if(!L(n[i]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},bo.style=function(n,e,r){var i=arguments.length;if(i<3){if("string"!=typeof n){i<2&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(i<2){var u=this.node();return t(u).getComputedStyle(u,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},bo.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(U(t,n[t]));return this}return this.each(U(n,t))},bo.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},bo.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},bo.append=function(n){return n=j(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},bo.insert=function(n,t){return n=j(n),t=A(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},bo.remove=function(){return this.each(F)},bo.data=function(n,t){function e(n,e){var r,i,u,o=n.length,s=e.length,h=Math.min(o,s),p=new Array(s),g=new Array(s),v=new Array(o);if(t){var d,y=new l,m=new Array(o);for(r=-1;++r<o;)y.has(d=t.call(i=n[r],i.__data__,r))?v[r]=i:y.set(d,i),m[r]=d;for(r=-1;++r<s;)(i=y.get(d=t.call(e,u=e[r],r)))?i!==!0&&(p[r]=i,i.__data__=u):g[r]=H(u),y.set(d,!0);for(r=-1;++r<o;)y.get(m[r])!==!0&&(v[r]=n[r])}else{for(r=-1;++r<h;)i=n[r],u=e[r],i?(i.__data__=u,p[r]=i):g[r]=H(u);for(;r<s;++r)g[r]=H(e[r]);for(;r<o;++r)v[r]=n[r]}g.update=p,g.parentNode=p.parentNode=v.parentNode=n.parentNode,a.push(g),c.push(p),f.push(v)}var r,i,u=-1,o=this.length;if(!arguments.length){for(n=new Array(o=(r=this[0]).length);++u<o;)(i=r[u])&&(n[u]=i.__data__);return n}var a=Z([]),c=E([]),f=E([]);if("function"==typeof n)for(;++u<o;)e(r=this[u],n.call(r,r.parentNode.__data__,u));else for(;++u<o;)e(r=this[u],n);return c.enter=function(){return a},c.exit=function(){return f},c},bo.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},bo.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=O(n));for(var u=0,o=this.length;u<o;u++){i.push(t=[]),t.parentNode=(e=this[u]).parentNode;for(var a=0,c=e.length;a<c;a++)(r=e[a])&&n.call(r,r.__data__,a,u)&&t.push(r)}return E(i)},bo.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],i=r.length-1,u=r[i];--i>=0;)(e=r[i])&&(u&&u!==e.nextSibling&&u.parentNode.insertBefore(e,u),u=e);return this},bo.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},bo.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},bo.call=function(n){var t=ro(arguments);return n.apply(t[0]=this,t),this},bo.empty=function(){return!this.node()},bo.node=function(){for(var n=0,t=this.length;n<t;n++)for(var e=this[n],r=0,i=e.length;r<i;r++){var u=e[r];if(u)return u}return null},bo.size=function(){var n=0;return Y(this,function(){++n}),n};var wo=[];to.selection.enter=Z,to.selection.enter.prototype=wo,wo.append=bo.append,wo.empty=bo.empty,wo.node=bo.node,wo.call=bo.call,wo.size=bo.size,wo.select=function(n){for(var t,e,r,i,u,o=[],a=-1,c=this.length;++a<c;){r=(i=this[a]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var l=-1,f=i.length;++l<f;)(u=i[l])?(t.push(r[l]=e=n.call(i.parentNode,u.__data__,l,a)),e.__data__=u.__data__):t.push(null)}return E(o)},wo.insert=function(n,t){return arguments.length<2&&(t=V(this)),bo.insert.call(this,n,t)},to.select=function(t){var e;return"string"==typeof t?(e=[mo(t,io)],e.parentNode=io.documentElement):(e=[t],e.parentNode=n(t)),E([e])},to.selectAll=function(n){var t;return"string"==typeof n?(t=ro(Mo(n,io)),t.parentNode=io.documentElement):(t=n,t.parentNode=null),E([t])},bo.on=function(n,t,e){var r=arguments.length;if(r<3){if("string"!=typeof n){r<2&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(r<2)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var So=to.map({mouseenter:"mouseover",mouseleave:"mouseout"});io&&So.forEach(function(n){"on"+n in io&&So.remove(n)});var ko,No=0;to.mouse=function(n){return J(n,k())};var Eo=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;to.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=k().changedTouches),t)for(var r,i=0,u=t.length;i<u;++i)if((r=t[i]).identifier===e)return J(n,r)},to.behavior.drag=function(){function n(){this.on("mousedown.drag",u).on("touchstart.drag",o)}function e(n,t,e,u,o){return function(){function c(){var n,e,r=t(a(p),d);r&&(n=r[0]-x[0],e=r[1]-x[1],v|=n|e,x=r,g({type:"drag",x:r[0]+f[0],y:r[1]+f[1],dx:n,dy:e}))}function l(){t(a(p),d)&&(m.on(u+y,null).on(o+y,null),M(v&&to.event.target===h),g({type:"dragend"}))}var f,s=this,h=to.event.target,p=s.parentNode,g=r.of(s,arguments),v=0,d=n(),y=".drag"+(null==d?"":"-"+d),m=to.select(e(h)).on(u+y,c).on(o+y,l),M=W(h),x=t(a(p),d);i?(f=i.apply(s,arguments),f=[f.x-x[0],f.y-x[1]]):f=[0,0],g({type:"dragstart"})}}var r=N(n,"drag","dragstart","dragend"),i=null,u=e(b,to.mouse,t,"mousemove","mouseup"),o=e(G,to.touch,m,"touchmove","touchend"),a=function(n){return n.parentNode};return n.origin=function(t){return arguments.length?(i=t,n):i},n.base=function(t){return arguments.length?(a=t,n):a},to.rebind(n,r,"on")},to.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?ro(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Ao=1e-6,Co=Ao*Ao,zo=Math.PI,qo=2*zo,Lo=qo-Ao,To=zo/2,Ro=zo/180,Do=180/zo,Po=Math.SQRT2,Uo=2,jo=4;to.interpolateZoom=function(n,t){function e(n){var t=n*m;if(y){var e=rn(v),o=u/(Uo*h)*(e*un(Po*t+v)-en(v));return[r+o*l,i+o*f,u*e/rn(Po*t+v)]}return[r+n*l,i+n*f,u*Math.exp(Po*t)]}var r=n[0],i=n[1],u=n[2],o=t[0],a=t[1],c=t[2],l=o-r,f=a-i,s=l*l+f*f,h=Math.sqrt(s),p=(c*c-u*u+jo*s)/(2*u*Uo*h),g=(c*c-u*u-jo*s)/(2*c*Uo*h),v=Math.log(Math.sqrt(p*p+1)-p),d=Math.log(Math.sqrt(g*g+1)-g),y=d-v,m=(y||Math.log(c/u))/Po;return e.duration=1e3*m,e},to.behavior.zoom=function(){function n(n){n.on(q,s).on(Ho+".zoom",p).on("dblclick.zoom",g).on(R,h)}function e(n){return[(n[0]-k.x)/k.k,(n[1]-k.y)/k.k]}function r(n){return[n[0]*k.k+k.x,n[1]*k.k+k.y]}function i(n){k.k=Math.max(A[0],Math.min(A[1],n))}function u(n,t){t=r(t),k.x+=n[0]-t[0],k.y+=n[1]-t[1]}function o(t,e,r,o){t.__chart__={x:k.x,y:k.y,k:k.k},i(Math.pow(2,o)),u(d=e,r),t=to.select(t),C>0&&(t=t.transition().duration(C)),t.call(n.event)}function a(){b&&b.domain(x.range().map(function(n){return(n-k.x)/k.k}).map(x.invert)),w&&w.domain(_.range().map(function(n){return(n-k.y)/k.k}).map(_.invert))}function c(n){z++||n({type:"zoomstart"})}function l(n){a(),n({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function f(n){--z||(n({type:"zoomend"}),d=null)}function s(){function n(){s=1,u(to.mouse(i),p),l(a)}function r(){h.on(L,null).on(T,null),g(s&&to.event.target===o),f(a)}var i=this,o=to.event.target,a=D.of(i,arguments),s=0,h=to.select(t(i)).on(L,n).on(T,r),p=e(to.mouse(i)),g=W(i);Rc.call(i),c(a)}function h(){function n(){var n=to.touches(g);return p=k.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=to.event.target;to.select(t).on(x,r).on(b,a),_.push(t);for(var e=to.event.changedTouches,i=0,u=e.length;i<u;++i)d[e[i].identifier]=null;var c=n(),l=Date.now();if(1===c.length){if(l-M<500){var f=c[0];o(g,f,d[f.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),S()}M=l}else if(c.length>1){var f=c[0],s=c[1],h=f[0]-s[0],p=f[1]-s[1];y=h*h+p*p}}function r(){var n,t,e,r,o=to.touches(g);Rc.call(g);for(var a=0,c=o.length;a<c;++a,r=null)if(e=o[a],r=d[e.identifier]){if(t)break;n=e,t=r}if(r){var f=(f=e[0]-n[0])*f+(f=e[1]-n[1])*f,s=y&&Math.sqrt(f/y);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],i(s*p)}M=null,u(n,t),l(v)}function a(){if(to.event.touches.length){for(var t=to.event.changedTouches,e=0,r=t.length;e<r;++e)delete d[t[e].identifier];for(var i in d)return void n()}to.selectAll(_).on(m,null),w.on(q,s).on(R,h),N(),f(v)}var p,g=this,v=D.of(g,arguments),d={},y=0,m=".zoom-"+to.event.changedTouches[0].identifier,x="touchmove"+m,b="touchend"+m,_=[],w=to.select(g),N=W(g);t(),c(v),w.on(q,null).on(R,t)}function p(){var n=D.of(this,arguments);m?clearTimeout(m):(Rc.call(this),v=e(d=y||to.mouse(this)),c(n)),m=setTimeout(function(){m=null,f(n)},50),S(),i(Math.pow(2,.002*Fo())*k.k),u(d,v),l(n)}function g(){var n=to.mouse(this),t=Math.log(k.k)/Math.LN2;o(this,n,e(n),to.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v,d,y,m,M,x,b,_,w,k={x:0,y:0,k:1},E=[960,500],A=Oo,C=250,z=0,q="mousedown.zoom",L="mousemove.zoom",T="mouseup.zoom",R="touchstart.zoom",D=N(n,"zoomstart","zoom","zoomend");return Ho||(Ho="onwheel"in io?(Fo=function(){return-to.event.deltaY*(to.event.deltaMode?120:1)},"wheel"):"onmousewheel"in io?(Fo=function(){return to.event.wheelDelta},"mousewheel"):(Fo=function(){return-to.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=D.of(this,arguments),t=k;Lc?to.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},c(n)}).tween("zoom:zoom",function(){var e=E[0],r=E[1],i=d?d[0]:e/2,u=d?d[1]:r/2,o=to.interpolateZoom([(i-k.x)/k.k,(u-k.y)/k.k,e/k.k],[(i-t.x)/t.k,(u-t.y)/t.k,e/t.k]);return function(t){var r=o(t),a=e/r[2];this.__chart__=k={x:i-r[0]*a,y:u-r[1]*a,k:a},l(n)}}).each("interrupt.zoom",function(){f(n)}).each("end.zoom",function(){f(n)}):(this.__chart__=k,c(n),l(n),f(n))})},n.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},a(),n):[k.x,k.y]},n.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:+t},a(),n):k.k},n.scaleExtent=function(t){return arguments.length?(A=null==t?Oo:[+t[0],+t[1]],n):A},n.center=function(t){return arguments.length?(y=t&&[+t[0],+t[1]],n):y},n.size=function(t){return arguments.length?(E=t&&[+t[0],+t[1]],n):E},n.duration=function(t){return arguments.length?(C=+t,n):C},n.x=function(t){return arguments.length?(b=t,x=t.copy(),k={x:0,y:0,k:1},n):b},n.y=function(t){return arguments.length?(w=t,_=t.copy(),k={x:0,y:0,k:1},n):w},to.rebind(n,D,"on")};var Fo,Ho,Oo=[0,1/0];to.color=an,an.prototype.toString=function(){return this.rgb()+""},to.hsl=cn;var Io=cn.prototype=new an;Io.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new cn(this.h,this.s,this.l/n)},Io.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new cn(this.h,this.s,n*this.l)},Io.rgb=function(){return ln(this.h,this.s,this.l)},to.hcl=fn;var Yo=fn.prototype=new an;Yo.brighter=function(n){return new fn(this.h,this.c,Math.min(100,this.l+Zo*(arguments.length?n:1)))},Yo.darker=function(n){return new fn(this.h,this.c,Math.max(0,this.l-Zo*(arguments.length?n:1)))},Yo.rgb=function(){return sn(this.h,this.c,this.l).rgb()},to.lab=hn;var Zo=18,Vo=.95047,Xo=1,$o=1.08883,Bo=hn.prototype=new an;Bo.brighter=function(n){return new hn(Math.min(100,this.l+Zo*(arguments.length?n:1)),this.a,this.b)},Bo.darker=function(n){return new hn(Math.max(0,this.l-Zo*(arguments.length?n:1)),this.a,this.b)},Bo.rgb=function(){return pn(this.l,this.a,this.b)},to.rgb=mn;var Wo=mn.prototype=new an;Wo.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,i=30;return t||e||r?(t&&t<i&&(t=i),e&&e<i&&(e=i),r&&r<i&&(r=i),new mn(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new mn(i,i,i)},Wo.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new mn(n*this.r,n*this.g,n*this.b)},Wo.hsl=function(){return wn(this.r,this.g,this.b)},Wo.toString=function(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)};var Jo=to.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Jo.forEach(function(n,t){Jo.set(n,Mn(t))}),to.functor=En,to.xhr=An(m),to.dsv=function(n,t){function e(n,e,u){arguments.length<3&&(u=e,e=null);var o=Cn(n,t,null==e?r:i(e),u);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:i(n)):e},o}function r(n){return e.parse(n.responseText)}function i(n){return function(t){return e.parse(t.responseText,n)}}function u(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),c=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var i=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(i(n),e)}:i})},e.parseRows=function(n,t){function e(){if(f>=l)return o;if(i)return i=!1,u;var t=f;if(34===n.charCodeAt(t)){for(var e=t;e++<l;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}f=e+2;var r=n.charCodeAt(e+1);return 13===r?(i=!0,10===n.charCodeAt(e+2)&&++f):10===r&&(i=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;f<l;){var r=n.charCodeAt(f++),a=1;if(10===r)i=!0;else if(13===r)i=!0,10===n.charCodeAt(f)&&(++f,++a);else if(r!==c)continue;return n.slice(t,f-a)}return n.slice(t)}for(var r,i,u={},o={},a=[],l=n.length,f=0,s=0;(r=e())!==o;){for(var h=[];r!==u&&r!==o;)h.push(r),r=e();t&&null==(h=t(h,s++))||a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new y,i=[];return t.forEach(function(n){for(var t in n)r.has(t)||i.push(r.add(t))}),[i.map(o).join(n)].concat(t.map(function(t){return i.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(u).join("\n")},e},to.csv=to.dsv(",","text/csv"),to.tsv=to.dsv("\t","text/tab-separated-values");var Go,Ko,Qo,na,ta,ea=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};to.timer=function(n,t,e){var r=arguments.length;r<2&&(t=0),r<3&&(e=Date.now());var i=e+t,u={c:n,t:i,f:!1,n:null};Ko?Ko.n=u:Go=u,Ko=u,Qo||(na=clearTimeout(na),Qo=1,ea(Ln))},to.timer.flush=function(){Tn(),Rn()},to.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var ra=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Pn);to.formatPrefix=function(n,t){var e=0;return n&&(n<0&&(n*=-1),t&&(n=to.round(n,Dn(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),ra[8+e/3]};var ia=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ua=to.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=to.round(n,Dn(n,t))).toFixed(Math.max(0,Math.min(20,Dn(n*(1+1e-15),t))))}}),oa=to.time={},aa=Date;Fn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ca.setUTCDate.apply(this._,arguments)},setDay:function(){ca.setUTCDay.apply(this._,arguments)},setFullYear:function(){ca.setUTCFullYear.apply(this._,arguments)},setHours:function(){ca.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ca.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ca.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ca.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ca.setUTCSeconds.apply(this._,arguments)},setTime:function(){ca.setTime.apply(this._,arguments)}};var ca=Date.prototype;oa.year=Hn(function(n){return n=oa.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),oa.years=oa.year.range,oa.years.utc=oa.year.utc.range,oa.day=Hn(function(n){var t=new aa(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),oa.days=oa.day.range,oa.days.utc=oa.day.utc.range,oa.dayOfYear=function(n){var t=oa.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=oa[n]=Hn(function(n){return(n=oa.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=oa.year(n).getDay();return Math.floor((oa.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});oa[n+"s"]=e.range,oa[n+"s"].utc=e.utc.range,oa[n+"OfYear"]=function(n){var e=oa.year(n).getDay();return Math.floor((oa.dayOfYear(n)+(e+t)%7)/7)}}),oa.week=oa.sunday,oa.weeks=oa.sunday.range,oa.weeks.utc=oa.sunday.utc.range,oa.weekOfYear=oa.sundayOfYear;var la={"-":"",_:" ",0:"0"},fa=/^\s*\d+/,sa=/^%/;to.locale=function(n){return{numberFormat:Un(n),timeFormat:In(n)}};var ha=to.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]
});to.format=ha.numberFormat,to.geo={},lt.prototype={s:0,t:0,add:function(n){ft(n,this.t,pa),ft(pa.s,this.s,this),this.s?this.t+=pa.t:this.s=pa.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pa=new lt;to.geo.stream=function(n,t){n&&ga.hasOwnProperty(n.type)?ga[n.type](n,t):st(n,t)};var ga={Feature:function(n,t){st(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)st(e[r].geometry,t)}},va={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){ht(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)ht(e[r],t,0)},Polygon:function(n,t){pt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)pt(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)st(e[r],t)}};to.geo.area=function(n){return da=0,to.geo.stream(n,ma),da};var da,ya=new lt,ma={sphere:function(){da+=4*zo},point:b,lineStart:b,lineEnd:b,polygonStart:function(){ya.reset(),ma.lineStart=gt},polygonEnd:function(){var n=2*ya;da+=n<0?4*zo+n:n,ma.lineStart=ma.lineEnd=ma.point=b}};to.geo.bounds=function(){function n(n,t){M.push(x=[f=n,h=n]),t<s&&(s=t),t>p&&(p=t)}function t(t,e){var r=vt([t*Ro,e*Ro]);if(y){var i=yt(y,r),u=[i[1],-i[0],0],o=yt(u,i);xt(o),o=bt(o);var c=t-g,l=c>0?1:-1,v=o[0]*Do*l,d=so(c)>180;if(d^(l*g<v&&v<l*t)){var m=o[1]*Do;m>p&&(p=m)}else if(v=(v+360)%360-180,d^(l*g<v&&v<l*t)){var m=-o[1]*Do;m<s&&(s=m)}else e<s&&(s=e),e>p&&(p=e);d?t<g?a(f,t)>a(f,h)&&(h=t):a(t,h)>a(f,h)&&(f=t):h>=f?(t<f&&(f=t),t>h&&(h=t)):t>g?a(f,t)>a(f,h)&&(h=t):a(t,h)>a(f,h)&&(f=t)}else n(t,e);y=r,g=t}function e(){b.point=t}function r(){x[0]=f,x[1]=h,b.point=n,y=null}function i(n,e){if(y){var r=n-g;m+=so(r)>180?r+(r>0?360:-360):r}else v=n,d=e;ma.point(n,e),t(n,e)}function u(){ma.lineStart()}function o(){i(v,d),ma.lineEnd(),so(m)>Ao&&(f=-(h=180)),x[0]=f,x[1]=h,y=null}function a(n,t){return(t-=n)<0?t+360:t}function c(n,t){return n[0]-t[0]}function l(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var f,s,h,p,g,v,d,y,m,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=i,b.lineStart=u,b.lineEnd=o,m=0,ma.polygonStart()},polygonEnd:function(){ma.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,ya<0?(f=-(h=180),s=-(p=90)):m>Ao?p=90:m<-Ao&&(s=-90),x[0]=f,x[1]=h}};return function(n){p=h=-(f=s=1/0),M=[],to.geo.stream(n,b);var t=M.length;if(t){M.sort(c);for(var e,r=1,i=M[0],u=[i];r<t;++r)e=M[r],l(e[0],i)||l(e[1],i)?(a(i[0],e[1])>a(i[0],i[1])&&(i[1]=e[1]),a(e[0],i[1])>a(i[0],i[1])&&(i[0]=e[0])):u.push(i=e);for(var o,e,g=-(1/0),t=u.length-1,r=0,i=u[t];r<=t;i=e,++r)e=u[r],(o=a(i[1],e[0]))>g&&(g=o,f=e[0],h=i[1])}return M=x=null,f===1/0||s===1/0?[[NaN,NaN],[NaN,NaN]]:[[f,s],[h,p]]}}(),to.geo.centroid=function(n){Ma=xa=ba=_a=wa=Sa=ka=Na=Ea=Aa=Ca=0,to.geo.stream(n,za);var t=Ea,e=Aa,r=Ca,i=t*t+e*e+r*r;return i<Co&&(t=Sa,e=ka,r=Na,xa<Ao&&(t=ba,e=_a,r=wa),i=t*t+e*e+r*r,i<Co)?[NaN,NaN]:[Math.atan2(e,t)*Do,tn(r/Math.sqrt(i))*Do]};var Ma,xa,ba,_a,wa,Sa,ka,Na,Ea,Aa,Ca,za={sphere:b,point:wt,lineStart:kt,lineEnd:Nt,polygonStart:function(){za.lineStart=Et},polygonEnd:function(){za.lineStart=kt}},qa=Tt(Ct,Ut,Ft,[-zo,-zo/2]),La=1e9;to.geo.clipExtent=function(){var n,t,e,r,i,u,o={stream:function(n){return i&&(i.valid=!1),i=u(n),i.valid=!0,i},extent:function(a){return arguments.length?(u=Yt(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(to.geo.conicEqualArea=function(){return Zt(Vt)}).raw=Vt,to.geo.albers=function(){return to.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},to.geo.albersUsa=function(){function n(n){var u=n[0],o=n[1];return t=null,e(u,o),t||(r(u,o),t)||i(u,o),t}var t,e,r,i,u=to.geo.albers(),o=to.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=to.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=u.scale(),e=u.translate(),r=(n[0]-e[0])/t,i=(n[1]-e[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?a:u).invert(n)},n.stream=function(n){var t=u.stream(n),e=o.stream(n),r=a.stream(n);return{point:function(n,i){t.point(n,i),e.point(n,i),r.point(n,i)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(u.precision(t),o.precision(t),a.precision(t),n):u.precision()},n.scale=function(t){return arguments.length?(u.scale(t),o.scale(.35*t),a.scale(t),n.translate(u.translate())):u.scale()},n.translate=function(t){if(!arguments.length)return u.translate();var l=u.scale(),f=+t[0],s=+t[1];return e=u.translate(t).clipExtent([[f-.455*l,s-.238*l],[f+.455*l,s+.238*l]]).stream(c).point,r=o.translate([f-.307*l,s+.201*l]).clipExtent([[f-.425*l+Ao,s+.12*l+Ao],[f-.214*l-Ao,s+.234*l-Ao]]).stream(c).point,i=a.translate([f-.205*l,s+.212*l]).clipExtent([[f-.214*l+Ao,s+.166*l+Ao],[f-.115*l-Ao,s+.234*l-Ao]]).stream(c).point,n},n.scale(1070)};var Ta,Ra,Da,Pa,Ua,ja,Fa={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Ra=0,Fa.lineStart=Xt},polygonEnd:function(){Fa.lineStart=Fa.lineEnd=Fa.point=b,Ta+=so(Ra/2)}},Ha={point:$t,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Oa={point:Jt,lineStart:Gt,lineEnd:Kt,polygonStart:function(){Oa.lineStart=Qt},polygonEnd:function(){Oa.point=Jt,Oa.lineStart=Gt,Oa.lineEnd=Kt}};to.geo.path=function(){function n(n){return n&&("function"==typeof a&&u.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=i(u)),to.geo.stream(n,o)),u.result()}function t(){return o=null,n}var e,r,i,u,o,a=4.5;return n.area=function(n){return Ta=0,to.geo.stream(n,i(Fa)),Ta},n.centroid=function(n){return ba=_a=wa=Sa=ka=Na=Ea=Aa=Ca=0,to.geo.stream(n,i(Oa)),Ca?[Ea/Ca,Aa/Ca]:Na?[Sa/Na,ka/Na]:wa?[ba/wa,_a/wa]:[NaN,NaN]},n.bounds=function(n){return Ua=ja=-(Da=Pa=1/0),to.geo.stream(n,i(Ha)),[[Da,Pa],[Ua,ja]]},n.projection=function(n){return arguments.length?(i=(e=n)?n.stream||ee(n):m,t()):e},n.context=function(n){return arguments.length?(u=null==(r=n)?new Bt:new ne(n),"function"!=typeof a&&u.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(u.pointRadius(+t),+t),n):a},n.projection(to.geo.albersUsa()).context(null)},to.geo.transform=function(n){return{stream:function(t){var e=new re(t);for(var r in n)e[r]=n[r];return e}}},re.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},to.geo.projection=ue,to.geo.projectionMutator=oe,(to.geo.equirectangular=function(){return ue(ce)}).raw=ce.invert=ce,to.geo.rotation=function(n){function t(t){return t=n(t[0]*Ro,t[1]*Ro),t[0]*=Do,t[1]*=Do,t}return n=fe(n[0]%360*Ro,n[1]*Ro,n.length>2?n[2]*Ro:0),t.invert=function(t){return t=n.invert(t[0]*Ro,t[1]*Ro),t[0]*=Do,t[1]*=Do,t},t},le.invert=ce,to.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=fe(-n[0]*Ro,-n[1]*Ro,0).invert,i=[];return e(null,null,1,{point:function(n,e){i.push(n=t(n,e)),n[0]*=Do,n[1]*=Do}}),{type:"Polygon",coordinates:[i]}}var t,e,r=[0,0],i=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=ge((t=+r)*Ro,i*Ro),n):t},n.precision=function(r){return arguments.length?(e=ge(t*Ro,(i=+r)*Ro),n):i},n.angle(90)},to.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Ro,i=n[1]*Ro,u=t[1]*Ro,o=Math.sin(r),a=Math.cos(r),c=Math.sin(i),l=Math.cos(i),f=Math.sin(u),s=Math.cos(u);return Math.atan2(Math.sqrt((e=s*o)*e+(e=l*f-c*s*a)*e),c*f+l*s*a)},to.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return to.range(Math.ceil(u/d)*d,i,d).map(h).concat(to.range(Math.ceil(l/y)*y,c,y).map(p)).concat(to.range(Math.ceil(r/g)*g,e,g).filter(function(n){return so(n%d)>Ao}).map(f)).concat(to.range(Math.ceil(a/v)*v,o,v).filter(function(n){return so(n%y)>Ao}).map(s))}var e,r,i,u,o,a,c,l,f,s,h,p,g=10,v=g,d=90,y=360,m=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(u).concat(p(c).slice(1),h(i).reverse().slice(1),p(l).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(u=+t[0][0],i=+t[1][0],l=+t[0][1],c=+t[1][1],u>i&&(t=u,u=i,i=t),l>c&&(t=l,l=c,c=t),n.precision(m)):[[u,l],[i,c]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(m)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],y=+t[1],n):[d,y]},n.minorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],n):[g,v]},n.precision=function(t){return arguments.length?(m=+t,f=de(a,o,90),s=ye(r,e,m),h=de(l,c,90),p=ye(u,i,m),n):m},n.majorExtent([[-180,-90+Ao],[180,90-Ao]]).minorExtent([[-180,-80-Ao],[180,80+Ao]])},to.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||i.apply(this,arguments)]}}var t,e,r=me,i=Me;return n.distance=function(){return to.geo.distance(t||r.apply(this,arguments),e||i.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(i=t,e="function"==typeof t?null:t,n):i},n.precision=function(){return arguments.length?n:0},n},to.geo.interpolate=function(n,t){return xe(n[0]*Ro,n[1]*Ro,t[0]*Ro,t[1]*Ro)},to.geo.length=function(n){return Ia=0,to.geo.stream(n,Ya),Ia};var Ia,Ya={sphere:b,point:b,lineStart:be,lineEnd:b,polygonStart:b,polygonEnd:b},Za=_e(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(to.geo.azimuthalEqualArea=function(){return ue(Za)}).raw=Za;var Va=_e(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},m);(to.geo.azimuthalEquidistant=function(){return ue(Va)}).raw=Va,(to.geo.conicConformal=function(){return Zt(we)}).raw=we,(to.geo.conicEquidistant=function(){return Zt(Se)}).raw=Se;var Xa=_e(function(n){return 1/n},Math.atan);(to.geo.gnomonic=function(){return ue(Xa)}).raw=Xa,ke.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-To]},(to.geo.mercator=function(){return Ne(ke)}).raw=ke;var $a=_e(function(){return 1},Math.asin);(to.geo.orthographic=function(){return ue($a)}).raw=$a;var Ba=_e(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(to.geo.stereographic=function(){return ue(Ba)}).raw=Ba,Ee.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-To]},(to.geo.transverseMercator=function(){var n=Ne(Ee),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Ee,to.geom={},to.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,i=En(e),u=En(r),o=n.length,a=[],c=[];for(t=0;t<o;t++)a.push([+i.call(this,n[t],t),+u.call(this,n[t],t),t]);for(a.sort(qe),t=0;t<o;t++)c.push([a[t][0],-a[t][1]]);var l=ze(a),f=ze(c),s=f[0]===l[0],h=f[f.length-1]===l[l.length-1],p=[];for(t=l.length-1;t>=0;--t)p.push(n[a[l[t]][2]]);for(t=+s;t<f.length-h;++t)p.push(n[a[f[t]][2]]);return p}var e=Ae,r=Ce;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},to.geom.polygon=function(n){return yo(n,Wa),n};var Wa=to.geom.polygon.prototype=[];Wa.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],i=0;++t<e;)n=r,r=this[t],i+=n[1]*r[0]-n[0]*r[1];return.5*i},Wa.centroid=function(n){var t,e,r=-1,i=this.length,u=0,o=0,a=this[i-1];for(arguments.length||(n=-1/(6*this.area()));++r<i;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],u+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[u*n,o*n]},Wa.clip=function(n){for(var t,e,r,i,u,o,a=Re(n),c=-1,l=this.length-Re(this),f=this[l-1];++c<l;){for(t=n.slice(),n.length=0,i=this[c],u=t[(r=t.length-a)-1],e=-1;++e<r;)o=t[e],Le(o,f,i)?(Le(u,f,i)||n.push(Te(u,o,f,i)),n.push(o)):Le(u,f,i)&&n.push(Te(u,o,f,i)),u=o;a&&n.push(n[0]),f=i}return n};var Ja,Ga,Ka,Qa,nc,tc=[],ec=[];Ie.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Ze),t.length},nr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},tr.prototype={insert:function(n,t){var e,r,i;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=ur(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.R&&(rr(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ir(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.L&&(ir(this,e),n=e,e=n.U),e.C=!1,r.C=!0,rr(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,i=n.U,u=n.L,o=n.R;if(e=u?o?ur(o):u:o,i?i.L===n?i.L=e:i.R=e:this._=e,u&&o?(r=e.C,e.C=n.C,e.L=u,u.U=e,e!==o?(i=e.U,e.U=n.U,n=e.R,i.L=n,e.R=o,o.U=e):(e.U=i,i=e,n=e.R)):(r=n.C,n=e),n&&(n.U=i),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,rr(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ir(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,rr(this,i),n=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ir(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,rr(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ir(this,i),n=this._;break}t.C=!0,n=i,i=i.U}while(!n.C);n&&(n.C=!1)}}},to.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],i=a[0][1],u=a[1][0],o=a[1][1];return or(e(n),a).cells.forEach(function(e,a){var c=e.edges,l=e.site,f=t[a]=c.length?c.map(function(n){var t=n.start();return[t.x,t.y]}):l.x>=r&&l.x<=u&&l.y>=i&&l.y<=o?[[r,o],[u,o],[u,i],[r,i]]:[];f.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(u(n,t)/Ao)*Ao,y:Math.round(o(n,t)/Ao)*Ao,i:t}})}var r=Ae,i=Ce,u=r,o=i,a=rc;return n?t(n):(t.links=function(n){return or(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return or(e(n)).cells.forEach(function(e,r){for(var i,u,o=e.site,a=e.edges.sort(Ze),c=-1,l=a.length,f=a[l-1].edge,s=f.l===o?f.r:f.l;++c<l;)i=f,u=s,f=a[c].edge,s=f.l===o?f.r:f.l,r<u.i&&r<s.i&&cr(o,u,s)<0&&t.push([n[r],n[u.i],n[s.i]])}),t},t.x=function(n){return arguments.length?(u=En(r=n),t):r},t.y=function(n){return arguments.length?(o=En(i=n),t):i},t.clipExtent=function(n){return arguments.length?(a=null==n?rc:n,t):a===rc?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===rc?null:a&&a[1]},t)};var rc=[[-1e6,-1e6],[1e6,1e6]];to.geom.delaunay=function(n){return to.geom.voronoi().triangles(n)},to.geom.quadtree=function(n,t,e,r,i){function u(n){function u(n,t,e,r,i,u,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var c=n.x,f=n.y;if(null!=c)if(so(c-e)+so(f-r)<.01)l(n,t,e,r,i,u,o,a);else{var s=n.point;n.x=n.y=n.point=null,l(n,s,c,f,i,u,o,a),l(n,t,e,r,i,u,o,a)}else n.x=e,n.y=r,n.point=t}else l(n,t,e,r,i,u,o,a)}function l(n,t,e,r,i,o,a,c){var l=.5*(i+a),f=.5*(o+c),s=e>=l,h=r>=f,p=h<<1|s;n.leaf=!1,n=n.nodes[p]||(n.nodes[p]=sr()),s?i=l:a=l,h?o=f:c=f,u(n,t,e,r,i,o,a,c)}var f,s,h,p,g,v,d,y,m,M=En(a),x=En(c);if(null!=t)v=t,d=e,y=r,m=i;else if(y=m=-(v=d=1/0),s=[],h=[],g=n.length,o)for(p=0;p<g;++p)f=n[p],f.x<v&&(v=f.x),f.y<d&&(d=f.y),f.x>y&&(y=f.x),f.y>m&&(m=f.y),s.push(f.x),h.push(f.y);else for(p=0;p<g;++p){var b=+M(f=n[p],p),_=+x(f,p);b<v&&(v=b),_<d&&(d=_),b>y&&(y=b),_>m&&(m=_),s.push(b),h.push(_)}var w=y-v,S=m-d;w>S?m=d+w:y=v+S;var k=sr();if(k.add=function(n){u(k,n,+M(n,++p),+x(n,p),v,d,y,m)},k.visit=function(n){hr(n,k,v,d,y,m)},k.find=function(n){return pr(k,n[0],n[1],v,d,y,m)},p=-1,null==t){for(;++p<g;)u(k,n[p],s[p],h[p],v,d,y,m);--p}else n.forEach(k.add);return s=h=n=f=null,k}var o,a=Ae,c=Ce;return(o=arguments.length)?(a=lr,c=fr,3===o&&(i=e,r=t,e=t=0),u(n)):(u.x=function(n){return arguments.length?(a=n,u):a},u.y=function(n){return arguments.length?(c=n,u):c},u.extent=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],i=+n[1][1]),u):null==t?null:[[t,e],[r,i]]},u.size=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=e=0,r=+n[0],i=+n[1]),u):null==t?null:[r-t,i-e]},u)},to.interpolateRgb=gr,to.interpolateObject=vr,to.interpolateNumber=dr,to.interpolateString=yr;var ic=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uc=new RegExp(ic.source,"g");to.interpolate=mr,to.interpolators=[function(n,t){var e=typeof t;return("string"===e?Jo.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?gr:yr:t instanceof an?gr:Array.isArray(t)?Mr:"object"===e&&isNaN(t)?vr:dr)(n,t)}],to.interpolateArray=Mr;var oc=function(){return m},ac=to.map({linear:oc,poly:Nr,quad:function(){return wr},cubic:function(){return Sr},sin:function(){return Er},exp:function(){return Ar},circle:function(){return Cr},elastic:zr,back:qr,bounce:function(){return Lr}}),cc=to.map({in:m,out:br,"in-out":_r,"out-in":function(n){return _r(br(n))}});to.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=ac.get(e)||oc,r=cc.get(r)||m,xr(r(e.apply(null,eo.call(arguments,1))))},to.interpolateHcl=Tr,to.interpolateHsl=Rr,to.interpolateLab=Dr,to.interpolateRound=Pr,to.transform=function(n){var t=io.createElementNS(to.ns.prefix.svg,"g");return(to.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new Ur(e?e.matrix:lc)})(n)},Ur.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var lc={a:1,b:0,c:0,d:1,e:0,f:0};to.interpolateTransform=Or,to.layout={},to.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Zr(n[e]));return t}},to.layout.chord=function(){function n(){var n,l,s,h,p,g={},v=[],d=to.range(u),y=[];for(e=[],r=[],n=0,h=-1;++h<u;){for(l=0,p=-1;++p<u;)l+=i[h][p];v.push(l),y.push(to.range(u)),n+=l}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&y.forEach(function(n,t){n.sort(function(n,e){return a(i[t][n],i[t][e])})}),n=(qo-f*u)/n,l=0,h=-1;++h<u;){for(s=l,p=-1;++p<u;){var m=d[h],M=y[m][p],x=i[m][M],b=l,_=l+=x*n;g[m+"-"+M]={index:m,subindex:M,startAngle:b,endAngle:_,value:x}}r[m]={index:m,startAngle:s,endAngle:l,value:(l-s)/n},l+=f}for(h=-1;++h<u;)for(p=h-1;++p<u;){var w=g[h+"-"+p],S=g[p+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}c&&t()}function t(){e.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,i,u,o,a,c,l={},f=0;return l.matrix=function(n){return arguments.length?(u=(i=n)&&i.length,e=r=null,l):i},l.padding=function(n){return arguments.length?(f=n,e=r=null,l):f},l.sortGroups=function(n){return arguments.length?(o=n,e=r=null,l):o},l.sortSubgroups=function(n){return arguments.length?(a=n,e=null,l):a},l.sortChords=function(n){return arguments.length?(c=n,e&&t(),l):c},l.chords=function(){return e||n(),e},l.groups=function(){return r||n(),r},l},to.layout.force=function(){function n(n){return function(t,e,r,i){if(t.point!==n){var u=t.cx-n.x,o=t.cy-n.y,a=i-e,c=u*u+o*o;if(a*a/d<c){if(c<g){var l=t.charge/c;n.px-=u*l,n.py-=o*l}return!0}if(t.point&&c&&c<g){var l=t.pointCharge/c;n.px-=u*l,n.py-=o*l}}return!t.charge}}function t(n){n.px=to.event.x,n.py=to.event.y,a.resume()}var e,r,i,u,o,a={},c=to.dispatch("start","tick","end"),l=[1,1],f=.9,s=fc,h=sc,p=-30,g=hc,v=.1,d=.64,y=[],M=[];return a.tick=function(){if((r*=.99)<.005)return c.end({type:"end",alpha:r=0}),!0;var t,e,a,s,h,g,d,m,x,b=y.length,_=M.length;for(e=0;e<_;++e)a=M[e],s=a.source,h=a.target,m=h.x-s.x,x=h.y-s.y,(g=m*m+x*x)&&(g=r*u[e]*((g=Math.sqrt(g))-i[e])/g,m*=g,x*=g,h.x-=m*(d=s.weight/(h.weight+s.weight)),h.y-=x*d,s.x+=m*(d=1-d),s.y+=x*d);if((d=r*v)&&(m=l[0]/2,x=l[1]/2,e=-1,d))for(;++e<b;)a=y[e],a.x+=(m-a.x)*d,a.y+=(x-a.y)*d;if(p)for(Gr(t=to.geom.quadtree(y),r,o),e=-1;++e<b;)(a=y[e]).fixed||t.visit(n(a));for(e=-1;++e<b;)a=y[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*f,a.y-=(a.py-(a.py=a.y))*f);c.tick({type:"tick",alpha:r})},a.nodes=function(n){return arguments.length?(y=n,a):y},a.links=function(n){return arguments.length?(M=n,a):M},a.size=function(n){return arguments.length?(l=n,a):l},a.linkDistance=function(n){return arguments.length?(s="function"==typeof n?n:+n,a):s},a.distance=a.linkDistance,a.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,a):h},a.friction=function(n){return arguments.length?(f=+n,a):f},a.charge=function(n){return arguments.length?(p="function"==typeof n?n:+n,a):p},a.chargeDistance=function(n){return arguments.length?(g=n*n,a):Math.sqrt(g)},a.gravity=function(n){return arguments.length?(v=+n,a):v},a.theta=function(n){return arguments.length?(d=n*n,a):Math.sqrt(d)},a.alpha=function(n){return arguments.length?(n=+n,r?r=n>0?n:0:n>0&&(c.start({type:"start",alpha:r=n}),to.timer(a.tick)),a):r},a.start=function(){function n(n,r){if(!e){for(e=new Array(c),a=0;a<c;++a)e[a]=[];for(a=0;a<f;++a){var i=M[a];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var u,o=e[t],a=-1,l=o.length;++a<l;)if(!isNaN(u=o[a][n]))return u;return Math.random()*r}var t,e,r,c=y.length,f=M.length,g=l[0],v=l[1];for(t=0;t<c;++t)(r=y[t]).index=t,r.weight=0;for(t=0;t<f;++t)r=M[t],"number"==typeof r.source&&(r.source=y[r.source]),"number"==typeof r.target&&(r.target=y[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<c;++t)r=y[t],isNaN(r.x)&&(r.x=n("x",g)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof s)for(t=0;t<f;++t)i[t]=+s.call(this,M[t],t);else for(t=0;t<f;++t)i[t]=s;if(u=[],"function"==typeof h)for(t=0;t<f;++t)u[t]=+h.call(this,M[t],t);else for(t=0;t<f;++t)u[t]=h;if(o=[],"function"==typeof p)for(t=0;t<c;++t)o[t]=+p.call(this,y[t],t);else for(t=0;t<c;++t)o[t]=p;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=to.behavior.drag().origin(m).on("dragstart.force",$r).on("drag.force",t).on("dragend.force",Br)),arguments.length?void this.on("mouseover.force",Wr).on("mouseout.force",Jr).call(e):e},to.rebind(a,c,"on")};var fc=20,sc=1,hc=1/0;to.layout.hierarchy=function(){function n(i){var u,o=[i],a=[];for(i.depth=0;null!=(u=o.pop());)if(a.push(u),(l=e.call(n,u,u.depth))&&(c=l.length)){for(var c,l,f;--c>=0;)o.push(f=l[c]),f.parent=u,f.depth=u.depth+1;r&&(u.value=0),u.children=l}else r&&(u.value=+r.call(n,u,u.depth)||0),delete u.children;return ni(i,function(n){var e,i;t&&(e=n.children)&&e.sort(t),r&&(i=n.parent)&&(i.value+=n.value)}),a}var t=ri,e=ti,r=ei;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(Qr(t,function(n){n.children&&(n.value=0)}),ni(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},to.layout.partition=function(){function n(t,e,r,i){var u=t.children;if(t.x=e,t.y=t.depth*i,t.dx=r,t.dy=i,u&&(o=u.length)){var o,a,c,l=-1;for(r=t.value?r/t.value:0;++l<o;)n(a=u[l],e,c=a.value*r,i),e+=c}}function t(n){var e=n.children,r=0;if(e&&(i=e.length))for(var i,u=-1;++u<i;)r=Math.max(r,t(e[u]));return 1+r}function e(e,u){var o=r.call(this,e,u);return n(o[0],0,i[0],i[1]/t(o[0])),o}var r=to.layout.hierarchy(),i=[1,1];return e.size=function(n){return arguments.length?(i=n,e):i},Kr(e,r)},to.layout.pie=function(){function n(o){var a,c=o.length,l=o.map(function(e,r){return+t.call(n,e,r)}),f=+("function"==typeof r?r.apply(this,arguments):r),s=("function"==typeof i?i.apply(this,arguments):i)-f,h=Math.min(Math.abs(s)/c,+("function"==typeof u?u.apply(this,arguments):u)),p=h*(s<0?-1:1),g=(s-c*p)/to.sum(l),v=to.range(c),d=[];return null!=e&&v.sort(e===pc?function(n,t){return l[t]-l[n]}:function(n,t){return e(o[n],o[t])}),v.forEach(function(n){d[n]={data:o[n],value:a=l[n],startAngle:f,endAngle:f+=a*g+p,padAngle:h}}),d}var t=Number,e=pc,r=0,i=qo,u=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(i=t,n):i},n.padAngle=function(t){return arguments.length?(u=t,n):u},n};var pc={};to.layout.stack=function(){function n(a,c){if(!(h=a.length))return a;var l=a.map(function(e,r){return t.call(n,e,r)}),f=l.map(function(t){return t.map(function(t,e){return[u.call(n,t,e),o.call(n,t,e)]})}),s=e.call(n,f,c);l=to.permute(l,s),f=to.permute(f,s);var h,p,g,v,d=r.call(n,f,c),y=l[0].length;for(g=0;g<y;++g)for(i.call(n,l[0][g],v=d[g],f[0][g][1]),p=1;p<h;++p)i.call(n,l[p][g],v+=f[p-1][g][1],f[p][g][1]);return a}var t=m,e=ci,r=li,i=ai,u=ui,o=oi;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:gc.get(t)||ci,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:vc.get(t)||li,n):r},n.x=function(t){return arguments.length?(u=t,n):u},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(i=t,n):i},n};var gc=to.map({"inside-out":function(n){var t,e,r=n.length,i=n.map(fi),u=n.map(si),o=to.range(r).sort(function(n,t){return i[n]-i[t]}),a=0,c=0,l=[],f=[];for(t=0;t<r;++t)e=o[t],a<c?(a+=u[e],l.push(e)):(c+=u[e],f.push(e));return f.reverse().concat(l)},reverse:function(n){return to.range(n.length).reverse()},default:ci}),vc=to.map({silhouette:function(n){var t,e,r,i=n.length,u=n[0].length,o=[],a=0,c=[];for(e=0;e<u;++e){for(t=0,r=0;t<i;t++)r+=n[t][e][1];r>a&&(a=r),o.push(r)}for(e=0;e<u;++e)c[e]=(a-o[e])/2;return c},wiggle:function(n){var t,e,r,i,u,o,a,c,l,f=n.length,s=n[0],h=s.length,p=[];for(p[0]=c=l=0,e=1;e<h;++e){for(t=0,i=0;t<f;++t)i+=n[t][e][1];for(t=0,u=0,a=s[e][0]-s[e-1][0];t<f;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);r<t;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;u+=o*n[t][e][1]}p[e]=c-=i?u/i*a:0,c<l&&(l=c)}for(e=0;e<h;++e)p[e]-=l;return p},expand:function(n){var t,e,r,i=n.length,u=n[0].length,o=1/i,a=[];for(e=0;e<u;++e){for(t=0,r=0;t<i;t++)r+=n[t][e][1];if(r)for(t=0;t<i;t++)n[t][e][1]/=r;else for(t=0;t<i;t++)n[t][e][1]=o}for(e=0;e<u;++e)a[e]=0;return a},zero:li});to.layout.histogram=function(){function n(n,u){for(var o,a,c=[],l=n.map(e,this),f=r.call(this,l,u),s=i.call(this,f,l,u),u=-1,h=l.length,p=s.length-1,g=t?1:1/h;++u<p;)o=c[u]=[],o.dx=s[u+1]-(o.x=s[u]),o.y=0;if(p>0)for(u=-1;++u<h;)a=l[u],a>=f[0]&&a<=f[1]&&(o=c[to.bisect(s,a,1,p)-1],o.y+=g,o.push(n[u]));return c}var t=!0,e=Number,r=vi,i=pi;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=En(t),n):r},n.bins=function(t){return arguments.length?(i="number"==typeof t?function(n){return gi(n,t)}:En(t),n):i},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},to.layout.pack=function(){function n(n,u){var o=e.call(this,n,u),a=o[0],c=i[0],l=i[1],f=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,ni(a,function(n){n.r=+f(n.value)}),ni(a,xi),r){var s=r*(t?1:Math.max(2*a.r/c,2*a.r/l))/2;ni(a,function(n){n.r+=s}),ni(a,xi),ni(a,function(n){n.r-=s})}return wi(a,c/2,l/2,t?1:1/Math.max(2*a.r/c,2*a.r/l)),o}var t,e=to.layout.hierarchy().sort(di),r=0,i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},Kr(n,e)},to.layout.tree=function(){function n(n,i){var f=o.call(this,n,i),s=f[0],h=t(s);if(ni(h,e),h.parent.m=-h.z,Qr(h,r),l)Qr(s,u);else{var p=s,g=s,v=s;Qr(s,function(n){n.x<p.x&&(p=n),n.x>g.x&&(g=n),n.depth>v.depth&&(v=n)});var d=a(p,g)/2-p.x,y=c[0]/(g.x+a(g,p)/2+d),m=c[1]/(v.depth||1);Qr(s,function(n){n.x=(n.x+d)*y,n.y=n.depth*m})}return f}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var i,u=t.children,o=0,a=u.length;o<a;++o)r.push((u[o]=i={_:u[o],parent:t,children:(i=u[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Ci(n);var u=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+a(n._,r._),n.m=n.z-u):n.z=u}else r&&(n.z=r.z+a(n._,r._));n.parent.A=i(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function i(n,t,e){if(t){for(var r,i=n,u=n,o=t,c=i.parent.children[0],l=i.m,f=u.m,s=o.m,h=c.m;o=Ei(o),i=Ni(i),o&&i;)c=Ni(c),u=Ei(u),u.a=n,r=o.z+s-i.z-l+a(o._,i._),r>0&&(Ai(zi(o,n,e),n,r),l+=r,f+=r),s+=o.m,l+=i.m,h+=c.m,f+=u.m;o&&!Ei(u)&&(u.t=o,u.m+=s-f),i&&!Ni(c)&&(c.t=i,c.m+=l-h,e=n)}return e}function u(n){n.x*=c[0],n.y=n.depth*c[1]}var o=to.layout.hierarchy().sort(null).value(null),a=ki,c=[1,1],l=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(l=null==(c=t)?u:null,n):l?null:c},n.nodeSize=function(t){return arguments.length?(l=null==(c=t)?null:u,n):l?c:null},Kr(n,o)},to.layout.cluster=function(){function n(n,u){var o,a=t.call(this,n,u),c=a[0],l=0;ni(c,function(n){var t=n.children;t&&t.length?(n.x=Li(t),n.y=qi(t)):(n.x=o?l+=e(n,o):0,n.y=0,o=n)});var f=Ti(c),s=Ri(c),h=f.x-e(f,s)/2,p=s.x+e(s,f)/2;return ni(c,i?function(n){n.x=(n.x-c.x)*r[0],n.y=(c.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(p-h)*r[0],n.y=(1-(c.y?n.y/c.y:1))*r[1]}),a}var t=to.layout.hierarchy().sort(null).value(null),e=ki,r=[1,1],i=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(i=null==(r=t),n):i?null:r},n.nodeSize=function(t){return arguments.length?(i=null!=(r=t),n):i?r:null},Kr(n,t)},to.layout.treemap=function(){function n(n,t){for(var e,r,i=-1,u=n.length;++i<u;)r=(e=n[i]).value*(t<0?0:t),e.area=isNaN(r)||r<=0?0:r}function t(e){var u=e.children;if(u&&u.length){var o,a,c,l=s(e),f=[],h=u.slice(),g=1/0,v="slice"===p?l.dx:"dice"===p?l.dy:"slice-dice"===p?1&e.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(n(h,l.dx*l.dy/e.value),f.area=0;(c=h.length)>0;)f.push(o=h[c-1]),f.area+=o.area,"squarify"!==p||(a=r(f,v))<=g?(h.pop(),g=a):(f.area-=f.pop().area,i(f,v,l,!1),v=Math.min(l.dx,l.dy),f.length=f.area=0,g=1/0);f.length&&(i(f,v,l,!0),f.length=f.area=0),u.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var u,o=s(t),a=r.slice(),c=[];for(n(a,o.dx*o.dy/t.value),c.area=0;u=a.pop();)c.push(u),c.area+=u.area,null!=u.z&&(i(c,u.z?o.dx:o.dy,o,!a.length),c.length=c.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,i=0,u=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(e<u&&(u=e),e>i&&(i=e));return r*=r,t*=t,r?Math.max(t*i*g/r,r/(t*u*g)):1/0}function i(n,t,e,r){var i,u=-1,o=n.length,a=e.x,l=e.y,f=t?c(n.area/t):0;if(t==e.dx){for((r||f>e.dy)&&(f=e.dy);++u<o;)i=n[u],i.x=a,i.y=l,i.dy=f,a+=i.dx=Math.min(e.x+e.dx-a,f?c(i.area/f):0);i.z=!0,i.dx+=e.x+e.dx-a,e.y+=f,e.dy-=f}else{for((r||f>e.dx)&&(f=e.dx);++u<o;)i=n[u],i.x=a,i.y=l,i.dx=f,l+=i.dy=Math.min(e.y+e.dy-l,f?c(i.area/f):0);i.z=!1,i.dy+=e.y+e.dy-l,e.x+=f,e.dx-=f}}function u(r){
var i=o||a(r),u=i[0];return u.x=0,u.y=0,u.dx=l[0],u.dy=l[1],o&&a.revalue(u),n([u],u.dx*u.dy/u.value),(o?e:t)(u),h&&(o=i),i}var o,a=to.layout.hierarchy(),c=Math.round,l=[1,1],f=null,s=Di,h=!1,p="squarify",g=.5*(1+Math.sqrt(5));return u.size=function(n){return arguments.length?(l=n,u):l},u.padding=function(n){function t(t){var e=n.call(u,t,t.depth);return null==e?Di(t):Pi(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Pi(t,n)}if(!arguments.length)return f;var r;return s=null==(f=n)?Di:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,u},u.round=function(n){return arguments.length?(c=n?Math.round:Number,u):c!=Number},u.sticky=function(n){return arguments.length?(h=n,o=null,u):h},u.ratio=function(n){return arguments.length?(g=n,u):g},u.mode=function(n){return arguments.length?(p=n+"",u):p},Kr(u,a)},to.random={normal:function(n,t){var e=arguments.length;return e<2&&(t=1),e<1&&(n=0),function(){var e,r,i;do e=2*Math.random()-1,r=2*Math.random()-1,i=e*e+r*r;while(!i||i>1);return n+t*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var n=to.random.normal.apply(to,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=to.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},to.scale={};var dc={floor:m,ceil:m};to.scale.linear=function(){return Yi([0,1],[0,1],mr,!1)};var yc={s:1,g:1,p:1,r:1,e:1};to.scale.log=function(){return Gi(to.scale.linear().domain([0,1]),10,!0,[1,10])};var mc=to.format(".0e"),Mc={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};to.scale.pow=function(){return Ki(to.scale.linear(),1,[0,1])},to.scale.sqrt=function(){return to.scale.pow().exponent(.5)},to.scale.ordinal=function(){return nu([],{t:"range",a:[[]]})},to.scale.category10=function(){return to.scale.ordinal().range(xc)},to.scale.category20=function(){return to.scale.ordinal().range(bc)},to.scale.category20b=function(){return to.scale.ordinal().range(_c)},to.scale.category20c=function(){return to.scale.ordinal().range(wc)};var xc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xn),bc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xn),_c=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xn),wc=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xn);to.scale.quantile=function(){return tu([],[])},to.scale.quantize=function(){return eu(0,1,[0,1])},to.scale.threshold=function(){return ru([.5],[0,1])},to.scale.identity=function(){return iu([0,1])},to.svg={},to.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),f=o.apply(this,arguments)-To,s=a.apply(this,arguments)-To,h=Math.abs(s-f),p=f>s?0:1;if(l<n&&(g=l,l=n,n=g),h>=Lo)return t(l,p)+(n?t(n,1-p):"")+"Z";var g,v,d,y,m,M,x,b,_,w,S,k,N=0,E=0,A=[];if((y=(+c.apply(this,arguments)||0)/2)&&(d=u===Sc?Math.sqrt(n*n+l*l):+u.apply(this,arguments),p||(E*=-1),l&&(E=tn(d/l*Math.sin(y))),n&&(N=tn(d/n*Math.sin(y)))),l){m=l*Math.cos(f+E),M=l*Math.sin(f+E),x=l*Math.cos(s-E),b=l*Math.sin(s-E);var C=Math.abs(s-f-2*E)<=zo?0:1;if(E&&su(m,M,x,b)===p^C){var z=(f+s)/2;m=l*Math.cos(z),M=l*Math.sin(z),x=b=null}}else m=M=0;if(n){_=n*Math.cos(s-N),w=n*Math.sin(s-N),S=n*Math.cos(f+N),k=n*Math.sin(f+N);var q=Math.abs(f-s+2*N)<=zo?0:1;if(N&&su(_,w,S,k)===1-p^q){var L=(f+s)/2;_=n*Math.cos(L),w=n*Math.sin(L),S=k=null}}else _=w=0;if((g=Math.min(Math.abs(l-n)/2,+i.apply(this,arguments)))>.001){v=n<l^p?0:1;var T=null==S?[_,w]:null==x?[m,M]:Te([m,M],[S,k],[x,b],[_,w]),R=m-T[0],D=M-T[1],P=x-T[0],U=b-T[1],j=1/Math.sin(Math.acos((R*P+D*U)/(Math.sqrt(R*R+D*D)*Math.sqrt(P*P+U*U)))/2),F=Math.sqrt(T[0]*T[0]+T[1]*T[1]);if(null!=x){var H=Math.min(g,(l-F)/(j+1)),O=hu(null==S?[_,w]:[S,k],[m,M],l,H,p),I=hu([x,b],[_,w],l,H,p);g===H?A.push("M",O[0],"A",H,",",H," 0 0,",v," ",O[1],"A",l,",",l," 0 ",1-p^su(O[1][0],O[1][1],I[1][0],I[1][1]),",",p," ",I[1],"A",H,",",H," 0 0,",v," ",I[0]):A.push("M",O[0],"A",H,",",H," 0 1,",v," ",I[0])}else A.push("M",m,",",M);if(null!=S){var Y=Math.min(g,(n-F)/(j-1)),Z=hu([m,M],[S,k],n,-Y,p),V=hu([_,w],null==x?[m,M]:[x,b],n,-Y,p);g===Y?A.push("L",V[0],"A",Y,",",Y," 0 0,",v," ",V[1],"A",n,",",n," 0 ",p^su(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-p," ",Z[1],"A",Y,",",Y," 0 0,",v," ",Z[0]):A.push("L",V[0],"A",Y,",",Y," 0 0,",v," ",Z[0])}else A.push("L",_,",",w)}else A.push("M",m,",",M),null!=x&&A.push("A",l,",",l," 0 ",C,",",p," ",x,",",b),A.push("L",_,",",w),null!=S&&A.push("A",n,",",n," 0 ",q,",",1-p," ",S,",",k);return A.push("Z"),A.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=ou,r=au,i=uu,u=Sc,o=cu,a=lu,c=fu;return n.innerRadius=function(t){return arguments.length?(e=En(t),n):e},n.outerRadius=function(t){return arguments.length?(r=En(t),n):r},n.cornerRadius=function(t){return arguments.length?(i=En(t),n):i},n.padRadius=function(t){return arguments.length?(u=t==Sc?Sc:En(t),n):u},n.startAngle=function(t){return arguments.length?(o=En(t),n):o},n.endAngle=function(t){return arguments.length?(a=En(t),n):a},n.padAngle=function(t){return arguments.length?(c=En(t),n):c},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-To;return[Math.cos(t)*n,Math.sin(t)*n]},n};var Sc="auto";to.svg.line=function(){return pu(m)};var kc=to.map({linear:gu,"linear-closed":vu,step:du,"step-before":yu,"step-after":mu,basis:Su,"basis-open":ku,"basis-closed":Nu,bundle:Eu,cardinal:bu,"cardinal-open":Mu,"cardinal-closed":xu,monotone:Tu});kc.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Nc=[0,2/3,1/3,0],Ec=[0,1/3,2/3,0],Ac=[0,1/6,2/3,1/6];to.svg.line.radial=function(){var n=pu(Ru);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},yu.reverse=mu,mu.reverse=yu,to.svg.area=function(){return Du(m)},to.svg.area.radial=function(){var n=Du(Ru);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},to.svg.chord=function(){function n(n,a){var c=t(this,u,n,a),l=t(this,o,n,a);return"M"+c.p0+r(c.r,c.p1,c.a1-c.a0)+(e(c,l)?i(c.r,c.p1,c.r,c.p0):i(c.r,c.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,c.r,c.p0))+"Z"}function t(n,t,e,r){var i=t.call(n,e,r),u=a.call(n,i,r),o=c.call(n,i,r)-To,f=l.call(n,i,r)-To;return{r:u,a0:o,a1:f,p0:[u*Math.cos(o),u*Math.sin(o)],p1:[u*Math.cos(f),u*Math.sin(f)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>zo)+",1 "+t}function i(n,t,e,r){return"Q 0,0 "+r}var u=me,o=Me,a=Pu,c=cu,l=lu;return n.radius=function(t){return arguments.length?(a=En(t),n):a},n.source=function(t){return arguments.length?(u=En(t),n):u},n.target=function(t){return arguments.length?(o=En(t),n):o},n.startAngle=function(t){return arguments.length?(c=En(t),n):c},n.endAngle=function(t){return arguments.length?(l=En(t),n):l},n},to.svg.diagonal=function(){function n(n,i){var u=t.call(this,n,i),o=e.call(this,n,i),a=(u.y+o.y)/2,c=[u,{x:u.x,y:a},{x:o.x,y:a},o];return c=c.map(r),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var t=me,e=Me,r=Uu;return n.source=function(e){return arguments.length?(t=En(e),n):t},n.target=function(t){return arguments.length?(e=En(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},to.svg.diagonal.radial=function(){var n=to.svg.diagonal(),t=Uu,e=n.projection;return n.projection=function(n){return arguments.length?e(ju(t=n)):t},n},to.svg.symbol=function(){function n(n,r){return(Cc.get(t.call(this,n,r))||Ou)(e.call(this,n,r))}var t=Hu,e=Fu;return n.type=function(e){return arguments.length?(t=En(e),n):t},n.size=function(t){return arguments.length?(e=En(t),n):e},n};var Cc=to.map({circle:Ou,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*qc)),e=t*qc;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/zc),e=t*zc/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/zc),e=t*zc/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});to.svg.symbolTypes=Cc.keys();var zc=Math.sqrt(3),qc=Math.tan(30*Ro);bo.transition=function(n){for(var t,e,r=Lc||++Pc,i=Xu(n),u=[],o=Tc||{time:Date.now(),ease:kr,delay:0,duration:250},a=-1,c=this.length;++a<c;){u.push(t=[]);for(var l=this[a],f=-1,s=l.length;++f<s;)(e=l[f])&&$u(e,f,i,r,o),t.push(e)}return Yu(u,i,r)},bo.interrupt=function(n){return this.each(null==n?Rc:Iu(Xu(n)))};var Lc,Tc,Rc=Iu(Xu()),Dc=[],Pc=0;Dc.call=bo.call,Dc.empty=bo.empty,Dc.node=bo.node,Dc.size=bo.size,to.transition=function(n,t){return n&&n.transition?Lc?n.transition(t):n:to.selection().transition(n)},to.transition.prototype=Dc,Dc.select=function(n){var t,e,r,i=this.id,u=this.namespace,o=[];n=A(n);for(var a=-1,c=this.length;++a<c;){o.push(t=[]);for(var l=this[a],f=-1,s=l.length;++f<s;)(r=l[f])&&(e=n.call(r,r.__data__,f,a))?("__data__"in r&&(e.__data__=r.__data__),$u(e,f,u,i,r[u][i]),t.push(e)):t.push(null)}return Yu(o,u,i)},Dc.selectAll=function(n){var t,e,r,i,u,o=this.id,a=this.namespace,c=[];n=C(n);for(var l=-1,f=this.length;++l<f;)for(var s=this[l],h=-1,p=s.length;++h<p;)if(r=s[h]){u=r[a][o],e=n.call(r,r.__data__,h,l),c.push(t=[]);for(var g=-1,v=e.length;++g<v;)(i=e[g])&&$u(i,g,a,o,u),t.push(i)}return Yu(c,a,o)},Dc.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=O(n));for(var u=0,o=this.length;u<o;u++){i.push(t=[]);for(var e=this[u],a=0,c=e.length;a<c;a++)(r=e[a])&&n.call(r,r.__data__,a,u)&&t.push(r)}return Yu(i,this.namespace,this.id)},Dc.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(i){i[r][e].tween.set(n,t)})},Dc.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function i(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function u(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?Or:mr,a=to.ns.qualify(n);return Zu(this,"attr."+n,t,a.local?u:i)},Dc.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(i));return r&&function(n){this.setAttribute(i,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(i.space,i.local));return r&&function(n){this.setAttributeNS(i.space,i.local,r(n))}}var i=to.ns.qualify(n);return this.tween("attr."+n,i.local?r:e)},Dc.style=function(n,e,r){function i(){this.style.removeProperty(n)}function u(e){return null==e?i:(e+="",function(){var i,u=t(this).getComputedStyle(this,null).getPropertyValue(n);return u!==e&&(i=mr(u,e),function(t){this.style.setProperty(n,i(t),r)})})}var o=arguments.length;if(o<3){if("string"!=typeof n){o<2&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Zu(this,"style."+n,e,u)},Dc.styleTween=function(n,e,r){function i(i,u){var o=e.call(this,i,u,t(this).getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,i)},Dc.text=function(n){return Zu(this,"text",n,Vu)},Dc.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Dc.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=to.ease.apply(to,arguments)),Y(this,function(r){r[e][t].ease=n}))},Dc.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,i,u){r[e][t].delay=+n.call(r,r.__data__,i,u)}:(n=+n,function(r){r[e][t].delay=n}))},Dc.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,i,u){r[e][t].duration=Math.max(1,n.call(r,r.__data__,i,u))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Dc.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var i=Tc,u=Lc;try{Lc=e,Y(this,function(t,i,u){Tc=t[r][e],n.call(t,t.__data__,i,u)})}finally{Tc=i,Lc=u}}else Y(this,function(i){var u=i[r][e];(u.event||(u.event=to.dispatch("start","end","interrupt"))).on(n,t)});return this},Dc.transition=function(){for(var n,t,e,r,i=this.id,u=++Pc,o=this.namespace,a=[],c=0,l=this.length;c<l;c++){a.push(n=[]);for(var t=this[c],f=0,s=t.length;f<s;f++)(e=t[f])&&(r=e[o][i],$u(e,f,o,u,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return Yu(a,o,u)},to.svg.axis=function(){function n(n){n.each(function(){var n,l=to.select(this),f=this.__chart__||e,s=this.__chart__=e.copy(),h=null==c?s.ticks?s.ticks.apply(s,a):s.domain():c,p=null==t?s.tickFormat?s.tickFormat.apply(s,a):m:t,g=l.selectAll(".tick").data(h,s),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Ao),d=to.transition(g.exit()).style("opacity",Ao).remove(),y=to.transition(g.order()).style("opacity",1),M=Math.max(i,0)+o,x=ji(s),b=l.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),to.transition(b));v.append("line"),v.append("text");var w,S,k,N,E=v.select("line"),A=y.select("line"),C=g.select("text").text(p),z=v.select("text"),q=y.select("text"),L="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(n=Bu,w="x",k="y",S="x2",N="y2",C.attr("dy",L<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+L*u+"V0H"+x[1]+"V"+L*u)):(n=Wu,w="y",k="x",S="y2",N="x2",C.attr("dy",".32em").style("text-anchor",L<0?"end":"start"),_.attr("d","M"+L*u+","+x[0]+"H0V"+x[1]+"H"+L*u)),E.attr(N,L*i),z.attr(k,L*M),A.attr(S,0).attr(N,L*i),q.attr(w,0).attr(k,L*M),s.rangeBand){var T=s,R=T.rangeBand()/2;f=s=function(n){return T(n)+R}}else f.rangeBand?f=s:d.call(n,s,f);v.call(n,f,s),y.call(n,s,s)})}var t,e=to.scale.linear(),r=Uc,i=6,u=6,o=3,a=[10],c=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in jc?t+"":Uc,n):r},n.ticks=function(){return arguments.length?(a=arguments,n):a},n.tickValues=function(t){return arguments.length?(c=t,n):c},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(i=+t,u=+arguments[e-1],n):i},n.innerTickSize=function(t){return arguments.length?(i=+t,n):i},n.outerTickSize=function(t){return arguments.length?(u=+t,n):u},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};var Uc="bottom",jc={top:1,right:1,bottom:1,left:1};to.svg.brush=function(){function n(t){t.each(function(){var t=to.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",u).on("touchstart.brush",u),o=t.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=t.selectAll(".resize").data(v,m);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Fc[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);var c,s=to.transition(t),h=to.transition(o);l&&(c=ji(l),h.attr("x",c[0]).attr("width",c[1]-c[0]),r(s)),f&&(c=ji(f),h.attr("y",c[0]).attr("height",c[1]-c[0]),i(s)),e(s)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+s[+/e$/.test(n)]+","+h[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",s[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function i(n){n.select(".extent").attr("y",h[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function u(){function u(){32==to.event.keyCode&&(C||(M=null,q[0]-=s[1],q[1]-=h[1],C=2),S())}function v(){32==to.event.keyCode&&2==C&&(q[0]+=s[1],q[1]+=h[1],C=0,S())}function d(){var n=to.mouse(b),t=!1;x&&(n[0]+=x[0],n[1]+=x[1]),C||(to.event.altKey?(M||(M=[(s[0]+s[1])/2,(h[0]+h[1])/2]),q[0]=s[+(n[0]<M[0])],q[1]=h[+(n[1]<M[1])]):M=null),E&&y(n,l,0)&&(r(k),t=!0),A&&y(n,f,1)&&(i(k),t=!0),t&&(e(k),w({type:"brush",mode:C?"move":"resize"}))}function y(n,t,e){var r,i,u=ji(t),c=u[0],l=u[1],f=q[e],v=e?h:s,d=v[1]-v[0];if(C&&(c-=f,l-=d+f),r=(e?g:p)?Math.max(c,Math.min(l,n[e])):n[e],C?i=(r+=f)+d:(M&&(f=Math.max(c,Math.min(l,2*M[e]-r))),f<r?(i=r,r=f):i=f),v[0]!=r||v[1]!=i)return e?a=null:o=null,v[0]=r,v[1]=i,!0}function m(){d(),k.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),to.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),z(),w({type:"brushend"})}var M,x,b=this,_=to.select(to.event.target),w=c.of(b,arguments),k=to.select(b),N=_.datum(),E=!/^(n|s)$/.test(N)&&l,A=!/^(e|w)$/.test(N)&&f,C=_.classed("extent"),z=W(b),q=to.mouse(b),L=to.select(t(b)).on("keydown.brush",u).on("keyup.brush",v);if(to.event.changedTouches?L.on("touchmove.brush",d).on("touchend.brush",m):L.on("mousemove.brush",d).on("mouseup.brush",m),k.interrupt().selectAll("*").interrupt(),C)q[0]=s[0]-q[0],q[1]=h[0]-q[1];else if(N){var T=+/w$/.test(N),R=+/^n/.test(N);x=[s[1-T]-q[0],h[1-R]-q[1]],q[0]=s[T],q[1]=h[R]}else to.event.altKey&&(M=q.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),to.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),d()}var o,a,c=N(n,"brushstart","brush","brushend"),l=null,f=null,s=[0,0],h=[0,0],p=!0,g=!0,v=Hc[0];return n.event=function(n){n.each(function(){var n=c.of(this,arguments),t={x:s,y:h,i:o,j:a},e=this.__chart__||t;this.__chart__=t,Lc?to.select(this).transition().each("start.brush",function(){o=e.i,a=e.j,s=e.x,h=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=Mr(s,t.x),r=Mr(h,t.y);return o=a=null,function(i){s=t.x=e(i),h=t.y=r(i),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,a=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(l=t,v=Hc[!l<<1|!f],n):l},n.y=function(t){return arguments.length?(f=t,v=Hc[!l<<1|!f],n):f},n.clamp=function(t){return arguments.length?(l&&f?(p=!!t[0],g=!!t[1]):l?p=!!t:f&&(g=!!t),n):l&&f?[p,g]:l?p:f?g:null},n.extent=function(t){var e,r,i,u,c;return arguments.length?(l&&(e=t[0],r=t[1],f&&(e=e[0],r=r[0]),o=[e,r],l.invert&&(e=l(e),r=l(r)),r<e&&(c=e,e=r,r=c),e==s[0]&&r==s[1]||(s=[e,r])),f&&(i=t[0],u=t[1],l&&(i=i[1],u=u[1]),a=[i,u],f.invert&&(i=f(i),u=f(u)),u<i&&(c=i,i=u,u=c),i==h[0]&&u==h[1]||(h=[i,u])),n):(l&&(o?(e=o[0],r=o[1]):(e=s[0],r=s[1],l.invert&&(e=l.invert(e),r=l.invert(r)),r<e&&(c=e,e=r,r=c))),f&&(a?(i=a[0],u=a[1]):(i=h[0],u=h[1],f.invert&&(i=f.invert(i),u=f.invert(u)),u<i&&(c=i,i=u,u=c))),l&&f?[[e,i],[r,u]]:l?[e,r]:f&&[i,u])},n.clear=function(){return n.empty()||(s=[0,0],h=[0,0],o=a=null),n},n.empty=function(){return!!l&&s[0]==s[1]||!!f&&h[0]==h[1]},to.rebind(n,c,"on")};var Fc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Hc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Oc=oa.format=ha.timeFormat,Ic=Oc.utc,Yc=Ic("%Y-%m-%dT%H:%M:%S.%LZ");Oc.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ju:Yc,Ju.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},Ju.toString=Yc.toString,oa.second=Hn(function(n){return new aa(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),oa.seconds=oa.second.range,oa.seconds.utc=oa.second.utc.range,oa.minute=Hn(function(n){return new aa(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),oa.minutes=oa.minute.range,oa.minutes.utc=oa.minute.utc.range,oa.hour=Hn(function(n){var t=n.getTimezoneOffset()/60;return new aa(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),oa.hours=oa.hour.range,oa.hours.utc=oa.hour.utc.range,oa.month=Hn(function(n){return n=oa.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),oa.months=oa.month.range,oa.months.utc=oa.month.utc.range;var Zc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Vc=[[oa.second,1],[oa.second,5],[oa.second,15],[oa.second,30],[oa.minute,1],[oa.minute,5],[oa.minute,15],[oa.minute,30],[oa.hour,1],[oa.hour,3],[oa.hour,6],[oa.hour,12],[oa.day,1],[oa.day,2],[oa.week,1],[oa.month,1],[oa.month,3],[oa.year,1]],Xc=Oc.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",Ct]]),$c={range:function(n,t,e){return to.range(Math.ceil(n/e)*e,+t,e).map(Ku)},floor:m,ceil:m};Vc.year=oa.year,oa.scale=function(){return Gu(to.scale.linear(),Vc,Xc)};var Bc=Vc.map(function(n){return[n[0].utc,n[1]]}),Wc=Ic.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",Ct]]);Bc.year=oa.year.utc,oa.scale.utc=function(){return Gu(to.scale.linear(),Bc,Wc)},to.text=An(function(n){return n.responseText}),to.json=function(n,t){return Cn(n,"application/json",Qu,t)},to.html=function(n,t){return Cn(n,"text/html",no,t)},to.xml=An(function(n){return n.responseXML}),"function"==typeof define&&define.amd?define(to):"object"==typeof module&&module.exports&&(module.exports=to),this.d3=to}();
},{}],6:[function(_dereq_,module,exports){
"use strict";_dereq_("./is-implemented")()||Object.defineProperty(_dereq_("es5-ext/global"),"Map",{value:_dereq_("./polyfill"),configurable:!0,enumerable:!1,writable:!0});
},{"./is-implemented":8,"./polyfill":60,"es5-ext/global":17}],7:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./is-implemented")()?Map:_dereq_("./polyfill");
},{"./is-implemented":8,"./polyfill":60}],8:[function(_dereq_,module,exports){
"use strict";module.exports=function(){var e,t,n;if("function"!=typeof Map)return!1;try{e=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(e){return!1}return"[object Map]"===String(e)&&(3===e.size&&("function"==typeof e.clear&&("function"==typeof e.delete&&("function"==typeof e.entries&&("function"==typeof e.forEach&&("function"==typeof e.get&&("function"==typeof e.has&&("function"==typeof e.keys&&("function"==typeof e.set&&("function"==typeof e.values&&(t=e.entries(),n=t.next(),n.done===!1&&(!!n.value&&("raz"===n.value[0]&&"one"===n.value[1])))))))))))))};
},{}],9:[function(_dereq_,module,exports){
"use strict";module.exports=function(){return"undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)}();
},{}],10:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("es5-ext/object/primitive-set")("key","value","key+value");
},{"es5-ext/object/primitive-set":37}],11:[function(_dereq_,module,exports){
"use strict";var setPrototypeOf=_dereq_("es5-ext/object/set-prototype-of"),d=_dereq_("d"),Iterator=_dereq_("es6-iterator"),toStringTagSymbol=_dereq_("es6-symbol").toStringTag,kinds=_dereq_("./iterator-kinds"),defineProperties=Object.defineProperties,unBind=Iterator.prototype._unBind,MapIterator;MapIterator=module.exports=function(t,e){return this instanceof MapIterator?(Iterator.call(this,t.__mapKeysData__,t),e&&kinds[e]||(e="key+value"),void defineProperties(this,{__kind__:d("",e),__values__:d("w",t.__mapValuesData__)})):new MapIterator(t,e)},setPrototypeOf&&setPrototypeOf(MapIterator,Iterator),MapIterator.prototype=Object.create(Iterator.prototype,{constructor:d(MapIterator),_resolve:d(function(t){return"value"===this.__kind__?this.__values__[t]:"key"===this.__kind__?this.__list__[t]:[this.__list__[t],this.__values__[t]]}),_unBind:d(function(){this.__values__=null,unBind.call(this)}),toString:d(function(){return"[object Map Iterator]"})}),Object.defineProperty(MapIterator.prototype,toStringTagSymbol,d("c","Map Iterator"));
},{"./iterator-kinds":10,"d":13,"es5-ext/object/set-prototype-of":38,"es6-iterator":50,"es6-symbol":54}],12:[function(_dereq_,module,exports){
"use strict";var copy=_dereq_("es5-ext/object/copy"),map=_dereq_("es5-ext/object/map"),callable=_dereq_("es5-ext/object/valid-callable"),validValue=_dereq_("es5-ext/object/valid-value"),bind=Function.prototype.bind,defineProperty=Object.defineProperty,hasOwnProperty=Object.prototype.hasOwnProperty,define;define=function(e,t,r){var i,l=validValue(t)&&callable(t.value);return i=copy(t),delete i.writable,delete i.value,i.get=function(){return hasOwnProperty.call(this,e)?l:(t.value=bind.call(l,null==r?this:this[r]),defineProperty(this,e,t),this[e])},i},module.exports=function(e){var t=arguments[1];return map(e,function(e,r){return define(r,e,t)})};
},{"es5-ext/object/copy":27,"es5-ext/object/map":35,"es5-ext/object/valid-callable":41,"es5-ext/object/valid-value":42}],13:[function(_dereq_,module,exports){
"use strict";var assign=_dereq_("es5-ext/object/assign"),normalizeOpts=_dereq_("es5-ext/object/normalize-options"),isCallable=_dereq_("es5-ext/object/is-callable"),contains=_dereq_("es5-ext/string/#/contains"),d;d=module.exports=function(e,l){var n,a,i,s,t;return arguments.length<2||"string"!=typeof e?(s=l,l=e,e=null):s=arguments[2],null==e?(n=i=!0,a=!1):(n=contains.call(e,"c"),a=contains.call(e,"e"),i=contains.call(e,"w")),t={value:l,configurable:n,enumerable:a,writable:i},s?assign(normalizeOpts(s),t):t},d.gs=function(e,l,n){var a,i,s,t;return"string"!=typeof e?(s=n,n=l,l=e,e=null):s=arguments[3],null==l?l=void 0:isCallable(l)?null==n?n=void 0:isCallable(n)||(s=n,n=void 0):(s=l,l=n=void 0),null==e?(a=!0,i=!1):(a=contains.call(e,"c"),i=contains.call(e,"e")),t={get:l,set:n,configurable:a,enumerable:i},s?assign(normalizeOpts(s),t):t};
},{"es5-ext/object/assign":24,"es5-ext/object/is-callable":30,"es5-ext/object/normalize-options":36,"es5-ext/string/#/contains":43}],14:[function(_dereq_,module,exports){
"use strict";var value=_dereq_("../../object/valid-value");module.exports=function(){return value(this).length=0,this};
},{"../../object/valid-value":42}],15:[function(_dereq_,module,exports){
"use strict";var toPosInt=_dereq_("../../number/to-pos-integer"),value=_dereq_("../../object/valid-value"),indexOf=Array.prototype.indexOf,hasOwnProperty=Object.prototype.hasOwnProperty,abs=Math.abs,floor=Math.floor;module.exports=function(t){var r,e,o,s;if(t===t)return indexOf.apply(this,arguments);for(e=toPosInt(value(this).length),o=arguments[1],o=isNaN(o)?0:o>=0?floor(o):toPosInt(this.length)-floor(abs(o)),r=o;r<e;++r)if(hasOwnProperty.call(this,r)&&(s=this[r],s!==s))return r;return-1};
},{"../../number/to-pos-integer":22,"../../object/valid-value":42}],16:[function(_dereq_,module,exports){
"use strict";var toString=Object.prototype.toString,id=toString.call(function(){return arguments}());module.exports=function(t){return toString.call(t)===id};
},{}],17:[function(_dereq_,module,exports){
"use strict";module.exports=new Function("return this")();
},{}],18:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./is-implemented")()?Math.sign:_dereq_("./shim");
},{"./is-implemented":19,"./shim":20}],19:[function(_dereq_,module,exports){
"use strict";module.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&t(-20)===-1)};
},{}],20:[function(_dereq_,module,exports){
"use strict";module.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1};
},{}],21:[function(_dereq_,module,exports){
"use strict";var sign=_dereq_("../math/sign"),abs=Math.abs,floor=Math.floor;module.exports=function(r){return isNaN(r)?0:(r=Number(r),0!==r&&isFinite(r)?sign(r)*floor(abs(r)):r)};
},{"../math/sign":18}],22:[function(_dereq_,module,exports){
"use strict";var toInteger=_dereq_("./to-integer"),max=Math.max;module.exports=function(e){return max(0,toInteger(e))};
},{"./to-integer":21}],23:[function(_dereq_,module,exports){
"use strict";var callable=_dereq_("./valid-callable"),value=_dereq_("./valid-value"),bind=Function.prototype.bind,call=Function.prototype.call,keys=Object.keys,propertyIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(e,l){return function(t,r){var a,n=arguments[2],c=arguments[3];return t=Object(value(t)),callable(r),a=keys(t),c&&a.sort("function"==typeof c?bind.call(c,t):void 0),"function"!=typeof e&&(e=a[e]),call.call(e,a,function(e,a){return propertyIsEnumerable.call(t,e)?call.call(r,n,t[e],e,t,a):l})}};
},{"./valid-callable":41,"./valid-value":42}],24:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./is-implemented")()?Object.assign:_dereq_("./shim");
},{"./is-implemented":25,"./shim":26}],25:[function(_dereq_,module,exports){
"use strict";module.exports=function(){var r,t=Object.assign;return"function"==typeof t&&(r={foo:"raz"},t(r,{bar:"dwa"},{trzy:"trzy"}),r.foo+r.bar+r.trzy==="razdwatrzy")};
},{}],26:[function(_dereq_,module,exports){
"use strict";var keys=_dereq_("../keys"),value=_dereq_("../valid-value"),max=Math.max;module.exports=function(e,r){var a,t,u,i=max(arguments.length,2);for(e=Object(value(e)),u=function(t){try{e[t]=r[t]}catch(e){a||(a=e)}},t=1;t<i;++t)r=arguments[t],keys(r).forEach(u);if(void 0!==a)throw a;return e};
},{"../keys":32,"../valid-value":42}],27:[function(_dereq_,module,exports){
"use strict";var assign=_dereq_("./assign"),value=_dereq_("./valid-value");module.exports=function(e){var r=Object(value(e));return r!==e?r:assign({},e)};
},{"./assign":24,"./valid-value":42}],28:[function(_dereq_,module,exports){
"use strict";var create=Object.create,shim;_dereq_("./set-prototype-of/is-implemented")()||(shim=_dereq_("./set-prototype-of/shim")),module.exports=function(){var e,r,t;return shim?1!==shim.level?create:(e={},r={},t={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){return"__proto__"===e?void(r[e]={configurable:!0,enumerable:!1,writable:!0,value:void 0}):void(r[e]=t)}),Object.defineProperties(e,r),Object.defineProperty(shim,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(r,t){return create(null===r?e:r,t)}):create}();
},{"./set-prototype-of/is-implemented":39,"./set-prototype-of/shim":40}],29:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./_iterate")("forEach");
},{"./_iterate":23}],30:[function(_dereq_,module,exports){
"use strict";module.exports=function(t){return"function"==typeof t};
},{}],31:[function(_dereq_,module,exports){
"use strict";var map={function:!0,object:!0};module.exports=function(t){return null!=t&&map[typeof t]||!1};
},{}],32:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./is-implemented")()?Object.keys:_dereq_("./shim");
},{"./is-implemented":33,"./shim":34}],33:[function(_dereq_,module,exports){
"use strict";module.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}};
},{}],34:[function(_dereq_,module,exports){
"use strict";var keys=Object.keys;module.exports=function(e){return keys(null==e?e:Object(e))};
},{}],35:[function(_dereq_,module,exports){
"use strict";var callable=_dereq_("./valid-callable"),forEach=_dereq_("./for-each"),call=Function.prototype.call;module.exports=function(l,a){var c={},r=arguments[2];return callable(a),forEach(l,function(l,e,o,t){c[e]=call.call(a,r,l,e,o,t)}),c};
},{"./for-each":29,"./valid-callable":41}],36:[function(_dereq_,module,exports){
"use strict";var forEach=Array.prototype.forEach,create=Object.create,process=function(r,c){var e;for(e in r)c[e]=r[e]};module.exports=function(r){var c=create(null);return forEach.call(arguments,function(r){null!=r&&process(Object(r),c)}),c};
},{}],37:[function(_dereq_,module,exports){
"use strict";var forEach=Array.prototype.forEach,create=Object.create;module.exports=function(r){var e=create(null);return forEach.call(arguments,function(r){e[r]=!0}),e};
},{}],38:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./is-implemented")()?Object.setPrototypeOf:_dereq_("./shim");
},{"./is-implemented":39,"./shim":40}],39:[function(_dereq_,module,exports){
"use strict";var create=Object.create,getPrototypeOf=Object.getPrototypeOf,x={};module.exports=function(){var t=Object.setPrototypeOf,e=arguments[0]||create;return"function"==typeof t&&getPrototypeOf(t(e(null),x))===x};
},{}],40:[function(_dereq_,module,exports){
"use strict";var isObject=_dereq_("../is-object"),value=_dereq_("../valid-value"),isPrototypeOf=Object.prototype.isPrototypeOf,defineProperty=Object.defineProperty,nullDesc={configurable:!0,enumerable:!1,writable:!0,value:void 0},validate;validate=function(e,t){if(value(e),null===t||isObject(t))return e;throw new TypeError("Prototype must be null or an object")},module.exports=function(e){var t,l;return e?(2===e.level?e.set?(l=e.set,t=function(e,t){return l.call(validate(e,t),t),e}):t=function(e,t){return validate(e,t).__proto__=t,e}:t=function e(t,l){var r;return validate(t,l),r=isPrototypeOf.call(e.nullPolyfill,t),r&&delete e.nullPolyfill.__proto__,null===l&&(l=e.nullPolyfill),t.__proto__=l,r&&defineProperty(e.nullPolyfill,"__proto__",nullDesc),t},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),l={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{e=r.set,e.call(t,l)}catch(e){}if(Object.getPrototypeOf(t)===l)return{set:e,level:2}}return t.__proto__=l,Object.getPrototypeOf(t)===l?{level:2}:(t={},t.__proto__=l,Object.getPrototypeOf(t)===l&&{level:1})}()),_dereq_("../create");
},{"../create":28,"../is-object":31,"../valid-value":42}],41:[function(_dereq_,module,exports){
"use strict";module.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t};
},{}],42:[function(_dereq_,module,exports){
"use strict";module.exports=function(n){if(null==n)throw new TypeError("Cannot use null or undefined");return n};
},{}],43:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./is-implemented")()?String.prototype.contains:_dereq_("./shim");
},{"./is-implemented":44,"./shim":45}],44:[function(_dereq_,module,exports){
"use strict";var str="razdwatrzy";module.exports=function(){return"function"==typeof str.contains&&(str.contains("dwa")===!0&&str.contains("foo")===!1)};
},{}],45:[function(_dereq_,module,exports){
"use strict";var indexOf=String.prototype.indexOf;module.exports=function(t){return indexOf.call(this,t,arguments[1])>-1};
},{}],46:[function(_dereq_,module,exports){
"use strict";var toString=Object.prototype.toString,id=toString.call("");module.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||toString.call(t)===id)||!1};
},{}],47:[function(_dereq_,module,exports){
"use strict";var setPrototypeOf=_dereq_("es5-ext/object/set-prototype-of"),contains=_dereq_("es5-ext/string/#/contains"),d=_dereq_("d"),Iterator=_dereq_("./"),defineProperty=Object.defineProperty,ArrayIterator;ArrayIterator=module.exports=function(t,r){return this instanceof ArrayIterator?(Iterator.call(this,t),r=r?contains.call(r,"key+value")?"key+value":contains.call(r,"key")?"key":"value":"value",void defineProperty(this,"__kind__",d("",r))):new ArrayIterator(t,r)},setPrototypeOf&&setPrototypeOf(ArrayIterator,Iterator),ArrayIterator.prototype=Object.create(Iterator.prototype,{constructor:d(ArrayIterator),_resolve:d(function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t}),toString:d(function(){return"[object Array Iterator]"})});
},{"./":50,"d":13,"es5-ext/object/set-prototype-of":38,"es5-ext/string/#/contains":43}],48:[function(_dereq_,module,exports){
"use strict";var isArguments=_dereq_("es5-ext/function/is-arguments"),callable=_dereq_("es5-ext/object/valid-callable"),isString=_dereq_("es5-ext/string/is-string"),get=_dereq_("./get"),isArray=Array.isArray,call=Function.prototype.call,some=Array.prototype.some;module.exports=function(r,e){var t,l,i,a,n,s,c,o,u=arguments[2];if(isArray(r)||isArguments(r)?t="array":isString(r)?t="string":r=get(r),callable(e),i=function(){a=!0},"array"===t)return void some.call(r,function(r){if(call.call(e,u,r,i),a)return!0});if("string"!==t)for(l=r.next();!l.done;){if(call.call(e,u,l.value,i),a)return;l=r.next()}else for(s=r.length,n=0;n<s&&(c=r[n],n+1<s&&(o=c.charCodeAt(0),o>=55296&&o<=56319&&(c+=r[++n])),call.call(e,u,c,i),!a);++n);};
},{"./get":49,"es5-ext/function/is-arguments":16,"es5-ext/object/valid-callable":41,"es5-ext/string/is-string":46}],49:[function(_dereq_,module,exports){
"use strict";var isArguments=_dereq_("es5-ext/function/is-arguments"),isString=_dereq_("es5-ext/string/is-string"),ArrayIterator=_dereq_("./array"),StringIterator=_dereq_("./string"),iterable=_dereq_("./valid-iterable"),iteratorSymbol=_dereq_("es6-symbol").iterator;module.exports=function(r){return"function"==typeof iterable(r)[iteratorSymbol]?r[iteratorSymbol]():isArguments(r)?new ArrayIterator(r):isString(r)?new StringIterator(r):new ArrayIterator(r)};
},{"./array":47,"./string":52,"./valid-iterable":53,"es5-ext/function/is-arguments":16,"es5-ext/string/is-string":46,"es6-symbol":54}],50:[function(_dereq_,module,exports){
"use strict";var clear=_dereq_("es5-ext/array/#/clear"),assign=_dereq_("es5-ext/object/assign"),callable=_dereq_("es5-ext/object/valid-callable"),value=_dereq_("es5-ext/object/valid-value"),d=_dereq_("d"),autoBind=_dereq_("d/auto-bind"),Symbol=_dereq_("es6-symbol"),defineProperty=Object.defineProperty,defineProperties=Object.defineProperties,Iterator;module.exports=Iterator=function(e,t){return this instanceof Iterator?(defineProperties(this,{__list__:d("w",value(e)),__context__:d("w",t),__nextIndex__:d("w",0)}),void(t&&(callable(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear)))):new Iterator(e,t)},defineProperties(Iterator.prototype,assign({constructor:d(Iterator),_next:d(function(){var e;if(this.__list__)return this.__redo__&&(e=this.__redo__.shift(),void 0!==e)?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:d(function(){return this._createResult(this._next())}),_createResult:d(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:d(function(e){return this.__list__[e]}),_unBind:d(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:d(function(){return"[object Iterator]"})},autoBind({_onAdd:d(function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void defineProperty(this,"__redo__",d("c",[e]));this.__redo__.forEach(function(t,_){t>=e&&(this.__redo__[_]=++t)},this),this.__redo__.push(e)}}),_onDelete:d(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(t=this.__redo__.indexOf(e),t!==-1&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,_){t>e&&(this.__redo__[_]=--t)},this)))}),_onClear:d(function(){this.__redo__&&clear.call(this.__redo__),this.__nextIndex__=0})}))),defineProperty(Iterator.prototype,Symbol.iterator,d(function(){return this})),defineProperty(Iterator.prototype,Symbol.toStringTag,d("","Iterator"));
},{"d":13,"d/auto-bind":12,"es5-ext/array/#/clear":14,"es5-ext/object/assign":24,"es5-ext/object/valid-callable":41,"es5-ext/object/valid-value":42,"es6-symbol":54}],51:[function(_dereq_,module,exports){
"use strict";var isArguments=_dereq_("es5-ext/function/is-arguments"),isString=_dereq_("es5-ext/string/is-string"),iteratorSymbol=_dereq_("es6-symbol").iterator,isArray=Array.isArray;module.exports=function(r){return null!=r&&(!!isArray(r)||(!!isString(r)||(!!isArguments(r)||"function"==typeof r[iteratorSymbol])))};
},{"es5-ext/function/is-arguments":16,"es5-ext/string/is-string":46,"es6-symbol":54}],52:[function(_dereq_,module,exports){
"use strict";var setPrototypeOf=_dereq_("es5-ext/object/set-prototype-of"),d=_dereq_("d"),Iterator=_dereq_("./"),defineProperty=Object.defineProperty,StringIterator;StringIterator=module.exports=function(t){return this instanceof StringIterator?(t=String(t),Iterator.call(this,t),void defineProperty(this,"__length__",d("",t.length))):new StringIterator(t)},setPrototypeOf&&setPrototypeOf(StringIterator,Iterator),StringIterator.prototype=Object.create(Iterator.prototype,{constructor:d(StringIterator),_next:d(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:d(function(t){var e,r=this.__list__[t];return this.__nextIndex__===this.__length__?r:(e=r.charCodeAt(0),e>=55296&&e<=56319?r+this.__list__[this.__nextIndex__++]:r)}),toString:d(function(){return"[object String Iterator]"})});
},{"./":50,"d":13,"es5-ext/object/set-prototype-of":38}],53:[function(_dereq_,module,exports){
"use strict";var isIterable=_dereq_("./is-iterable");module.exports=function(e){if(!isIterable(e))throw new TypeError(e+" is not iterable");return e};
},{"./is-iterable":51}],54:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./is-implemented")()?Symbol:_dereq_("./polyfill");
},{"./is-implemented":55,"./polyfill":57}],55:[function(_dereq_,module,exports){
"use strict";var validTypes={object:!0,symbol:!0};module.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!validTypes[typeof Symbol.iterator]&&(!!validTypes[typeof Symbol.toPrimitive]&&!!validTypes[typeof Symbol.toStringTag])};
},{}],56:[function(_dereq_,module,exports){
"use strict";module.exports=function(o){return!!o&&("symbol"==typeof o||!!o.constructor&&("Symbol"===o.constructor.name&&"Symbol"===o[o.constructor.toStringTag]))};
},{}],57:[function(_dereq_,module,exports){
"use strict";var d=_dereq_("d"),validateSymbol=_dereq_("./validate-symbol"),create=Object.create,defineProperties=Object.defineProperties,defineProperty=Object.defineProperty,objPrototype=Object.prototype,NativeSymbol,SymbolPolyfill,HiddenSymbol,globalSymbols=create(null),isNativeSafe;if("function"==typeof Symbol){NativeSymbol=Symbol;try{String(NativeSymbol()),isNativeSafe=!0}catch(o){}}var generateName=function(){var o=create(null);return function(l){for(var e,t,i=0;o[l+(i||"")];)++i;return l+=i||"",o[l]=!0,e="@@"+l,defineProperty(objPrototype,e,d.gs(null,function(o){t||(t=!0,defineProperty(this,e,d(o)),t=!1)})),e}}();HiddenSymbol=function(o){if(this instanceof HiddenSymbol)throw new TypeError("TypeError: Symbol is not a constructor");return SymbolPolyfill(o)},module.exports=SymbolPolyfill=function o(l){var e;if(this instanceof o)throw new TypeError("TypeError: Symbol is not a constructor");return isNativeSafe?NativeSymbol(l):(e=create(HiddenSymbol.prototype),l=void 0===l?"":String(l),defineProperties(e,{__description__:d("",l),__name__:d("",generateName(l))}))},defineProperties(SymbolPolyfill,{for:d(function(o){return globalSymbols[o]?globalSymbols[o]:globalSymbols[o]=SymbolPolyfill(String(o))}),keyFor:d(function(o){var l;validateSymbol(o);for(l in globalSymbols)if(globalSymbols[l]===o)return l}),hasInstance:d("",NativeSymbol&&NativeSymbol.hasInstance||SymbolPolyfill("hasInstance")),isConcatSpreadable:d("",NativeSymbol&&NativeSymbol.isConcatSpreadable||SymbolPolyfill("isConcatSpreadable")),iterator:d("",NativeSymbol&&NativeSymbol.iterator||SymbolPolyfill("iterator")),match:d("",NativeSymbol&&NativeSymbol.match||SymbolPolyfill("match")),replace:d("",NativeSymbol&&NativeSymbol.replace||SymbolPolyfill("replace")),search:d("",NativeSymbol&&NativeSymbol.search||SymbolPolyfill("search")),species:d("",NativeSymbol&&NativeSymbol.species||SymbolPolyfill("species")),split:d("",NativeSymbol&&NativeSymbol.split||SymbolPolyfill("split")),toPrimitive:d("",NativeSymbol&&NativeSymbol.toPrimitive||SymbolPolyfill("toPrimitive")),toStringTag:d("",NativeSymbol&&NativeSymbol.toStringTag||SymbolPolyfill("toStringTag")),unscopables:d("",NativeSymbol&&NativeSymbol.unscopables||SymbolPolyfill("unscopables"))}),defineProperties(HiddenSymbol.prototype,{constructor:d(SymbolPolyfill),toString:d("",function(){return this.__name__})}),defineProperties(SymbolPolyfill.prototype,{toString:d(function(){return"Symbol ("+validateSymbol(this).__description__+")"}),valueOf:d(function(){return validateSymbol(this)})}),defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toPrimitive,d("",function(){var o=validateSymbol(this);return"symbol"==typeof o?o:o.toString()})),defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toStringTag,d("c","Symbol")),defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toStringTag,d("c",SymbolPolyfill.prototype[SymbolPolyfill.toStringTag])),defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toPrimitive,d("c",SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive]));
},{"./validate-symbol":58,"d":13}],58:[function(_dereq_,module,exports){
"use strict";var isSymbol=_dereq_("./is-symbol");module.exports=function(r){if(!isSymbol(r))throw new TypeError(r+" is not a symbol");return r};
},{"./is-symbol":56}],59:[function(_dereq_,module,exports){
"use strict";var d=_dereq_("d"),callable=_dereq_("es5-ext/object/valid-callable"),apply=Function.prototype.apply,call=Function.prototype.call,create=Object.create,defineProperty=Object.defineProperty,defineProperties=Object.defineProperties,hasOwnProperty=Object.prototype.hasOwnProperty,descriptor={configurable:!0,enumerable:!1,writable:!0},on,once,off,emit,methods,descriptors,base;on=function(e,t){var r;return callable(t),hasOwnProperty.call(this,"__ee__")?r=this.__ee__:(r=descriptor.value=create(null),defineProperty(this,"__ee__",descriptor),descriptor.value=null),r[e]?"object"==typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},once=function(e,t){var r,l;return callable(t),l=this,on.call(this,e,r=function(){off.call(l,e,r),apply.call(t,this,arguments)}),r.__eeOnceListener__=t,this},off=function(e,t){var r,l,o,i;if(callable(t),!hasOwnProperty.call(this,"__ee__"))return this;if(r=this.__ee__,!r[e])return this;if(l=r[e],"object"==typeof l)for(i=0;o=l[i];++i)o!==t&&o.__eeOnceListener__!==t||(2===l.length?r[e]=l[i?0:1]:l.splice(i,1));else l!==t&&l.__eeOnceListener__!==t||delete r[e];return this},emit=function(e){var t,r,l,o,i;if(hasOwnProperty.call(this,"__ee__")&&(o=this.__ee__[e]))if("object"==typeof o){for(r=arguments.length,i=new Array(r-1),t=1;t<r;++t)i[t-1]=arguments[t];for(o=o.slice(),t=0;l=o[t];++t)apply.call(l,this,i)}else switch(arguments.length){case 1:call.call(o,this);break;case 2:call.call(o,this,arguments[1]);break;case 3:call.call(o,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,i=new Array(r-1),t=1;t<r;++t)i[t-1]=arguments[t];apply.call(o,this,i)}},methods={on:on,once:once,off:off,emit:emit},descriptors={on:d(on),once:d(once),off:d(off),emit:d(emit)},base=defineProperties({},descriptors),module.exports=exports=function(e){return null==e?create(base):defineProperties(Object(e),descriptors)},exports.methods=methods;
},{"d":13,"es5-ext/object/valid-callable":41}],60:[function(_dereq_,module,exports){
"use strict";var clear=_dereq_("es5-ext/array/#/clear"),eIndexOf=_dereq_("es5-ext/array/#/e-index-of"),setPrototypeOf=_dereq_("es5-ext/object/set-prototype-of"),callable=_dereq_("es5-ext/object/valid-callable"),validValue=_dereq_("es5-ext/object/valid-value"),d=_dereq_("d"),ee=_dereq_("event-emitter"),Symbol=_dereq_("es6-symbol"),iterator=_dereq_("es6-iterator/valid-iterable"),forOf=_dereq_("es6-iterator/for-of"),Iterator=_dereq_("./lib/iterator"),isNative=_dereq_("./is-native-implemented"),call=Function.prototype.call,defineProperties=Object.defineProperties,getPrototypeOf=Object.getPrototypeOf,MapPoly;module.exports=MapPoly=function(){var e,t,a,r=arguments[0];if(!(this instanceof MapPoly))throw new TypeError("Constructor requires 'new'");return a=isNative&&setPrototypeOf&&Map!==MapPoly?setPrototypeOf(new Map,getPrototypeOf(this)):this,null!=r&&iterator(r),defineProperties(a,{__mapKeysData__:d("c",e=[]),__mapValuesData__:d("c",t=[])}),r?(forOf(r,function(a){var r=validValue(a)[0];a=a[1],eIndexOf.call(e,r)===-1&&(e.push(r),t.push(a))},a),a):a},isNative&&(setPrototypeOf&&setPrototypeOf(MapPoly,Map),MapPoly.prototype=Object.create(Map.prototype,{constructor:d(MapPoly)})),ee(defineProperties(MapPoly.prototype,{clear:d(function(){this.__mapKeysData__.length&&(clear.call(this.__mapKeysData__),clear.call(this.__mapValuesData__),this.emit("_clear"))}),delete:d(function(e){var t=eIndexOf.call(this.__mapKeysData__,e);return t!==-1&&(this.__mapKeysData__.splice(t,1),this.__mapValuesData__.splice(t,1),this.emit("_delete",t,e),!0)}),entries:d(function(){return new Iterator(this,"key+value")}),forEach:d(function(e){var t,a,r=arguments[1];for(callable(e),t=this.entries(),a=t._next();void 0!==a;)call.call(e,r,this.__mapValuesData__[a],this.__mapKeysData__[a],this),a=t._next()}),get:d(function(e){var t=eIndexOf.call(this.__mapKeysData__,e);if(t!==-1)return this.__mapValuesData__[t]}),has:d(function(e){return eIndexOf.call(this.__mapKeysData__,e)!==-1}),keys:d(function(){return new Iterator(this,"key")}),set:d(function(e,t){var a,r=eIndexOf.call(this.__mapKeysData__,e);return r===-1&&(r=this.__mapKeysData__.push(e)-1,a=!0),this.__mapValuesData__[r]=t,a&&this.emit("_add",r,e),this}),size:d.gs(function(){return this.__mapKeysData__.length}),values:d(function(){return new Iterator(this,"value")}),toString:d(function(){return"[object Map]"})})),Object.defineProperty(MapPoly.prototype,Symbol.iterator,d(function(){return this.entries()})),Object.defineProperty(MapPoly.prototype,Symbol.toStringTag,d("c","Map"));
},{"./is-native-implemented":9,"./lib/iterator":11,"d":13,"es5-ext/array/#/clear":14,"es5-ext/array/#/e-index-of":15,"es5-ext/object/set-prototype-of":38,"es5-ext/object/valid-callable":41,"es5-ext/object/valid-value":42,"es6-iterator/for-of":48,"es6-iterator/valid-iterable":53,"es6-symbol":54,"event-emitter":59}],61:[function(_dereq_,module,exports){
(function (process,global){
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){I=t}function r(t){J=t}function o(){return function(){return process.nextTick(a)}}function i(){return function(){H(a)}}function s(){var t=0,e=new V(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){return t.port2.postMessage(0)}}function c(){var t=setTimeout;return function(){return t(a,1)}}function a(){for(var t=0;t<G;t+=2){var e=$[t],n=$[t+1];e(n),$[t]=void 0,$[t+1]=void 0}G=0}function f(){try{var t=_dereq_,e=t("vertx");return H=e.runOnLoop||e.runOnContext,i()}catch(t){return c()}}function l(t,e){var n=arguments,r=this,o=new this.constructor(p);void 0===o[et]&&k(o);var i=r._state;return i?!function(){var t=n[i-1];J(function(){return x(i,o,t,r._result)})}():E(r,o,t,e),o}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function p(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function _(t){try{return t.then}catch(t){return it.error=t,it}}function y(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function m(t,e,n){J(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):S(t,n))},function(e){r||(r=!0,j(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,j(t,o))},t)}function b(t,e){e._state===rt?S(t,e._result):e._state===ot?j(t,e._result):E(e,void 0,function(e){return g(t,e)},function(e){return j(t,e)})}function w(t,n,r){n.constructor===t.constructor&&r===l&&n.constructor.resolve===h?b(t,n):r===it?j(t,it.error):void 0===r?S(t,n):e(r)?m(t,n,r):S(t,n)}function g(e,n){e===n?j(e,v()):t(n)?w(e,n,_(n)):S(e,n)}function A(t){t._onerror&&t._onerror(t._result),T(t)}function S(t,e){t._state===nt&&(t._result=e,t._state=rt,0!==t._subscribers.length&&J(T,t))}function j(t,e){t._state===nt&&(t._state=ot,t._result=e,J(A,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+rt]=n,o[i+ot]=r,0===i&&t._state&&J(T,t)}function T(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?x(n,r,o,i):o(i);t._subscribers.length=0}}function M(){this.error=null}function P(t,e){try{return t(e)}catch(t){return st.error=t,st}}function x(t,n,r,o){var i=e(r),s=void 0,u=void 0,c=void 0,a=void 0;if(i){if(s=P(r,o),s===st?(a=!0,u=s.error,s=null):c=!0,n===s)return void j(n,d())}else s=o,c=!0;n._state!==nt||(i&&c?g(n,s):a?j(n,u):t===rt?S(n,s):t===ot&&j(n,s))}function C(t,e){try{e(function(e){g(t,e)},function(e){j(t,e)})}catch(e){j(t,e)}}function O(){return ut++}function k(t){t[et]=ut++,t._state=void 0,t._result=void 0,t._subscribers=[]}function Y(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[et]||k(this.promise),B(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):j(this.promise,q())}function q(){return new Error("Array Methods must be provided an Array")}function F(t){return new Y(this,t).promise}function D(t){var e=this;return new e(B(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function K(t){var e=this,n=new e(p);return j(n,t),n}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(t){this[et]=O(),this._result=this._state=void 0,this._subscribers=[],p!==t&&("function"!=typeof t&&L(),this instanceof U?C(this,t):N())}function W(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=U}var z=void 0;z=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var B=z,G=0,H=void 0,I=void 0,J=function(t,e){$[G]=t,$[G+1]=e,G+=2,2===G&&(I?I(a):tt())},Q="undefined"!=typeof window?window:void 0,R=Q||{},V=R.MutationObserver||R.WebKitMutationObserver,X="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3),tt=void 0;tt=X?o():V?s():Z?u():void 0===Q&&"function"==typeof _dereq_?f():c();var et=Math.random().toString(36).substring(16),nt=void 0,rt=1,ot=2,it=new M,st=new M,ut=0;return Y.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===nt&&n<t;n++)this._eachEntry(e[n],n)},Y.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=_(t);if(o===l&&t._state!==nt)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===U){var i=new n(p);w(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},Y.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===nt&&(this._remaining--,t===ot?j(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},Y.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){return n._settledAt(rt,e,t)},function(t){return n._settledAt(ot,e,t)})},U.all=F,U.race=D,U.resolve=h,U.reject=K,U._setScheduler=n,U._setAsap=r,U._asap=J,U.prototype={constructor:U,then:l,catch:function(t){return this.then(null,t)}},W(),U.polyfill=W,U.Promise=U,U});
}).call(this,_dereq_('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":340}],62:[function(_dereq_,module,exports){
!function(){"use strict";if(window.history){var t=function(t){t=t.toLowerCase();var i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}},i=function(){var i={},e=t(navigator.userAgent);return e.browser&&(i[e.browser]=!0,i.version=e.version),i.chrome?i.webkit=!0:i.webkit&&(i.safari=!0),i},e=function(t){for(var i=e.options,o=i.parser[i.strictMode?"strict":"loose"].exec(t),s={},a=14;a--;)s[i.key[a]]=o[a]||"";return s[i.q.name]={},s[i.key[12]].replace(i.q.parser,function(t,e,o){e&&(s[i.q.name][e]=o)}),s};e.options={strictMode:!0,key:["href","protocol","host","userInfo","user","password","hostname","port","relative","pathname","directory","file","search","hash"],q:{name:"query",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var o,s=function(t){var i=e(t);return i.path=i.pathname+(i.search?"?":"")+i.search,i},a=function(){try{return sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),!0}catch(t){return!1}},n=function(){return"h"+(+new Date+Math.round(1e6*Math.random()))},r=!1,h=!1,d=i();window.history.parseURL=s,window.history.config={hashChangeAlone:!0,setStateEvent:!0,storageKey:"min-history",basePath:"/",hid:!0},window.history.forceState=!("state"in window.history),window.history.forceState&&(window.history.state=null),d.safari&&location.relative!==window.history.config.basePath&&(r=!0);var c=function(t,i){var e="?"+(i.search||"")+"&hid="+t;return(i.pathname||"/")+e+(i.hash?"#"+i.hash:"")},w=function(t){t.search&&(t.search=t.search.replace(/&hid=([^&]+)/gi,function(i,e){return t.hid=e,""}),t.path=t.pathname+(t.search?"?"+t.search:""),t.relative=t.path+(t.hash?"#"+t.hash:""),t.href=t.protocol+"://"+t.host+t.relative)},l=function(t){return window.history.config.basePath?(t.pathname=t.pathname.substring(window.history.config.basePath.length),t.path=t.pathname+(t.search?"?"+t.search:""),t.relative=t.path+(t.hash?"#"+t.hash:""),t.href=t.protocol+"://"+t.host+t.relative,t):t},u=function(t,i,e){var o=document.createEvent("Event");return o.initEvent(t,!0,!0),o.state=i||null,e&&(o.action=e),window.dispatchEvent(o)};window.history.store={states:null,index:-1,init:function(){(window.history.sessionStorageSupported=a())||console.warn("You are using custom history API and Session Storage is not supported. You'll loose history when leaving page."),this.states=window.history.sessionStorageSupported?JSON.parse(sessionStorage.getItem(window.history.config.storageKey))||[]:[],this.states.forEach||(this.states=[])},current:function(){return this.states[this.index]},push:function(t,i,e){var o={data:t,title:i,url:e};return window.history.config.hid&&(o.data=o.data||{},o.data.hid=n()),this.index++,this.index<this.states.length&&(this.states=this.states.slice(0,this.index)),this.states.push(o),o},replace:function(t,i,e){var o=this.states[this.index],s={data:t,title:i,url:e};return window.history.config.hid&&(s.data=s.data||{},s.data.hid=o&&o.data&&o.data.hid?o.data.hid:n()),this.states[this.index]=s},go:function(t){var i=this.index+t,e=this.states[i];return e?(this.index=i,e):null},find:function(t){for(var i,e=0,o=this.states.length;o>e&&(i=this.states[e]);++e)if(i.data&&i.data.hid==t)return i;return null},save:function(){window.history.sessionStorageSupported&&sessionStorage.setItem(window.history.config.storageKey,JSON.stringify(this.states))}};var f;if(window.history.pushState){var p=window.history.pushState,g=window.history.replaceState;f=function(t,i,e,o){var a=g;"push"==t&&(a=p),e&&(document.title=e),this.location=s(o),this.config.hid&&(i=this.store[t](i,e,this.location.relative).data),this.forceState&&(this.state=i||null);var n=a.call(this,i,e,window.history.config.basePath+this.location.relative);return this.config.setStateEvent&&u("setstate",this.state,t),n}}else{window.history.emulated=!0,f=function(t,i,e,a){e&&(document.title=e),this.location=s(a);var n=this.location.relative;this.config.hid?(this.state=i=this.store[t](i,e,n).data,n=c(i.hid,this.location)):this.state=i||null,this.config.setStateEvent&&u("setstate",this.state,t),o=!0,window.location.hash="!"+n};var v=window.history.go;window.history.go=function(t){if(this.config.hid){var i=this.store.go(t);if(!i)return null;this.state=i.data}else this.state=null;h=!0,v.call(this,t)},window.history.back=function(){this.go(-1)},window.history.forward=function(){this.go(1)}}window.history.pushState=function(t,i,e){return f.call(this,"push",t,i,e)},window.history.replaceState=function(t,i,e){return f.call(this,"replace",t,i,e)};var y=function(t){var i=t.state,e=window.history;if(e.forceState&&(e.state=i||null),r)return r=!1,t.stopImmediatePropagation(),!1;o=!1;var a,n=e.location,h=e.location=l(s(location.href));if(e.config.hid&&i&&i.hid&&(a=e.store.find(i.hid)),a){if(h.relative!==a.url)throw new Error("bad state from native popstate (url dont match) "+h.relative+" - "+a.url);a.title&&(document.title=a.title)}return n&&n.path===h.path?n.hash===h.hash||!e.config.hashChangeAlone||(t.stopImmediatePropagation(),!1):(n&&n.hash!==h.hash&&(o=!0),!0)},m=function(t){if(o)return o=!1,t.stopImmediatePropagation(),!1;if(window.history.emulated){var i,e=null,a=window.history.location,n=window.history.location=s(location.hash.substring(2));if(window.history.config.hid&&(w(n),h||(n.hid&&(i=window.history.store.find(n.hid)),i&&(e=i.data||null),window.history.state=e)),i&&i.title&&(document.title=i.title),!a||a.path!==n.path)return t.stopImmediatePropagation(),u("popstate",e),!1;a.hash===n.hash||window.history.config.hashChangeAlone||u("popstate",e)}return!0};window.history.init=function(t){for(var i in t)this.config[i]=t[i];window.addEventListener("hashchange",m),this.emulated?this.location=s(window.location.href):(window.addEventListener("popstate",y),this.location=l(s(window.location.href))),this.config.hid&&(this.store.init(),window.addEventListener("unload",function(){window.history.store.save()}))}}}();
},{}],63:[function(_dereq_,module,exports){
var alea=_dereq_("./lib/alea"),xor128=_dereq_("./lib/xor128"),xorwow=_dereq_("./lib/xorwow"),xorshift7=_dereq_("./lib/xorshift7"),xor4096=_dereq_("./lib/xor4096"),tychei=_dereq_("./lib/tychei"),sr=_dereq_("./seedrandom");sr.alea=alea,sr.xor128=xor128,sr.xorwow=xorwow,sr.xorshift7=xorshift7,sr.xor4096=xor4096,sr.tychei=tychei,module.exports=sr;
},{"./lib/alea":64,"./lib/tychei":65,"./lib/xor128":66,"./lib/xor4096":67,"./lib/xorshift7":68,"./lib/xorwow":69,"./seedrandom":70}],64:[function(_dereq_,module,exports){
!function(n,t,e){function s(n){var t=this,e=o();t.next=function(){var n=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=n-(t.c=0|n)},t.c=1,t.s0=e(" "),t.s1=e(" "),t.s2=e(" "),t.s0-=e(n),t.s0<0&&(t.s0+=1),t.s1-=e(n),t.s1<0&&(t.s1+=1),t.s2-=e(n),t.s2<0&&(t.s2+=1),e=null}function r(n,t){return t.c=n.c,t.s0=n.s0,t.s1=n.s1,t.s2=n.s2,t}function u(n,t){var e=new s(n),u=t&&t.state,o=e.next;return o.int32=function(){return 4294967296*e.next()|0},o.double=function(){return o()+1.1102230246251565e-16*(2097152*o()|0)},o.quick=o,u&&("object"==typeof u&&r(u,e),o.state=function(){return r(e,{})}),o}function o(){var n=4022871197,t=function(t){t=t.toString();for(var e=0;e<t.length;e++){n+=t.charCodeAt(e);var s=.02519603282416938*n;n=s>>>0,s-=n,s*=n,n=s>>>0,s-=n,n+=4294967296*s}return 2.3283064365386963e-10*(n>>>0)};return t}t&&t.exports?t.exports=u:e&&e.amd?e(function(){return u}):this.alea=u}(this,"object"==typeof module&&module,"function"==typeof define&&define);
},{}],65:[function(_dereq_,module,exports){
!function(t,n,e){function o(t){var n=this,e="";n.next=function(){var t=n.b,e=n.c,o=n.d,r=n.a;return t=t<<25^t>>>7^e,e=e-o|0,o=o<<24^o>>>8^r,r=r-t|0,n.b=t=t<<20^t>>>12^e,n.c=e=e-o|0,n.d=o<<16^e>>>16^r,n.a=r-t|0},n.a=0,n.b=0,n.c=-1640531527,n.d=1367130551,t===Math.floor(t)?(n.a=t/4294967296|0,n.b=0|t):e+=t;for(var o=0;o<e.length+20;o++)n.b^=0|e.charCodeAt(o),n.next()}function r(t,n){return n.a=t.a,n.b=t.b,n.c=t.c,n.d=t.d,n}function u(t,n){var e=new o(t),u=n&&n.state,c=function(){return(e.next()>>>0)/4294967296};return c.double=function(){do var t=e.next()>>>11,n=(e.next()>>>0)/4294967296,o=(t+n)/(1<<21);while(0===o);return o},c.int32=e.next,c.quick=c,u&&("object"==typeof u&&r(u,e),c.state=function(){return r(e,{})}),c}n&&n.exports?n.exports=u:e&&e.amd?e(function(){return u}):this.tychei=u}(this,"object"==typeof module&&module,"function"==typeof define&&define);
},{}],66:[function(_dereq_,module,exports){
!function(t,n,e){function o(t){var n=this,e="";n.x=0,n.y=0,n.z=0,n.w=0,n.next=function(){var t=n.x^n.x<<11;return n.x=n.y,n.y=n.z,n.z=n.w,n.w^=n.w>>>19^t^t>>>8},t===(0|t)?n.x=t:e+=t;for(var o=0;o<e.length+64;o++)n.x^=0|e.charCodeAt(o),n.next()}function r(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n}function u(t,n){var e=new o(t),u=n&&n.state,i=function(){return(e.next()>>>0)/4294967296};return i.double=function(){do var t=e.next()>>>11,n=(e.next()>>>0)/4294967296,o=(t+n)/(1<<21);while(0===o);return o},i.int32=e.next,i.quick=i,u&&("object"==typeof u&&r(u,e),i.state=function(){return r(e,{})}),i}n&&n.exports?n.exports=u:e&&e.amd?e(function(){return u}):this.xor128=u}(this,"object"==typeof module&&module,"function"==typeof define&&define);
},{}],67:[function(_dereq_,module,exports){
!function(n,t,e){function i(n){function t(n,t){var e,i,r,o,u,f=[],c=128;for(t===(0|t)?(i=t,t=null):(t+="\0",i=0,c=Math.max(c,t.length)),r=0,o=-32;o<c;++o)t&&(i^=t.charCodeAt((o+32)%t.length)),0===o&&(u=i),i^=i<<10,i^=i>>>15,i^=i<<4,i^=i>>>13,o>=0&&(u=u+1640531527|0,e=f[127&o]^=i+u,r=0==e?r+1:0);for(r>=128&&(f[127&(t&&t.length||0)]=-1),r=127,o=512;o>0;--o)i=f[r+34&127],e=f[r=r+1&127],i^=i<<13,e^=e<<17,i^=i>>>15,e^=e>>>12,f[r]=i^e;n.w=u,n.X=f,n.i=r}var e=this;e.next=function(){var n,t,i=e.w,r=e.X,o=e.i;return e.w=i=i+1640531527|0,t=r[o+34&127],n=r[o=o+1&127],t^=t<<13,n^=n<<17,t^=t>>>15,n^=n>>>12,t=r[o]=t^n,e.i=o,t+(i^i>>>16)|0},t(e,n)}function r(n,t){return t.i=n.i,t.w=n.w,t.X=n.X.slice(),t}function o(n,t){null==n&&(n=+new Date);var e=new i(n),o=t&&t.state,u=function(){return(e.next()>>>0)/4294967296};return u.double=function(){do var n=e.next()>>>11,t=(e.next()>>>0)/4294967296,i=(n+t)/(1<<21);while(0===i);return i},u.int32=e.next,u.quick=u,o&&(o.X&&r(o,e),u.state=function(){return r(e,{})}),u}t&&t.exports?t.exports=o:e&&e.amd?e(function(){return o}):this.xor4096=o}(this,"object"==typeof module&&module,"function"==typeof define&&define);
},{}],68:[function(_dereq_,module,exports){
!function(n,t,e){function i(n){function t(n,t){var e,i,r=[];if(t===(0|t))i=r[0]=t;else for(t=""+t,e=0;e<t.length;++e)r[7&e]=r[7&e]<<15^t.charCodeAt(e)+r[e+1&7]<<13;for(;r.length<8;)r.push(0);for(e=0;e<8&&0===r[e];++e);for(i=8==e?r[7]=-1:r[e],n.x=r,n.i=0,e=256;e>0;--e)n.next()}var e=this;e.next=function(){var n,t,i=e.x,r=e.i;return n=i[r],n^=n>>>7,t=n^n<<24,n=i[r+1&7],t^=n^n>>>10,n=i[r+3&7],t^=n^n>>>3,n=i[r+4&7],t^=n^n<<7,n=i[r+7&7],n^=n<<13,t^=n^n<<9,i[r]=t,e.i=r+1&7,t},t(e,n)}function r(n,t){return t.x=n.x.slice(),t.i=n.i,t}function o(n,t){null==n&&(n=+new Date);var e=new i(n),o=t&&t.state,u=function(){return(e.next()>>>0)/4294967296};return u.double=function(){do var n=e.next()>>>11,t=(e.next()>>>0)/4294967296,i=(n+t)/(1<<21);while(0===i);return i},u.int32=e.next,u.quick=u,o&&(o.x&&r(o,e),u.state=function(){return r(e,{})}),u}t&&t.exports?t.exports=o:e&&e.amd?e(function(){return o}):this.xorshift7=o}(this,"object"==typeof module&&module,"function"==typeof define&&define);
},{}],69:[function(_dereq_,module,exports){
!function(t,n,e){function o(t){var n=this,e="";n.next=function(){var t=n.x^n.x>>>2;return n.x=n.y,n.y=n.z,n.z=n.w,n.w=n.v,(n.d=n.d+362437|0)+(n.v=n.v^n.v<<4^(t^t<<1))|0},n.x=0,n.y=0,n.z=0,n.w=0,n.v=0,t===(0|t)?n.x=t:e+=t;for(var o=0;o<e.length+64;o++)n.x^=0|e.charCodeAt(o),o==e.length&&(n.d=n.x<<10^n.x>>>4),n.next()}function r(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n.v=t.v,n.d=t.d,n}function u(t,n){var e=new o(t),u=n&&n.state,x=function(){return(e.next()>>>0)/4294967296};return x.double=function(){do var t=e.next()>>>11,n=(e.next()>>>0)/4294967296,o=(t+n)/(1<<21);while(0===o);return o},x.int32=e.next,x.quick=x,u&&("object"==typeof u&&r(u,e),x.state=function(){return r(e,{})}),x}n&&n.exports?n.exports=u:e&&e.amd?e(function(){return u}):this.xorwow=u}(this,"object"==typeof module&&module,"function"==typeof define&&define);
},{}],70:[function(_dereq_,module,exports){
!function(n,r){function t(t,c,s){var d=[];c=1==c?{entropy:!0}:c||{};var m=u(i(c.entropy?[t,a(n)]:null==t?f():t,3),d),j=new e(d),S=function(){for(var n=j.g(p),r=y,t=0;n<h;)n=(n+t)*l,r*=l,t=j.g(1);for(;n>=v;)n/=2,r/=2,t>>>=1;return(n+t)/r};return S.int32=function(){return 0|j.g(4)},S.quick=function(){return j.g(4)/4294967296},S.double=S,u(a(j.S),n),(c.pass||s||function(n,t,e,i){return i&&(i.S&&o(i,j),n.state=function(){return o(j,{})}),e?(r[g]=n,t):n})(S,m,"global"in c?c.global:this==r,c.state)}function e(n){var r,t=n.length,e=this,o=0,i=e.i=e.j=0,u=e.S=[];for(t||(n=[t++]);o<l;)u[o]=o++;for(o=0;o<l;o++)u[o]=u[i=m&i+n[o%t]+(r=u[o])],u[i]=r;(e.g=function(n){for(var r,t=0,o=e.i,i=e.j,u=e.S;n--;)r=u[o=m&o+1],t=t*l+u[m&(u[o]=u[i=m&i+r])+(u[i]=r)];return e.i=o,e.j=i,t})(l)}function o(n,r){return r.i=n.i,r.j=n.j,r.S=n.S.slice(),r}function i(n,r){var t,e=[],o=typeof n;if(r&&"object"==o)for(t in n)try{e.push(i(n[t],r-1))}catch(n){}return e.length?e:"string"==o?n:n+"\0"}function u(n,r){for(var t,e=n+"",o=0;o<e.length;)r[m&o]=m&(t^=19*r[m&o])+e.charCodeAt(o++);return a(r)}function f(){try{if(c)return a(c.randomBytes(l));var r=new Uint8Array(l);return(s.crypto||s.msCrypto).getRandomValues(r),a(r)}catch(r){var t=s.navigator,e=t&&t.plugins;return[+new Date,s,e,s.screen,a(n)]}}function a(n){return String.fromCharCode.apply(0,n)}var c,s=this,l=256,p=6,d=52,g="random",y=r.pow(l,p),h=r.pow(2,d),v=2*h,m=l-1;if(r["seed"+g]=t,u(r.random(),n),"object"==typeof module&&module.exports){module.exports=t;try{c=_dereq_("crypto")}catch(n){}}else"function"==typeof define&&define.amd&&define(function(){return t})}([],Math);
},{"crypto":144}],71:[function(_dereq_,module,exports){
!function(){"use strict";function e(t){t.permitHostObjects___&&t.permitHostObjects___(e)}function t(e){return!(e.substr(0,_.length)==_&&"___"===e.substr(e.length-3))}function n(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[p];if(t&&t.key===e)return t;if(l(e)){t={key:e};try{return s(e,p,{value:t,writable:!1,enumerable:!1,configurable:!1}),t}catch(e){return}}}function r(e){return e.prototype=null,Object.freeze(e)}function o(){d||"undefined"==typeof console||(d=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=e);var a=!1;if("function"==typeof WeakMap){var i=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var u=new i,f=Object.freeze({});if(u.set(f,1),1===u.get(f))return void(module.exports=WeakMap);a=!0}}var c=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),s=Object.defineProperty,l=Object.isExtensible,_="weakmap:",p=_+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var b=new ArrayBuffer(25),v=new Uint8Array(b);crypto.getRandomValues(v),p=_+"rand:"+Array.prototype.map.call(v,function(e){return(e%36).toString(36)}).join("")+"___"}if(s(Object,"getOwnPropertyNames",{value:function(e){return c(e).filter(t)}}),"getPropertyNames"in Object){var y=Object.getPropertyNames;s(Object,"getPropertyNames",{value:function(e){return y(e).filter(t)}})}!function(){var e=Object.freeze;s(Object,"freeze",{value:function(t){return n(t),e(t)}});var t=Object.seal;s(Object,"seal",{value:function(e){return n(e),t(e)}});var r=Object.preventExtensions;s(Object,"preventExtensions",{value:function(e){return n(e),r(e)}})}();var d=!1,O=0,g=function(){function e(e,t){var r,o=n(e);return o?c in o?o[c]:t:(r=u.indexOf(e),r>=0?f[r]:t)}function t(e){var t=n(e);return t?c in t:u.indexOf(e)>=0}function a(e,t){var r,o=n(e);return o?o[c]=t:(r=u.indexOf(e),r>=0?f[r]=t:(r=u.length,f[r]=t,u[r]=e)),this}function i(e){var t,r,o=n(e);return o?c in o&&delete o[c]:(t=u.indexOf(e),!(t<0)&&(r=u.length-1,u[t]=void 0,f[t]=f[r],u[t]=u[r],u.length=r,f.length=r,!0))}this instanceof g||o();var u=[],f=[],c=O++;return Object.create(g.prototype,{get___:{value:r(e)},has___:{value:r(t)},set___:{value:r(a)},delete___:{value:r(i)}})};g.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.get___(e,t)},writable:!0,configurable:!0},has:{value:function(e){return this.has___(e)},writable:!0,configurable:!0},set:{value:function(e,t){return this.set___(e,t)},writable:!0,configurable:!0},delete:{value:function(e){return this.delete___(e)},writable:!0,configurable:!0}}),"function"==typeof i?!function(){function t(){function t(e,t){return s?c.has(e)?c.get(e):s.get___(e,t):c.get(e,t)}function n(e){return c.has(e)||!!s&&s.has___(e)}function u(e){var t=!!c.delete(e);return s?s.delete___(e)||t:t}this instanceof g||o();var f,c=new i,s=void 0,l=!1;return f=a?function(e,t){return c.set(e,t),c.has(e)||(s||(s=new g),s.set(e,t)),this}:function(e,t){if(l)try{c.set(e,t)}catch(n){s||(s=new g),s.set___(e,t)}else c.set(e,t);return this},Object.create(g.prototype,{get___:{value:r(t)},has___:{value:r(n)},set___:{value:r(f)},delete___:{value:r(u)},permitHostObjects___:{value:r(function(t){if(t!==e)throw new Error("bogus call to permitHostObjects___");l=!0})}})}a&&"undefined"!=typeof Proxy&&(Proxy=void 0),t.prototype=g.prototype,module.exports=t,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),module.exports=g)}}();
},{}],72:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./type.js"),_dereq_("./object.js"),_dereq_("./exception.js"),TTk.Action=function(){var t=function(t,r,e,i,n){this.id=t,this.execute=r,this.cantExec=e,this.argsDef=i;for(var s in i){var o=i[s];"string"==typeof o&&(this.argsDef[s]=TTk.Type.from(s))}this.argProps=n||{};for(var s in this.argProps){var a=this.argProps[s];"string"==typeof a&&(this.argProps[s]={},this.argProps[s][a]=!0)}};return t}(),TTk.Actions=function(){var t=TTk.Object.privateStore(),r=function(){var r=t(this);r.registry={},r.defs={}};return r.prototype.register=function(r,e,i,n,s){var o=t(this),a=null;"string"==typeof r?e&&(a=new TTk.Action(r,e,i,n,s)):(a=r,r=a.id),a?(o.registry[r]=a,o.defs[r]=a.argsDef):r in o.registry&&(delete o.registry[r],delete o.defs[r])},r.prototype.available=function(r){var e=t(this);return r?r in e.defs&&e.defs[r]:e.defs},r.prototype.exec=function(r,e){if("object"==typeof r&&Array.isArray(r)){for(var i,n,s=[],o=0;o<r.length;)i=r[o],n=r[++o],"object"==typeof n?o++:n=void 0,s.push(this.exec(i,n));return s}var a=this.cantExec(r,e);if(a)throw"string"==typeof a&&(a=new TTk.Exception(a)),a;var c=t(this);return c.registry[r].execute(e)},r.prototype.cantExec=function(r,e){var i=t(this);if(!(r in i.registry))return"Action with the id '"+r+"' does not exist.";var n=i.registry[r];if(n.argsDef){var s=n.argsDef;e=e||{};for(var o in s){if(!(o in e)){if(n.argProps[o]&&n.argProps[o].optional)continue;return"Missing parameter "+o}if(!s[o].check(e[o]))return"Parameter '"+o+"' should be of type "+s[o].name}}if(n.cantExec){var a=n.cantExec(e);if(a)return a}},r}(),TTk.Executable=function(t){this.execAction=function(r,e){var i=t(this);return i.ttkActions.exec(r,e)},this.cantExec=function(r,e){var i=t(this);return i.ttkActions.cantExec(r,e)},this.actionsAvailable=function(r){var e=t(this);return e.ttkActions.available(r)}};
},{"./exception.js":79,"./object.js":90,"./ttk.js":103,"./type.js":104}],73:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./utils.js"),_dereq_("./string.js"),TTk.Array=function(){var r={};r.create=function(r,n){return void 0===n?Array.apply(null,Array(r)).map(function(r,n){return n}):"number"==typeof n?Array.apply(null,Array(r)).map(Number.prototype.valueOf,n):Array.apply(null,Array(r)).map(TTk.identity,n)},r.create2D=function(n,e,t){return Array.apply(null,Array(n)).map(function(){return r.create(e,t)})},r.wrap=function(r){return Array.isArray(r)?r:[r]},r.index=function(r){for(var n=r.length,e={};n--;)e[r[n]]=n;return e},r.first=function(r){var n;return r.some(function(r){return n=r,void 0!==r}),n},r.last=function(r){var n;return r.forEach(function(r){void 0!==r&&(n=r)}),n},r.remove=function(n,e,t){if(t){for(var u=0;r.remove(n,e);)u++;return u}var i=!1,a=n.indexOf(e);return i=a!==-1,i&&n.splice(a,1),i},r.indexOf=function(r,n){for(var e=0,t=n.length;e<t;e++)if(TTk.String.matches(n[e],r))return e;return-1},r.count=function(r,n){var e=0;if(r instanceof RegExp)for(var t=0,u=n.length;t<u;t++)TTk.String.matches(n[t],r)&&e++;else for(var t=0,u=n.length;t<u;t++)n[t]===r&&e++;return e},r.assignAccessors=function(r,t,u){for(var i=r.length;i--;)if(!(i in r)){var a={configurable:!0,enumerable:!0};t&&(a.get=n(i,t)),u&&(a.set=e(i,u)),Object.defineProperty(r,i,a)}return r};var n=function(r,n){return function(){return n(r)}},e=function(r,n){return function(e){n(r,e)}};return r}();
},{"./string.js":98,"./ttk.js":103,"./utils.js":106}],74:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./type.js"),_dereq_("./object.js"),_dereq_("./array.js"),_dereq_("./action.js"),_dereq_("./config.js"),_dereq_("./event.js"),_dereq_("./maplist.js"),_dereq_("./exception.js"),TTk.Component=function(t){TTk.EventGenerator.call(this,t),TTk.Executable.call(this,t),TTk.Configurable.call(this,t),this.initComponent=function(){var e=t(this);e.ttkEvents=e.ttkEvents||new TTk.Events,e.ttkActions=e.ttkActions||new TTk.Actions,e.ttkConfig=e.ttkConfig||new TTk.Config(e.ttkEvents,e.ttkActions)}},TTk.ComponentGroup=function(){var t=TTk.Object.privateStore(),e={},n=function(){var n=t(this);n.ttkEvents=new TTk.Events,n.ttkConfig=new TTk.Config(n.ttkEvents),n.ttkConfig.register(e),n.members=[],n.handlers={},n.handles={},n.eventGenerators={},n.eventExecutors={}};n.prototype.add=function(e){var n=this;if(Array.isArray(e))return void e.forEach(function(t){n.add(t)});var o=t(this),i=!!(e.onEvent&&e.detachEvent&&e.eventsAvailable),a=!!(e.execAction&&e.cantExec&&e.actionsAvailable);if((i||a)&&!this.contains(e)){if(o.members.push(e),a)for(var s in e.actionsAvailable())TTk.MapList.add(o.eventExecutors,s,e);if(i)for(var c in e.eventsAvailable())TTk.MapList.add(o.eventGenerators,c,e),TTk.MapList.add(o.handles,c,e.onEvent(c,r.call(this,c)))}};var r=function(e){var n=this,r=t(this),o=r.handlers[e]||(r.handlers[e]=function(t){return r.ttkEvents.fire(e,t,!1,!0),n.execAction(e,t)});return o};return n.prototype.remove=function(e){var n=t(this);if(this.contains(e)){if(TTk.Array.remove(n.members,e),e.actionsAvailable)for(var r in e.actionsAvailable())TTk.MapList.remove(n.eventExecutors,r,e);if(e.eventsAvailable)for(var o in e.eventsAvailable())TTk.MapList.remove(n.eventGenerators,o,e),n.handles[o]&&n.handles[o].forEach(function(t){e.detachEvent(o,t)&&TTk.MapList.remove(n.handles,o,t)})}},n.prototype.removeAll=function(){var e=this,n=t(this);n.members.forEach(function(t){e.remove(t)})},n.prototype.contains=function(e){var n=t(this);return n.members.indexOf(e)!==-1},n.prototype.execAction=function(e,n){var r=t(this);if(e in r.eventExecutors){var o;return r.eventExecutors[e].forEach(function(t){var r;if(!(r=t.constructor.prototype.cantExec.call(t,e,n))){var i=t.constructor.prototype.execAction.call(t,e,n);void 0===o&&(o=i)}}),o}},n.prototype.cantExec=function(e,n){var r=t(this);if(!(e in r.eventExecutors))return"No components that can execute action '"+e+"'";var o="";if(!r.eventExecutors[e].some(function(t){var r=t.constructor.prototype.cantExec.call(t,e,n);return!r||void(o+="\n"+r)}))return o},n.prototype.actionsAvailable=function(e){var n=t(this),r={};if(0===arguments.length){for(e in n.eventExecutors){var o=this.actionsAvailable(e);o&&(r[e]=o)}return r}if(e in n.eventExecutors&&n.eventExecutors[e].length){var i=n.eventExecutors[e][0];return i.constructor.prototype.actionsAvailable.call(i,e)}return!1},TTk.EventGenerator.call(n.prototype,t),n.prototype.onEvent=function(e,n){var r=t(this);return r.ttkEvents.on(e,n,!0)},n.prototype.onceEvent=function(e,n){var r=t(this);return r.ttkEvents.once(e,n,!0)},n.prototype.eventsAvailable=function(e){var n=t(this),r={};if(0===arguments.length){for(e in n.eventGenerators){var o=this.eventsAvailable(e);o&&(r[e]=o)}return r}if(e in n.eventGenerators&&n.eventGenerators[e].length){var i=n.eventGenerators[e][0];return i.constructor.prototype.eventsAvailable.call(i,e)}return!1},TTk.Configurable.call(n.prototype,t),n.GLOBAL=new n,n}(),TTk.GroupComponent=function(t){TTk.Component.call(this,t),this.initComponent=function(){var e=t(this);e.ttkEvents=e.ttkEvents||new TTk.Events,e.ttkActions=e.ttkActions||new TTk.Actions,e.ttkConfig=e.ttkConfig||new TTk.Config(e.ttkEvents,e.ttkActions),e.ttkMessaging=e.ttkMessaging||new TTk.ComponentGroup},this.finaliseComponent=function(){var e=this,n=t(this);n.ttkMessaging.add(this),["execAction","cantExec","actionsAvailable","onEvent","detachEvent","eventsAvailable"].forEach(function(n){e[n]=function(){var e=t(this);return e.ttkMessaging[n].apply(e.ttkMessaging,arguments)}})};var e=this;["add","remove","removeAll","contains"].forEach(function(n){e[n]=function(){var e=t(this);return e.ttkMessaging[n].apply(e.ttkMessaging,arguments)}})};
},{"./action.js":72,"./array.js":73,"./config.js":75,"./event.js":78,"./exception.js":79,"./maplist.js":81,"./object.js":90,"./ttk.js":103,"./type.js":104}],75:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./type.js"),_dereq_("./object.js"),_dereq_("./exception.js"),TTk.ConfDef=function(){var e=function(e,t,i,n,r,f,a,o){this.key=e,this.valueType=TTk.Type.from(t),this.defaultValue=i,this.isntValid=n,this.label=r,this.description=f,this.volatile=o,this.configGroup=a};return e.fromObj=function(t,i){return new e(i||t.key||t.k,t.valueType||t.type||t.t,"defaultValue"in t?t.defaultValue:"default"in t?t.default:"def"in t?t.def:t.d,t.isntValid||t.valid||t.v,t.label||t.l,t.description||t.e,t.configGroup||t.g,t.volatile||t.vo||!1)},e}(),TTk.Config=function(){var e=TTk.Object.privateStore(),t=function(t,i){var n=this,r=e(this);r.values={},r.defs={},r.list=[],r.events=t,t&&(t.register("config-change",{key:"string",value:"polymorphic",valuePrev:"polymorphic",isBatch:"boolean"}),t.register("config-batchchange",{prevValues:"object",newValues:"object"})),i&&i.register("configure",function(e){n.config(e)},function(e){return n.cantConfigure(e)})};t.prototype.register=function(t,i,n,r,f,a,o){var s=e(this),u=null;if("string"==typeof t)null!==i&&(u=new TTk.ConfDef(t,i,n,r,f,a,o));else{if(!(t instanceof TTk.ConfDef)){if(Array.isArray(t))for(var l=0;l<t.length;l++)this.register(TTk.ConfDef.fromObj(t[l]));else for(var c in t)this.register(TTk.ConfDef.fromObj(t[c],c));return}u=t,t=u.key}if(t in s.defs){var l=s.list.indexOf(t);l>=0&&s.list.splice(l,1)}u?(s.defs[t]=u,s.list.push(t)):t in s.defs&&delete s.defs[t]},t.prototype.available=function(t){var i=e(this);return t?t in i.defs&&i.defs[t]:i.defs},t.prototype.list=function(){var t=e(this);return t.list},t.prototype.config=function(t,n,r){var f=e(this);if(0===arguments.length)return f.values;if(1===arguments.length){if("string"==typeof t){if(t in f.values)return f.values[t];if(t in f.defs)return f.defs[t].defaultValue;return}if("object"==typeof t){var a,o={},s={},u=!1,l="";for(var c in t){a=f.values[c];try{this.config(c,t[c],!0)}catch(e){l+=e.message+"\n";continue}i(a,f.values[c])||(u=!0,s[c]=f.values[c],o[c]=a)}if(!r&&f.events&&u){for(var c in s)f.events.fire("config-change",{key:c,value:s[c],valuePrev:o[c],isBatch:!0});f.events.fire("config-batchchange",{prevValues:o,newValues:t})}if(l)throw new TTk.Exception(l);return this}}var l=this.cantConfigure(t,n,!0);if(l)throw"string"==typeof l&&(l=new TTk.Exception(l)),l;f.defs[t].valueType===TTk.Type.NUMBER&&(n=null===n||""===n?NaN:+n);var v=f.values[t];return f.values[t]=n,r||!f.events||i(n,v)||f.events.fire("config-change",{key:t,value:n,valuePrev:v,isBatch:!1}),this};var i=function(e,t){var i="number"==typeof e;return i&&(e===t||isNaN(e)&&isNaN(t))||!i&&e===t};return t.prototype.cantConfigure=function(t,i,n){var r=e(this);if(1!==arguments.length){if(!(t in r.defs))return"Configuration item with the key '"+t+"' does not exist.";var f=r.defs[t];if(f.valueType&&!f.valueType.check(i)&&(void 0!==i&&null!==i||void 0!==f.defaultValue&&null!==f.defaultValue))return"Value '"+i+"' should be of type "+f.valueType.name+" on config item '"+t+"'";if(!n&&this.config(t)===i)return"Configuration item '"+t+"' is already set to value '"+i+"'";if(f.isntValid){var a=f.isntValid(i);if(a)return a}}else for(var o in t){var s=this.cantConfigure(o,t[o]);if(s)return s}},t}(),TTk.Configurable=function(e){this.config=function(t,i){var n=e(this),r=n.ttkConfig.config.apply(n.ttkConfig,arguments);return 0===arguments.length||1===arguments.length&&"string"==typeof t?r:this},this.cantConfigure=function(t,i){var n=e(this);return n.ttkConfig.cantConfigure(t,i)},this.configAvailable=function(t){var i=e(this);return i.ttkConfig.available(t)},this.configList=function(){var t=e(this);return t.ttkConfig.list()}};
},{"./exception.js":79,"./object.js":90,"./ttk.js":103,"./type.js":104}],76:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./utils.js"),_dereq_("./string.js"),_dereq_("./type.js"),_dereq_("./number.js"),_dereq_("./object.js"),_dereq_("./exception.js"),_dereq_("./time.js"),_dereq_("./time-interval.js"),_dereq_("./time-granularity.js"),TTk.Date=function(){var e=TTk.Object.privateStore(),t=20,r=!0,n="\\s*(\\-|\\/|\\s|,"+(r?"|\\.":"")+")\\s*",i="(0?[1-9]|[1-2]\\d|3[0-1])",a="(1[3-9]|2\\d|3[0-1])",s="(st|nd|th)",o=i+s,T=i+s+"?",u="([1-9]|0[1-9]|1[0-2])",l="(jan(uary)?|feb(ruary)?|mar(ch)?|apr(il)?|may|jun(e)?|jul(y)?|aug(ust)?|sep(tember)?|oct(ober)?|nov(ember)?|dec(ember)?)",c="("+u+"|"+l+")",g="\\d{2}",h="([0-3]\\d)",p="([0-3]\\d{3})",f="("+p+"|3[2-9]|[4-9]\\d)",m="("+h+")?(\\d{2})",D="("+m+")("+n+")?(Q[1-4]|[1-4]Q)",d="([1-4]Q|Q[1-4])("+n+")?("+m+")",k="("+D+"|"+d+")",v=c+n+m,E="("+l+n+m+"|"+c+n+p+")",y=m+n+c,M="("+f+n+l+"|"+p+n+c+")",w=T+n+v,Y="("+o+n+l+n+f+"|"+o+n+l+n+g+"|"+o+n+u+n+a+"|"+a+n+u+n+f+"|"+i+n+l+n+f+")",b=y+n+T,N="("+f+n+l+n+i+"|"+f+n+u+n+i+"|"+a+n+l+n+o+"|"+a+n+u+n+o+"|"+g+n+l+n+o+")",O=c+n+T+n+m,R="("+l+n+o+n+f+"|"+l+n+o+n+g+"|"+u+n+o+n+a+"|"+u+n+a+n+f+"|"+l+n+i+n+f+")",S="("+v+"|"+y+"|"+p+"|"+k+")",I="("+E+"|"+M+"|"+b+"|"+w+"|"+O+")",U="("+E+"|"+M+"|"+N+"|"+Y+"|"+R+")",j=new RegExp("^"+S+"$","gi"),C=new RegExp("^"+I+"$","gi"),x=new RegExp("^"+U+"$","gi"),A=(new RegExp("^"+E+"$","ig"),new RegExp("^"+M+"$","ig"),new RegExp("^"+Y+"$","ig"),new RegExp("^"+N+"$","ig"),new RegExp("^"+R+"$","ig"),new RegExp("^"+p+"$","ig")),Q=(new RegExp("^"+k+"$","ig"),new RegExp("^"+D+"$","ig")),$=new RegExp("^"+d+"$","ig"),F=new RegExp("^"+v+"$","ig"),G=new RegExp("^"+y+"$","ig"),H=new RegExp("^"+w+"$","ig"),L=new RegExp("^"+b+"$","ig"),q=new RegExp("^"+O+"$","ig"),_=new RegExp(n),B=(new RegExp(n,"g"),new RegExp(s,"i")),K=new RegExp(l,"i"),J="((?:19|20)\\d{2})",z="(0[1-9]|1[0-2])",P="(0[1-9]|[12][0-9]|3[01])",W="([01][0-9]|2[0-3])",V="([0-5][0-9])",X="(\\d{3})",Z=J+"[\\-M]"+z,ee=J+z,te=Z+"-"+P,re=J+z+P,ne=te+"\\s+"+W,ie=te+"\\s+"+W+":"+V,ae=te+"\\s+"+W+":"+V+":"+V,se=te+"\\s+"+W+":"+V+":"+V+"\\."+X,oe=te+"T"+W+":"+V+":"+V+"\\."+X+"Z",Te=new RegExp("^"+J+"$","ig"),ue=new RegExp("^"+Z+"$","ig"),le=new RegExp("^"+ee+"$","ig"),ce=new RegExp("^"+te+"$","ig"),ge=new RegExp("^"+re+"$","ig"),he=new RegExp("^"+ne+"$","ig"),pe=new RegExp("^"+ie+"$","ig"),fe=new RegExp("^"+ae+"$","ig"),me=new RegExp("^"+se+"$","ig"),De=new RegExp("^"+oe+"$","ig"),de={JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11},ke={YMD:L,DMY:H,MDY:q,MY:F,YM:G,QY:$,YQ:Q,Y:A},ve=["YMD","DMY","MDY","MY","YM","YQ","QY","Y"],Ee=(new Date).getFullYear(),ye=100*~~(Ee/100),Me=(Ee+t)%100,we=function(e,t){var r=new Date(Date.UTC(e.getUTCFullYear()+t.interval[0],e.getUTCMonth()+t.interval[1],e.getUTCDate()+t.interval[2],e.getUTCHours()+t.interval[3],e.getUTCMinutes()+t.interval[4],e.getUTCSeconds()+t.interval[5],e.getUTCMilliseconds()+t.interval[6]));return r},Ye=function(e,t){var r=new Date(Date.UTC(e.getUTCFullYear()-t.interval[0],e.getUTCMonth()-t.interval[1],e.getUTCDate()-t.interval[2],e.getUTCHours()-t.interval[3],e.getUTCMinutes()-t.interval[4],e.getUTCSeconds()-t.interval[5],e.getUTCMilliseconds()-t.interval[6]));return r},be=function(e){var t,r,n=TTk.TimeGranularity,i=[ge,Te,ue,le,ce,he,pe,fe,me,De];if(i.some(function(r){return t=TTk.String.parse(e,r)}),t){var a={year:parseInt(t[1],10),month:t.length>2?parseInt(t[2],10)-1:0,day:t.length>3?parseInt(t[3],10):1,hour:t.length>4?parseInt(t[4],10):0,min:t.length>5?parseInt(t[5],10):0,sec:t.length>6?parseInt(t[6],10):0,milli:t.length>7?parseInt(t[7],10):0};switch(t.length){case 2:r=n.YEAR;break;case 3:r=n.MONTH;break;case 4:r=n.DAY;break;case 5:r=n.HOUR;break;case 6:r=n.MINUTE;break;case 7:r=n.SECOND;break;case 8:r=n.MILLISECOND}var s=new Date(Date.UTC(a.year,a.month,a.day,a.hour,a.min,a.sec,a.milli));return Re(s,a),new TTk.Date(s,r)}},Ne=function(e){return be(e)},Oe=function(e){return e+ye-(e<=Me?0:100)},Re=function(e,t){if(e.getUTCFullYear()!==t.year||e.getUTCMonth()!==t.month||e.getUTCDate()!==t.day)throw new TTk.Exception("Date is in a recognised format, but the date is invalid")},Se=function(t,r){var n=e(this);if("string"==typeof t){var i=TTk.Date.parse(t);t=i.jsDate(),r||(r=i.granularity())}var a="number"==typeof t?new Date(t):t||new Date;Ie.call(this,a),n.granularity=r||(a.ttkDate?a.ttkDate.granularity():null),n.granularity=n.granularity||TTk.TimeGranularity.NONE};Se.prototype.addMillis=function(t){e(this);return Ie.call(this,new Date(this.jsDate().getTime()+t)),this},Se.prototype.addInterval=function(e){return e=e||this.interval(),Ie.call(this,we(this.jsDate(),e)),this},Se.prototype.plusInterval=function(e){return e=e||this.interval(),new TTk.Date(we(this.jsDate(),e),this.granularity())},Se.prototype.subInterval=function(e){return e=e||this.interval(),Ie.call(this,Ye(this.jsDate(),e)),this},Se.prototype.minusInterval=function(e){return e=e||this.interval(),new TTk.Date(Ye(this.jsDate(),e),this.granularity())},Se.prototype.withTime=function(e){var t=new Date(this.jsDate().getTime());return t.setUTCHours(e.hour),void 0!==e.minute&&t.setUTCMinutes(e.minute),void 0!==e.second&&t.setUTCSeconds(e.second),void 0!==e.millisecond&&t.setUTCMilliseconds(e.millisecond),new TTk.Date(t,e.gran)};var Ie=function(t){var r=e(this);r.jsDate=t,r.jsDate.ttkDate=this};Se.prototype.jsDate=function(){var t=e(this);return t.jsDate},Se.prototype.granularity=function(){var t=e(this);return t.granularity},Se.prototype.toGranularity=function(e){return"string"==typeof e&&(e=TTk.TimeGranularity.parse(e)),TTk.Date.parse(new TTk.Date(this.jsDate(),e).toString())},Se.prototype.toGranularity=function(e){return"string"==typeof e&&(e=TTk.TimeGranularity.parse(e)),TTk.Date.parse(new TTk.Date(this.jsDate(),e).toString())},Se.prototype.toTimeOffset=function(e,t){t=t||this.granularity();for(var r=this.toGranularity(e),n=this.toGranularity(t),i=t.interval,a=0;r.isBefore(n);)a++,r=r.plusInterval(i);return t.formatOffset(a,e)},Se.prototype.getQuarter=function(){return~~(this.jsDate().getMonth()/3)+1},Se.prototype.toString=function(e){if(!e){var t=this.jsDate().toISOString(),r=TTk.TimeGranularity;switch(this.granularity()){case r.CENTURY:case r.DECADE:case r.YEAR:return t.substr(0,4);case r.QUARTER:return t.substr(0,4)+"-Q"+this.getQuarter();case r.MONTH:return t.substr(0,7);case r.WEEK:case r.DAY:return t.substr(0,10);case r.HOUR:return t.substr(0,10)+" "+t.substr(11,2);case r.MINUTE:return t.substr(0,10)+" "+t.substr(11,5);case r.SECOND:return t.substr(0,10)+" "+t.substr(11,8);case r.NONE:case r.MILLISECOND:return t.substr(0,10)+" "+t.substr(11,12);default:throw Error("Unrecognized time granularity value: "+this.granularity())}}e=e.split(TTk.TimeGranularity.D3_TOKEN_REGEX_ALL);for(var n,i=[],a=this.granularity().interval.inMillis(),s=1;s<e.length;s+=2){var n=TTk.TimeGranularity.D3_TOKEN_GRAN[e[s]];n.interval.inMillis()>=a&&(i.push(e[s]),s<e.length-1&&!(e[s+1]in TTk.TimeGranularity.D3_TOKEN_GRAN)&&i.push(e[s+1]))}return i[i.length-1]in TTk.TimeGranularity.D3_TOKEN_GRAN||i.pop(),d3.time.format(i.join(""))(this.jsDate())},Se.prototype.toStringLocalTime=function(){var e=this.jsDate(),t=TTk.TimeGranularity;switch(this.granularity()){case t.CENTURY:case t.DECADE:case t.YEAR:return e.getFullYear();case t.QUARTER:return e.getFullYear()+"-Q"+this.getQuarter();case t.MONTH:return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2);case t.WEEK:case t.DAY:return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2);case t.HOUR:return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2);case t.MINUTE:return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2);case t.SECOND:return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2);case t.NONE:case t.MILLISECOND:return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+":"+e.getMilliseconds();default:throw Error("Unrecognized time granularity value: "+this.granularity())}},Se.prototype.d3format=function(){var e=TTk.TimeGranularity;switch(this.granularity()){case e.CENTURY:case e.DECADE:case e.YEAR:return"%Y";case e.QUARTER:case e.MONTH:return"%Y-%m";case e.WEEK:case e.DAY:return"%Y-%m-%d";case e.HOUR:return"%Y-%m-%d %H";case e.MINUTE:return"%Y-%m-%d %H:%M";case e.SECOND:return"%Y-%m-%d %H:%M:%S";case e.NONE:case e.MILLISECOND:return"%Y-%m-%d %H:%M:%S.%L";default:throw Error("Unrecognized time granularity value: "+this.granularity())}},Se.prototype.interval=function(){return this.granularity().interval},Se.prototype.equals=function(e){return e.getTime()===this.getTime()&&e.granularity()===this.granularity()},Se.prototype.isBefore=function(e){return this.jsDate()<e.jsDate()},Se.prototype.isOnOrBefore=function(e){return this.jsDate()<=e.jsDate()},Se.prototype.isAfter=function(e){return this.jsDate()>e.jsDate()},Se.prototype.isOnOrAfter=function(e){return this.jsDate()>=e.jsDate()},Se.prototype.difference=function(e){return this.jsDate()-e.jsDate()},Se.compare=function(e,t){return e.difference(t)},Se.prototype.intersects=function(e){return this.contains(e)||e.contains(this)},Se.prototype.contains=function(e){var t=this.getTime(),r=this.plusInterval().getTime(),n=e.getTime(),i=e.plusInterval().getTime();return n>=t&&i<=r},Se.prototype.getTime=function(){return this.jsDate().getTime()},Se.prototype.getTimeSeconds=function(){return~~(this.jsDate().getTime()/TTk.Interval.MILLIS_SECOND)},Se.nowSeconds=function(){return~~(Date.now()/TTk.Interval.MILLIS_SECOND)},Se.isLessThanInterval=function(e,t,r){if(e.isAfter(t)){var n=t;t=e,e=n}return!e.plusInterval(r).isAfter(t)},Se.isTimeStamp=function(e){var t=[he,pe,fe,me,De];return t.some(function(t){return TTk.String.matches(e,t)})},Se.isDateTime=function(e){var t=TTk.Date.splitDateTime(e);return TTk.Date.isDate(t.date)&&(!t.time||TTk.Time.isTime(t.time))},Se.isDateAmbigTime=function(e){var t=TTk.Date.splitDateTime(e);return TTk.Date.isDateAmbig(t.date)&&(!t.time||TTk.Time.isTime(t.time))},Se.isDate=function(e){return TTk.String.matches(e,j)||TTk.String.matches(e,ge)||TTk.String.matches(e,le)||TTk.String.matches(e,ue)||TTk.Date.isDateAmbig(e)},Se.isDateAmbig=function(e){return TTk.String.matches(e,C)},Se.isDateUnamb=function(e){return TTk.String.matches(e,x)},Se.isDateOrder=function(e){return ve.some(function(t){return e===t})};var Ue,je,Ce;Se.inRecentRange=function(e){if(e instanceof Date)e=new TTk.Date(e);else if(e instanceof TTk.Date);else try{e=TTk.Date.parse(e)}catch(e){return!1}return Ue=Ue||new TTk.Date,je=je||Ue.minusInterval(TTk.Interval.parse(100-t+"years")),Ce=Ce||Ue.plusInterval(TTk.Interval.parse(t+"years")),e.isAfter(je)&&e.isBefore(Ce)},Se.splitDateTime=function(e){var t=TTk.Time.indexOfTime(e);return{date:t===-1?e:e.substr(0,t),time:t===-1?null:e.substr(t).trim()}},Se.stripTime=function(e){var t=TTk.Date.splitDateTime(e);return t.date},Se.matchesOrder=function(e,t){if("YMD"===t&&TTk.String.matches(e,ge))return!0;if("YM"===t&&TTk.String.matches(e,le))return!0;var r=ke[t];return!!r&&TTk.String.matches(e,r)},Se.inferOrder=function(e){if(TTk.String.matches(e,ge))return"YMD";if(TTk.String.matches(e,le))return"YM";var t;if(!ve.some(function(r){if(TTk.Date.matchesOrder(e,r))return t=r,!0}))throw new TTk.Exception("Unrecognised date '"+e+"'");return t},Se.inferFormat=function(e,t){t||(t=TTk.Date.inferOrder(e));var r="",n=e.split(_);if(n.length<t.length){if(t.search(/Q/i)!==-1&&(n=Qe(e)),"YMD"===t&&TTk.String.matches(e,ge))return"YYYYMMDD";if("YM"===t&&TTk.String.matches(e,le))return"YYYYMM"}if(!(n.length<t.length)){for(var i=0;i<t.length;i++){switch(t[i]){case"D":r+="DD",TTk.String.matches(n[2*i],B)&&(r+="o");break;case"M":r+=TTk.String.matches(n[2*i],K)?"MMM":"MM";break;case"Y":r+=4===n[2*i].length?"YYYY":"YY";break;case"Q":r+="QQ"}i<t.length-1&&(r+=n[2*i+1])}return r}},Se.parse=function(e,t){if(!e||"NONE"===e)return TTk.Date.NONE;var r,n=TTk.Date.splitDateTime(e),i=xe(n.date,t);return n.time&&(r=TTk.Time.parse(n.time),i=i.withTime(r)),i};var xe=function(e,t){var r=TTk.TimeGranularity,n=Ne(e);if(n)return n;t||(t=TTk.Date.inferFormat(e)),(t.length<=3||TTk.Date.isDateOrder(t))&&(t=TTk.Date.inferFormat(e,t));var i=t.split(_),a=e.split(_);if(i.length>a.length&&e.search(/Q/i)!==-1&&(a=Qe(e)),i.length!==a.length)throw new TTk.Exception("Date given ("+e+") does not match format ("+t+")");for(var s,o={month:0,day:1},T=r.NONE,u=0;u<i.length;u+=2){switch(s=r.NONE,i[u]){case"DD":o.day=parseInt(a[u],10),s=r.DAY;break;case"DDo":o.day=parseInt(a[u].substring(0,2),10),s=r.DAY;break;case"MM":o.month=parseInt(a[u],10)-1,s=r.MONTH;break;case"MMM":o.month=de[a[u].substring(0,3).toUpperCase()],s=r.MONTH;break;case"QQ":o.month=3*(TTk.Number.parseInt(a[u].replace(/Q/i,""))-1),s=r.QUARTER;break;case"YY":o.year=Oe(parseInt(a[u]),10),s=r.YEAR;break;case"YYYY":o.year=parseInt(a[u],10),s=r.YEAR;break;default:throw new TTk.Exception("Un-recognised date format ("+t+"). Specifically the characters: "+i[u])}(T===r.NONE||s.interval.inMillis()<T.interval.inMillis())&&(T=s)}var l=new Date(Date.UTC(o.year,o.month,o.day));return Re(l,o),new TTk.Date(l,T)};Se.findDateFormat=function(e,t,r,n){t=t||0;var i={};i.dateOrder="",i.timeFormat="",i.warnings=[],i.errors=[];for(var a,s,o,T=[["Y",!1],["QY",!1],["MY",!1],["YM",!1],["DMY",!1],["YMD",!1],["MDY",!1]],u=0,l=1,c=[["MY",[0,2]],["YM",[0,3]],["DMY",[0,2,4,7]],["MDY",[0,2,6,9]],["YMD",[0,3,5,8]]],g=[0,1,2,3,4,5,6],h=T.length,p=e.length,f=t;f<p;f++)if(o=r?r(e[f],f,1):e[f],o=TTk.Date.stripTime(o)){s=o,a=[];for(var m=0;m<h;m++)TTk.Date.matchesOrder(s,T[m][u])&&a.push(m);if(!(0===a.length||n&&n(f))){for(var D=0,d=a.length;D<d;D++)T[a[D]][l]=!0;for(var k=0;k<g.length;k++)a.indexOf(g[k])===-1&&g.splice(k--,1)}}if(1===g.length){i.dateOrder=T[g[0]][u],i.timeFormat=TTk.Date.inferFormat(s,i.dateOrder);for(var f=t;f<p;f++)if(s=r?r(e[f],f,2):e[f],s=TTk.Date.stripTime(s),s&&i.timeFormat!==TTk.Date.inferFormat(s,i.dateOrder)){i.warnings.push("Time series contains dates in a mixed format. Not possible to establish a single specific format, although the date order and number of components is consistent."),i.timeFormat="";break}}else{a=[];for(var m=0;m<h;m++)T[m][l]&&a.push(m);for(var v=0;v<c.length;v++){for(var E=!0,D=0;D<a.length;D++)if(c[v][1].indexOf(a[D])===-1){E=!1;break}if(E){i.dateOrder=c[v][0],i.warnings.push("Time series contains dates in a mixed format. Not possible to establish a single specific format, although the date order is consistent.");break}}""===i.dateOrder?g.length>1?Ae(i,e,t,r,T,g):i.warnings.push("Time series contains dates in a mixed format, with inconsistent date orders. Not possible to establish a specific date format or date order."):i.warnings.push("Time series contains dates in a mixed format. Not possible to establish a single specific format, although the date order is consistent.")}return i};var Ae=function(e,t,r,n,i,a){for(var s,o,T,u,l=[],c=[],g=[],h=[],p=[],f=t.length,m=a.length,D=0,d=r;d<f;d++)if(D++,s=n?n(t[d],d,3):t[d],s=TTk.Date.stripTime(s))for(var k=0;k<m;k++){u=i[a[k]][0];try{o=TTk.Date.parse(s,u)}catch(e){o=!1}l.length<=k?(l.push(o),c.push(null),g.push(0),h.push(o),p.push(o)):o?(T=o.difference(l[k]),null!==c[k]&&(g[k]+=Math.abs(T-c[k])),l[k]=o,c[k]=T,o.isBefore(h[k])&&(h[k]=o),o.isAfter(p[k])&&(p[k]=o)):e.errors.push("Not able to parse time value '"+s+"' on row "+(d+1)+" with candidate format "+u)}for(var v,E=0,y=1,k=0;k<m;k++){if(v=p[k].difference(h[k]),0===v)return void e.warnings.push("Time series contains an ambigous date format which cannot be resolved because all time values are equal. Not possible to establish a specific date format or date order.");g[k]/=v,0!==k&&g[k]<g[E]&&(y=E,E=k)}return g[E]===g[y]?void e.warnings.push("Time series contains an ambigous date format which cannot be resolved. Not possible to establish a specific date format or date order."):(e.dateOrder=i[a[E]][0],void(g[E]/g[y]>.5&&e.warnings.push("Time series contains an ambigous date format which can be resolved, but with low confidence.")))},Qe=function(e){var t,r=e.search(/Q/i);if(r!==-1){var n=0===r?r+2:1===r?r+1:r===e.length-1?r-1:r;e=e.substring(0,n)+"-"+e.substring(n,e.length),t=e.split(_)}return t};return Se}(),TTk.Type.DATE=new TTk.Type("date",TTk.Type.STRING,TTk.Date.isDate),TTk.Type.JSDATE=new TTk.Type("jsdate",TTk.Type.OBJECT,function(e){return e instanceof Date}),TTk.Type.DATETIME=new TTk.Type("datetime",TTk.Type.STRING,function(e){return TTk.Date.isDateTime(e)||TTk.Date.isTimeStamp(e)}),TTk.Type.TEMPORAL=new TTk.Type("temporal",TTk.Type.DATETIME),TTk.Date.NONE=new TTk.Date(new Date(0)),TTk.Date.NONE.toString=function(){return"NONE"},TTk.Date.NONE.addMillis=function(){return this},TTk.Date.NONE.addInterval=function(){return this},TTk.Date.NONE.subInterval=function(){return this};
},{"./exception.js":79,"./number.js":89,"./object.js":90,"./string.js":98,"./time-granularity.js":100,"./time-interval.js":101,"./time.js":102,"./ttk.js":103,"./type.js":104,"./utils.js":106}],77:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");TTk.Enumeration=function(){var n=function(n){for(var e,r=/\-?(\w+)+/g,t="";e=r.exec(n);){var u=e[1];t+=u.charAt(0).toUpperCase()+u.substr(1)}return t},e=function(n){return n.toUpperCase().replace(/-/,"_")},r=function(u,T,i){var a={},c={};return T.forEach(function(n,r){a[n.k]=n,c[n.k]=r,T[e(n.k)]=n.k,T[r]=n.k}),T.name=u,T.index=function(n){return c[n]},T.label=function(n){return a[n].l},T.description=function(n){return a[n].l},T.isMember=function(n){return n in a},i?TTk[i][n(u)]=T:TTk[n(u)]=T,t[u]=T,r.list.push(T),TTk.Type&&r.makeType(T),T};r.makeType=function(n){TTk.Type[e(n.name)]=new TTk.Type(n.name,TTk.Type.STRING,null,null,n)},r.get=function(n){return t[n]};var t={};return r.list=[],r}();
},{"./ttk.js":103}],78:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./type.js"),_dereq_("./object.js"),TTk.Event=function(){var t=function(){this.source=null};return t}(),TTk.Events=function(){var t=TTk.Object.privateStore(),e=0,r=function(t){var r=this,n={id:"h"+ ++e};return n.detach=function(){r.detach(t,n)},n},n=function(){var e=t(this);e.handlers={},e.defs={},e.defProps={}};return n.prototype.cantFire=function(e,r){var n=t(this),i=this.available(e);if(!i)return"No event with id '"+e+"' has been registered.";if(i&&"boolean"!=typeof i){if(!TTk.Object.isEmpty(i)&&!r||TTk.Object.isEmpty(r))return"No event object data provided.";for(var o in i){if(!(o in r)){if(n.defProps[o]&&n.defProps[o].optional)continue;return"Event object is missing required property '"+o+"'"}if(!i[o].check(r[o]))return"Event object property '"+o+"' should be of type "+i[o].name}}},n.prototype.fire=function(e,r,n,i){var o=t(this),s=i?null:this.cantFire(e,r);s&&TTk.warn(s);var a=o.handlers[e];if(!a||TTk.Object.isEmpty(a))return!1;if(n)setTimeout(function(){for(var t in a)a[t](r)});else for(var f in a)a[f](r);return!0},n.prototype.on=function(e,n,i){var o=t(this);i||this.available(e)||TTk.warn("Handler was subscribed for event '"+e+"' which has not been registered. See TTk.Event.register()");var s=o.handlers[e]||(o.handlers[e]={}),a=r.call(this,e);return s[a.id]=n,a},n.prototype.once=function(t,e,r){var n=this,i=n.on(t,function(r){n.detach(t,i),e(r)},r);return i},n.prototype.detach=function(e,r){var n=t(this);if(TTk.Object.isEmpty(n.handlers))return!1;if(!e)return n.handlers={},!0;var i=n.handlers[e];return!(!i||TTk.Object.isEmpty(i))&&(r?r.id in i&&(delete i[r.id],!0):(n.handlers[e]={},!0))},n.prototype.register=function(e,r,n){var i=t(this),o={};if("object"==typeof r)for(var s in r)o[s]=TTk.Type.from(r[s]);i.defs[e]=o,n=n||{};for(var s in n){i.defProps[s]=n[s];var a=n[s];"string"==typeof a&&(i.defProps[s]={},i.defProps[s][a]=!0)}},n.prototype.available=function(e){var r=t(this);return e?e in r.defs&&r.defs[e]:r.defs},n}(),TTk.EventGenerator=function(t){this.onEvent=function(e,r){var n=t(this);return n.ttkEvents.on(e,r)},this.onceEvent=function(e,r){var n=t(this);return n.ttkEvents.once(e,r)},this.detachEvent=function(e,r){var n=t(this);return n.ttkEvents.detach(e,r)},this.eventsAvailable=function(e){var r=t(this);return r.ttkEvents.available(e)}};
},{"./object.js":90,"./ttk.js":103,"./type.js":104}],79:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");TTk.Exception=function(){var t=function(t){this.name="TTk.Exception",this.message=t,this.stack=(new Error).stack};return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),t}(),TTk.InternalException=function(){var t=function(t){this.name="TTk.InternalException",this.message=t,this.stack=(new Error).stack};return t.prototype=Object.create(TTk.Exception.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),t}();
},{"./ttk.js":103}],80:[function(_dereq_,module,exports){
"use strict";var Map=_dereq_("es6-map"),TTk=_dereq_("./ttk.js");TTk.Executor=function(){var t=0,n=function(){this.id="Executor"+t++,this.actions=new Map,this.members={}};n.prototype.doOnce=function(t,n,i,o){var r=this;n=n||"",i=i||0,r.actions.set(n,t||r.actions.get(n));var s=!0;return r.doing&&(s=!1,o)?s:(r.doing=!0,r.handle&&clearTimeout(r.handle),r.handle=setTimeout(function(){r.handle=null;var t=r.actions;r.actions=new Map,t.forEach(e),r.actions=new Map,r.doing=!1},i),s)};var e=function(t){"function"==typeof t&&t()};n.prototype.doOnceNow=function(t,n){var e=this;return n&&(e.lastAction=t),!e.onceDoing&&(e.onceDoing=!0,setTimeout(function(){if(e.lastAction){var t=e.lastAction;e.lastAction=null,t()}e.onceDoing=!1}),t&&t(),!0)},n.prototype.doOnceEvent=function(t,n){if(!this.eventActions)return t(),!0;var e=!(""+n in this.eventActions);return this.eventActions[n]=t,e},n.prototype.eventStart=function(){this.eventActions={}},n.prototype.eventDone=function(){if(this.eventActions){for(var t in this.eventActions)this.eventActions[t]();this.eventActions=null}},n.prototype.add=function(t){this.members[t]=!1},n.prototype.remove=function(t){delete this.members[t]},n.prototype.commit=function(t,n,e){if(e&&this.onceDoing)return!1;this.members[t]=n;var o=!0;for(var r in this.members)o=o&&!!this.members[r];return!!o&&(e?this.doOnceNow(i.bind(this)):(i.call(this),!0))};var i=function(){var t=Object.assign({},this.members);for(var n in this.members)this.members[n]=!1;for(var n in t){var e=t[n];"function"==typeof e&&e()}};return n.GLOBAL=new n,n}();
},{"./ttk.js":103,"es6-map":7}],81:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./array.js"),TTk.MapList=function(){var r={};return r.add=function(r,e,n){var t=r[e]||(r[e]=[]);return t.push(n),t},r.remove=function(r,e,n){var t=r[e];return!!t&&TTk.Array.remove(t,n,!0)},r.removeAll=function(e,n){var t=0;for(var a in e){var u=r.remove(e,a,n);u&&(t+=u)}return t},r}();
},{"./array.js":73,"./ttk.js":103}],82:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");TTk.Math=function(){var n=function(){};return n.mod=function(n,t){return n*t>=0?n%t:(n%t+t)%t},n.clamp=function(n,t,r){return Math.max(Math.min(n,r),t)},n.snap=function(n,t){return Math.round(n/t)*t},n.round=function(n,t){t=t||0;var r=Math.pow(10,t);return Math.round(n*r)/r},n.ceil=function(n,t){t=t||0;var r=Math.pow(10,t);return Math.ceil(n*r)/r},n.floor=function(n,t){t=t||0;var r=Math.pow(10,t);return Math.floor(n*r)/r},n.step=function(n,t){var r=Math;return r.round(r.pow(t,r.round(r.log(n)/r.log(t))))},n.toDegrees=function(n){return 180*n/Math.PI},n.toRadians=function(n){return n*Math.PI/180},n}(),TTk.Vector=function(){var n=function(){};return n.sub=function(n,t){return n.length<=2||t.length<=2?[n[0]-t[0],n[1]-t[1]]:[n[0]-t[0],n[1]-t[1],n[2]-t[2]]},n.add=function(n,t){return n.length<=2||t.length<=2?[n[0]+t[0],n[1]+t[1]]:[n[0]+t[0],n[1]+t[1],n[2]+t[2]]},n.mult=function(n,t){return n.length<=2||t.length<=2?[n[0]*t[0],n[1]*t[1]]:[n[0]*t[0],n[1]*t[1],n[2]*t[2]]},n.scale=function(n,t){return n.length<=2?[n[0]*t,n[1]*t]:[n[0]*t,n[1]*t,n[2]*t]},n.dist=function(n,t){return Math.pow(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)+(n.length<=2||t.length<=2?0:Math.pow(t[2]-n[2],2)),.5)},n.planeDist=function(t,r,o){return n.dot(n.norm(o),n.sub(t,r))},n.mid=function(t,r,o){return arguments.length<3&&(o=.5),n.add(t,n.scale(n.sub(r,t),o))},n.dot=function(n,t){return n[0]*t[0]+n[1]*t[1]+(n.length<=2||t.length<=2?0:n[2]*t[2])},n.cross=function(n,t){return[n[1]*(t[2]||0)-t[1]*(n[2]||0),(n[2]||0)*t[0]-(t[2]||0)*n[0],n[0]*t[1]-t[0]*n[1]]},n.perp=function(n){return[-n[1],n[0]]},n.magSqr=function(n){return n[0]*n[0]+n[1]*n[1]+(n.length<=2?0:n[2]*n[2])},n.mag=function(t){return Math.sqrt(n.magSqr(t))},n.axis=function(n){return n[0]?n[1]||n[2]?-1:0:n[1]?n[2]?-1:1:n[2]?2:-1},n.rotate=function(n,t){var r=Math.cos(t),o=Math.sin(t);return[r*n[0]-o*n[1],o*n[0]+r*n[1]]},n.angleBetween=function(t,r){if(0===n.mag(n.sub(n.norm(t),n.scale(n.norm(r),-1))))return Math.PI;var o=Math.acos(TTk.Math.clamp(n.dot(t,r)/(n.mag(t)*n.mag(r)),-1,1)),u=n.norm(n.cross(t,r));return o*u[2]},n.norm=function(t){var r=n.mag(t);return n.scale(t,0!==r?1/r:0)},n.intersect=function(t,r,o){o=o||0;var u=n.sub(t[1],t[0]),e=n.sub(r[1],r[0]),a=n.sub(r[0],t[0]),c=Math.abs(n.dot(a,n.cross(u,e)));if(!(c>o)){var i=n.dot(n.cross(a,e),n.cross(u,e))/n.magSqr(n.cross(u,e));return i>=0&&i<=1?n.add(t[0],n.scale(u,i)):void 0}},n}(),TTk.Matrix=function(){var n=function(){};return n.multiply=function(n,t){var r,o,u,e=[];for(r=0;r<n.length;r++)for(e[r]=[],o=0;o<t[r].length;o++)for(e[r][o]=0,u=0;u<n[r].length;u++)e[r][o]+=n[r][u]*t[u][o];return e},n}(),TTk.AxisRotation=function(){var n,t=[0,0,1],r=0,o=[0,0,0],u=function(t){return n||e(),t=TTk.Vector.sub(t,o),t=TTk.Matrix.multiply(n,[[t[0]],[t[1]],[t[2]],[0]]),t=[t[0][0],t[1][0],t[2][0]],t=TTk.Vector.add(t,o)},e=function(){var o=t[0],u=t[1],e=t[2],a=o*o,c=u*u,i=e*e,f=o*o+u*u+e*e,s=Math.sqrt(f),l=Math.cos(r),h=Math.sin(r);n=TTk.Array.create2D(4,4,0),n[0][0]=(a+(c+i)*l)/f,n[0][1]=(o*u*(1-l)-e*s*h)/f,n[0][2]=(o*e*(1-l)+u*s*h)/f,n[1][0]=(o*u*(1-l)+e*s*h)/f,n[1][1]=(c+(a+i)*l)/f,n[1][2]=(u*e*(1-l)-o*s*h)/f,n[2][0]=(o*e*(1-l)-u*s*h)/f,n[2][1]=(u*e*(1-l)+o*s*h)/f,n[2][2]=(i+(a+c)*l)/f,n[3][3]=1};return u.axis=function(r){return arguments.length?(t=r,n=null,u):t},u.angle=function(t){return arguments.length?(r=t,n=null,u):r},u.origin=function(n){return arguments.length?(o=n,u):o},u},TTk.LatLon=function(n,t,r){this.lat=n,this.lon=t,this.alt=r},TTk.Polygon=function(){var n=function(){};return n.centroid=function(n){var t=[0,0,0];return n.forEach(function(n){t=TTk.Vector.add(t,n)}),t=TTk.Vector.scale(t,1/n.length)},n.normal=function(n){var t=TTk.Vector,r=t.sub(n[1],n[0]),o=t.sub(n[2],n[0]);return t.cross(r,o)},n.rectContains=function(n,t){return n[0]<=t[1]&&t[1]<=n[1]&&n[2]<=t[0]&&t[0]<=n[3]},n.rectOverlap=function(n,t){return n[0]<t[1]&&n[1]>t[0]&&n[2]<t[3]&&n[3]>t[2]},n}();
},{"./ttk.js":103}],83:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./model.js"),_dereq_("./model-user.js"),TTk.AccessModel=function(){var e=function(){this.constructor.PROPS=Object.assign(this.constructor.PROPS,e.PROPS)};return e.PROPS={createTime:{t:"timestamp",l:"Time Created",e:"When the model was initially created."},updateTime:{t:"timestamp",l:"Time Updated",e:"When the model was last updated."},accessTime:{t:"timestamp",l:"Time Accessed",e:"When the model was last accessed."},createBy:{t:TTk.User.CLASS,l:"Created By",e:"Who created the model"},updateBy:{t:TTk.User.CLASS,l:"Updated By",e:"Who last updated the model"},accessBy:{t:TTk.User.CLASS,l:"Accessed By",e:"Who last accessed the model"}},e.created=function(t){var s=Date.now(),r=TTk.User.logged;if(e.is(t)){var a={silent:!0};t.prop("createTime",s,a).prop("updateTime",s,a).prop("accessTime",s,a).prop("createBy",r,a).prop("updateBy",r,a).prop("accessBy",r,a)}},e.updated=function(t){var s=Date.now(),r=TTk.User.logged;if(e.is(t)){var a={silent:!0};t.prop("updateTime",s,a).prop("accessTime",s,a).prop("updateBy",r,a).prop("accessBy",r,a)}},e.accessed=function(t){var s=Date.now(),r=TTk.User.logged;if(e.is(t)){var a={silent:!0};t.prop("accessTime",s,a).prop("accessBy",r,a)}},e.is=function(t){if(!t||"object"!=typeof t)return!1;var s=t.constructor.PROPS;if(!s)return!1;for(var r in e.PROPS)if(!(r in s))return!1;return!0},e}();
},{"./model-user.js":87,"./model.js":88,"./ttk.js":103}],84:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./object.js"),_dereq_("./model.js"),_dereq_("./array.js"),TTk.AuthModel=function(){var e={_read:{type:TTk.Type.ARRAY},_write:{type:TTk.Type.ARRAY},_admin:{type:TTk.Type.ARRAY}},t=function(t){this.constructor.PROPS=Object.assign(this.constructor.PROPS,e),TTk.Model.call(this,t);var i={},r=this;["initModel","destroy","realTime","rootModel","prop","addTo","removeFrom","setAt","removeAt"].forEach(function(e){i[e]=r[e]}),this.initModel=function(){t(this);i.initModel.apply(this,arguments)},this.destroy=function(){t(this);if(!this.canAdmin())throw new TTk.PermissionException("Current user does not have permission to delete model "+this.debugLabel());return i.destroy.apply(this,arguments)},this.realTime=function(){return arguments.length&&s.call(this,"_realTime"),i.realTime.apply(this,arguments)},this.rootModel=function(){return arguments.length&&s.call(this,"_rootModel"),i.rootModel.apply(this,arguments)},this.prop=function(e,r,o){var c,h=(t(this),[]);try{arguments.length>1&&(s.call(this,e),a.call(this,e,r)),c=i.prop.apply(this,arguments)}catch(e){if(!(e instanceof TTk.PermissionException))throw e;h.push(e)}if(n.call(this,"prop",e,o,arguments,h),h.length)throw TTk.PermissionException.from(h);return c},this.addTo=function(e,t,r){var o=[];try{s.call(this,e),i.addTo.apply(this,arguments)}catch(e){if(!(e instanceof TTk.PermissionException))throw e;o.push(e)}if(n.call(this,"addTo",e,r,arguments,o),o.length)throw TTk.PermissionException.from(o);return this},this.removeFrom=function(e,t,r){var o=[];try{s.call(this,e),a.call(this,e),i.removeFrom.apply(this,arguments)}catch(e){if(!(e instanceof TTk.PermissionException))throw e;o.push(e)}if(n.call(this,"removeFrom",e,r,arguments,o),o.length)throw TTk.PermissionException.from(o);return this},this.setAt=function(e,t,r,o){var a=[];try{s.call(this,e),i.setAt.apply(this,arguments)}catch(e){if(!(e instanceof TTk.PermissionException))throw e;a.push(e)}if(n.call(this,"setAt",e,o,arguments,a),a.length)throw TTk.PermissionException.from(a);return this},this.removeAt=function(e,t,r){var o=[];try{s.call(this,e),a.call(this,e),i.removeAt.apply(this,arguments)}catch(e){if(!(e instanceof TTk.PermissionException))throw e;o.push(e)}if(n.call(this,"removeAt",e,r,arguments,o),o.length)throw TTk.PermissionException.from(o);return this};var n=function(i,r,n,s,a){var c=t(this);e[r]&&n&&n.deep&&(n.checked=n.checked||{},n.checked[this.id()]=!0,o(c.props,i,s,n.checked,a))},o=function(e,t,i,r,n){if("object"==typeof e){if(TTk.Model.isModel(e)){if(!e.canRead||e instanceof TTk.User||e instanceof TTk.Role)return;if(r[e.id()])return;try{e[t].apply(e,i)}catch(e){if(!(e instanceof TTk.PermissionException))throw e;n.push(e)}}if(Array.isArray(e))for(var s=0;s<e.length;s++)try{o(e[s],t,i,r,n)}catch(e){if(!(e instanceof TTk.PermissionException))throw e;n.push(e)}else for(var a in e)try{o(e[a],t,i,r,n)}catch(e){if(!(e instanceof TTk.PermissionException))throw e;n.push(e)}}},s=function(t){this.verifyWrite(),t in e&&this.verifyAdmin()},a=function(e,i){var r=t(this);if("_admin"===e&&(1===arguments.length&&r.props._admin&&1===r.props._admin.length||r.props._admin&&!i||!i.length))throw new TTk.PermissionException("Cannot remove the last administrator from model "+this.debugLabel())},c=function(e){return e?"User "+e.forename()+" "+e.surname():TTk.User.logged?"Current user ":"Anonymous user"};return this.verifyRead=function(e){if(!this.canRead(e))throw new TTk.PermissionException(c(e)+" does not have read permission to model "+this.debugLabel())},this.verifyWrite=function(e){if(!this.canWrite(e))throw new TTk.PermissionException(c(e)+" does not have write permission to model "+this.debugLabel())},this.verifyAdmin=function(e){if(!this.canAdmin(e))throw new TTk.PermissionException(c(e)+" does not have admin permission to model "+this.debugLabel())},this.canRead=function(e){if(this.canWrite(e))return!0;var i=t(this);return!!i.props._read&&(e=e||TTk.User.logged,!!e&&i.props._read.some(function(t){return t===e||(t.hasMember?t.hasMember(e):void 0)}))},this.canWrite=function(e){if(this.canAdmin(e))return!0;var i=t(this);return!!i.props._write&&(e=e||TTk.User.logged,!!e&&i.props._write.some(function(t){return t===e||(t.hasMember?t.hasMember(e):void 0)}))},this.canAdmin=function(e){var i=t(this);return!i.props._admin||(e=e||TTk.User.logged,!!e&&i.props._admin.some(function(t){return t===e||(t.hasMember?t.hasMember(e):void 0)}))},this};t.login=function(){return TTk.ComponentGroup.GLOBAL.execAction("authenticate").then(function(){if(!TTk.User.logged)return t.prime()},t.prime)},t.prime=function(){return TTk.AuthModel.adminRole().then(function(e){if(e||(e=(new TTk.Role).name(r).description(n)),e.members().length<1){if(TTk.User.logged)return e.addTo("members",TTk.User.logged),e.addTo("_admin",TTk.User.logged),!0;var t=new TTk.User;return TTk.Promise.onceEvent("models-synced").then(function(){return TTk.ComponentGroup.GLOBAL.execAction("authenticate",{user:t})}).then(function(){return t.forename(o).addTo("_admin",e),e.addTo("members",t).addTo("_admin",e),!0})}})},t.adminUser=function(e){var t,i;return e.some(function(e){if(e instanceof TTk.Role&&e.name()===r)return t=e,i=e.members()[0],!0}),i},t.adminRole=function(){var e={class:TTk.Role.CLASS,where:{name:"SysAdmin"}};return TTk.ComponentGroup.GLOBAL.execAction("model-query",e).then(function(e){return e.result[0]})},t.pruneMembers=function(e){i(e.prop("_read")),i(e.prop("_write")),i(e.prop("_admin"))};var i=function(e){var t=Array.isArray(e),r=t?TTk.Array.create(e.length):Object.keys(e);t&&r.reverse(),r.forEach(function(r){e[r].canRead&&!e[r].canRead()&&(t?e.splice(r,1):delete e[r]),e[r]instanceof TTk.Role&&i(e[r].members())})},r="SysAdmin",n="Global system administrator",o="admin";return t}(),TTk.PermissionException=function(){var e=function(e){this.name="TTk.PermissionException",this.message=e,this.stack=(new Error).stack};return e.prototype=Object.create(TTk.Exception.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),e.from=function(e){return Array.isArray(e)?e[0]:e},e}();
},{"./array.js":73,"./model.js":88,"./object.js":90,"./ttk.js":103}],85:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/polyfill-promise.js"),_dereq_("../core/model.js"),TTk.QueryModel=function(){var t=function(t){TTk.Model.call(this,t),this.initQueryModel=function(e){this.initModel(!0,e);t(this)},this.issueQuery=function(){var r=t(this);return r.query?TTk.ComponentGroup.GLOBAL.execAction("model-query",r.query).then(e.bind(this)):Promise.resolve()},this.data=function(){var e=t(this);return e.data};var e=function(e){var r=t(this);r.data=e.result,r.populate&&r.populate.call(this)};this.persist=function(){var e=t(this);return e.persist}};return t}();
},{"../core/model.js":88,"../core/polyfill-promise.js":92,"../core/ttk.js":103}],86:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./object.js"),_dereq_("./model-auth.js"),_dereq_("./model-query.js"),TTk.Role=function(){var e=TTk.Object.privateStore(),r=function(r,c){this.initModel(r,c,!0);e(this);this.onEvent("model-changed",t.bind(this)),t.call(this)};r.CLASS="TTk.Role-1",r.PROPS={name:{t:"string",l:"Name",e:"The unique name for this role."},description:{t:"string",l:"Description",e:"A description of this role"},members:{t:"array",d:[],l:"Members",e:"All users or sub-roles that are members of this role."},exclude:{t:"array",l:"Exclude",e:"Any users or roles that are specifically excluded from this role."}},r.ALIASES={"TTk.Role":function(e){return e},"TTk.TO.Role":function(e){return e}},TTk.AuthModel.call(r.prototype,e);var t=function(){var r=e(this);r.cache={}},c=function(){var r=e(this);r.cache.members||(r.cache.members={},r.cache.exclude={},r.cache.subRoles=[],this.members().forEach(function(e){e instanceof TTk.Role&&r.cache.subRoles.push(e),r.cache.members[e.id()]=!0}),this.exclude()&&this.exclude().forEach(function(e){r.cache.exclude[e.id()]=!0}))};return r.prototype.hasMember=function(r,t){var o=e(this);return t=t||{},!(this.id()in t)&&(c.call(this),!o.cache.exclude[r.id()]&&(!!o.cache.members[r.id()]||(t[this.id()]=!0,o.cache.subRoles.some(function(e){return e.hasMember(r,t)}))))},r}(),TTk.RoleList=function(){var e=TTk.Object.privateStore(),r=function(r){this.initQueryModel(r);var c=e(this);c.populate=t,c.query={class:TTk.Role.CLASS},c.cache={}};r.CLASS="TTk.RoleList-1",TTk.QueryModel.call(r.prototype,e);var t=function(){var r=e(this);r.cache={}},c=function(){var r=e(this);r.cache.rolesByName||(r.cache.rolesByName={},r.data.forEach(function(e){r.cache.rolesByName[e.name()]=e}))};return r.prototype.fromName=function(r){var t=e(this);return c.call(this),t.cache.rolesByName[r]},r.prototype.hasRole=function(e,r){r=r||TTk.User.logged;var t=this.fromName(e);return!!t&&t.hasMember(r)},r}();
},{"./model-auth.js":84,"./model-query.js":85,"./object.js":90,"./ttk.js":103}],87:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./object.js"),_dereq_("./model-auth.js"),_dereq_("./model-role.js"),TTk.User=function(){var e=TTk.Object.privateStore(),r=function(e,r){this.initModel(e,r,!0)};return r.CLASS="TTk.User-1",r.PROPS={uid:{t:"string",l:"User ID",e:"The unique identifier for this user"},surname:{t:"string",l:"Surname",e:"The user's sirname"},forename:{t:"string",l:"Forename",e:"The user's forename"},email:{t:"string",l:"Email",e:"The user's email address"},organisation:{t:"string",l:"Organisation",e:"The organisation the user is a member of"}},r.ALIASES={"TTk.User":function(e){return e},"TTk.TO.User":function(e){return e}},TTk.AuthModel.call(r.prototype,e),r.logged=null,r}(),TTk.UserList=function(){var e=TTk.Object.privateStore(),r=["User","Organisation","Roles",""],t=["Name","Description","Memebrs",""],n={class:TTk.User.CLASS},o={class:TTk.Role.CLASS},s=function(r){this.initQueryModel(r);var t=e(this);t.cache={}};return s.CLASS="TTk.UserList-1",s.PROPS={table:{t:"object",l:"User Table",e:"",readOnly:!0}},TTk.QueryModel.call(s.prototype,e),s.prototype.issueQuery=function(){var r=e(this);return r.cache={},TTk.ComponentGroup.GLOBAL.execAction("model-query",o).then(function(e){return r.roles=e.result,TTk.ComponentGroup.GLOBAL.execAction("model-query",n)}).then(function(e){r.users=e.result})},s.prototype.userTable=function(){var t=e(this);if(t.userTable)return t.userTable;var n=new TTk.DataTable;return n.rowCount=function(){return t.users?t.users.length+1:1},n.colCount=function(){return r.length},n.valAt=function(e,r){if(!t.users||t.users.length<=e)return"";var n=t.users[e];return 0===r||3===r?n:1===r?n.organisation()||"":2===r?n:void 0},t.userTable=TTk.TableDataSource.fromTable(n,r),t.userTable},s.prototype.roleTable=function(){var r=e(this);if(r.roleTable)return r.roleTable;var n=new TTk.DataTable;return n.rowCount=function(){return r.roles?r.roles.length+1:1},n.colCount=function(){return t.length},n.valAt=function(e,t){if(!r.roles||r.roles.length<=e)return"";var n=r.roles[e];return n?0===t?n.name():1===t?n.description():n:""},r.roleTable=TTk.TableDataSource.fromTable(n,t),r.roleTable},s.prototype.userRoles=function(r){var t=e(this);if(!t.roles)return[];if(!t.cache.userRoles){var n={};t.roles.forEach(function(e){e.members().forEach(function(r){var t=r.id();n[t]=n[t]||[],n[t].push(e)})}),t.cache.userRoles=n}return t.cache.userRoles[r.id()]||[]},s.prototype.availableRoles=function(r){var t=(e(this),this.allRoles().filter(function(e){return e.canWrite()}));return r instanceof TTk.User?Object.values(TTk.Set.difference(t,this.userRoles(r),function(e){return e.id()})):t.filter(function(e){return e!==r&&!r.hasMember(e)})},s.prototype.allRoles=function(){var r=e(this);return r.roles},s.prototype.roleFromName=function(r){var t=e(this);return t.cache.rolesByName||(t.cache.rolesByName={},t.roles.forEach(function(e){t.cache.rolesByName[e.name()]=e})),t.cache.rolesByName[r]},s}();
},{"./model-auth.js":84,"./model-role.js":86,"./object.js":90,"./ttk.js":103}],88:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./object.js"),_dereq_("./type.js"),_dereq_("./event.js"),_dereq_("./array.js"),_dereq_("./component.js"),_dereq_("./polyfill-promise.js"),TTk.Model=function(){var e={},r={},t=0,o={_realTime:{type:TTk.Type.BOOLEAN},_rootModel:{type:TTk.Type.BOOLEAN}},n=function(i){TTk.EventGenerator.call(this,i);var a=this.constructor;if(e[a.CLASS]=a,a.ALIASES)for(var p in a.ALIASES)r[p]=a;this.initModel=function(e,r,o){var n=i(this);n.persist=!e,n.id="m"+t++,h.call(this),r&&(n.props._realTime=!0),o&&(n.props._rootModel=!0),d.call(this),v.call(this,n),n.persist&&l.call(this)};var l=function(){var e=i(this);TTk.ComponentGroup.GLOBAL.add(this),e.ttkEvents.fire("model-created",{model:this})};this.destroy=function(e){e=e||0;var r=i(this);e?f(this,function(e){e.destroy()},e,{},!0):(r.ttkEvents.fire("model-deleted",{model:this}),TTk.ComponentGroup.GLOBAL.remove(this),r.destroy&&r.destroy.call(this))};var f=function(e,r,t,o,i){if(0===t)return e;if(n.isModel(e)){if(o[e.id()])return;o[e.id()]=!0,i||r(e);for(var s in e.constructor.PROPS)e.isSet(s)&&f(e.prop(s),t-1,o,i);return void(i&&r(e))}var a=typeof e;if("object"===a&&null!==e)for(var p=Array.isArray(e)?TTk.Array.create(e.length):Object.keys(e),l=0;l<p.length;l++)f(e[p[l]],r,t-1,o,i)};this.clone=function(e){return arguments.length||(e=-1),isFinite(e)||(e=-1),c(this,e,{})};var c=function(e,r,t){if(0===r)return e;if(n.isModel(e)){if(t[e.id()])return t[e.id()];var o=new e.constructor(!e.persist(),e.realTime());t[e.id()]=o;for(var i in e.constructor.PROPS)if(e.isSet(i)){var s=o.prop(i);s&&s.destroy&&s.destroy(),o.prop(i,c(e.prop(i),r-1,t))}return o}var a=typeof e;if("object"===a&&null!==e){if(Array.isArray(e))return e.map(function(e){return c(e,r-1,t)});var p={};for(var i in e)p[i]=c(e[i],r-1,t);return p}return e};this.id=function(){var e=i(this);return e.id},this.debugLabel=function(){return a.CLASS+"("+this.id()+")"},this.persist=function(e){var r=i(this);return arguments.length?(e!=r.persist&&(r.persist=!!e,e?l.call(this):this.destroy()),this):r.persist},this.realTime=function(e){var r=i(this);return arguments.length?(e!=r.props._realTime&&(r.props._realTime=!!e,y.call(this)),this):r.props._realTime},this.rootModel=function(e){i(this);return arguments.length?(this.prop("_rootModel",!!e),this):this.prop("_rootModel")},this.isntValid=function(e,r,t){var n=i(this);if(1!==arguments.length){if(!(e in a.PROPS||e in o))return"Model property with the key '"+e+"' does not exist.";var s=a.PROPS[e]||o[e];if(s.type&&!s.type.check(r))return"Model property '"+e+"' should be of type "+s.type.name+". Value set was '"+r+"'";if(t&&n.props[e]===r)return"Model property '"+e+"' is already set to value '"+r+"'";if(s.v){var p=s.v(r);if(p)return p}}else for(var l in e){var f=this.isntValid(l,e[l]);if(f)return f}},this.toJsonObj=function(e){e=e||TTk.noop;for(var r=i(this),t={_class:this.constructor.CLASS},n=Object.keys(o).concat(Object.keys(this.constructor.PROPS)),s=n.length;s--;)n[s]in r.props&&(t[n[s]]=k(r.props[n[s]]));return T(t,e),t},a.fromJsonObj=function(e,r,t,n,s){var p=(!s||!s.volatile)&&!!r;r=r||TTk.noop;var l=new a(!0);n&&n(l);var f=function(){var r=i(l);r.persist=p;for(var t=Object.keys(o).concat(Object.keys(a.PROPS)),n=t.length;n--;)t[n]in e&&(r.props[t[n]]=e[t[n]]);return r.persist&&TTk.ComponentGroup.GLOBAL.add(l),"function"==typeof r.revived&&r.revived.call(l),l},c=m(e,r,t);return c instanceof Promise?c.then(f,f):f()},this.refresh=function(){var e=this,r=i(this);return r.refreshCount=r.refreshCount||0,r.refreshCount++,r.refreshPromise=r.refreshPromise||new Promise(function(t){r.refreshDone=function(){r.refreshCount--,r.refreshCount<=0&&(r.refreshDone=null,r.refresPromise=null,r.refreshCount=0,t())},r.ttkEvents.fire("model-refresh",{model:e})}),r.refreshPromise},this.refreshFromJsonObj=function(e,r,t){var n=this,s=i(this);r=r||TTk.noop;var p=function(){for(var r=Object.keys(o).concat(Object.keys(a.PROPS)),t=r.length;t--;)r[t]in e&&(s.props[r[t]]=e[r[t]]);return"function"==typeof s.revived&&s.revived.call(n,!0),s.refreshDone&&s.refreshDone(),this},l=m(e,r,t);return l instanceof Promise?l.then(p,p):p()},this.isSet=function(e){var r=i(this);return e in r.props},this.prop=function(e,r,t){var n=i(this);if(!arguments.length)return n.props;var s=a.PROPS[e]||o[e];if(!s)throw new TTk.Exception("Property '"+e+"'' does not exist in the model.");if(s.access&&(!t||!t.base))return s.access.apply(this,arguments);if(1===arguments.length||s.readOnly||t&&t.get)return n.props[e];if(!t||!t.noCheck){var p;if(p=this.isntValid(e,r))throw new TTk.Exception(p)}var l=t&&t.emit;return t&&t.silent?n.props[e]=r:TTk.Object.equals(n.props[e],r)||(l=!0,n.props[e]=r),l&&n.ttkEvents.fire("model-changed",{model:this,key:e}),this},this.addTo=function(e,r){var t=i(this),o=t.props[e]?t.props[e].length||0:0;return this.setAt(e,o,r)},this.setAt=function(e,r,t){var n=a.PROPS[e]||o[e];if(!n)throw new TTk.Exception("Model does not store property '"+e);var s=i(this);return"object"==typeof s.props[e]&&null!==s.props[e]||(s.props[e]=n.type.typeOf("array")?[]:{}),s.props[e][r]=t,s.ttkEvents.fire("model-changed",{model:this,key:e,subKey:r}),this},this.removeFrom=function(e,r){var t=a.PROPS[e]||o[e];if(!t)throw new TTk.Exception("Model does not store property '"+e);var n=i(this),s=n.props[e];if(!s&&!s.length)return this;var p=s.indexOf(r);return p===-1?this:this.removeAt(e,p)},this.removeAt=function(e,r){var t=a.PROPS[e]||o[e];if(!t)throw new TTk.Exception("Model does not store property '"+e);var n=i(this);return"object"!=typeof n.props[e]||null===n.props[e]?this:(Array.isArray(n.props[e])?n.props[e].splice(r,1):delete n.props[e][r],n.ttkEvents.fire("model-changed",{model:this,key:e,subKey:r}),this)},s(a,i);var u;for(var p in a.PROPS)u=a.PROPS[p],u.type||(u.type=TTk.Type.from(u.t));var h=function(){var e=i(this);e.props={};var r;for(var t in a.PROPS)r=a.PROPS[t],"d"in r&&(n.isModel(r.d)?(e.props[t]=r.d.clone(),e.props[t].persist(this.persist())):e.props[t]=TTk.Object.clone(r.d))},d=function(){var e=i(this);e.ttkEvents=e.ttkEvents||new TTk.Events,e.ttkEvents.register("model-doread",{model:"object"}),e.ttkEvents.register("model-created",{model:"object"}),e.ttkEvents.register("model-deleted",{model:"object"}),e.ttkEvents.register("model-refresh",{model:"object"}),e.ttkEvents.register("model-changed",{model:"object",key:"string",subKey:"polymorphic"},{subKey:"optional"})},v=function(){i(this);y.call(this)},y=function(){var e=this,r=i(this);if(r.props._realTime){if(r.realTimeHandle)return;r.realTimeHandle=TTk.ComponentGroup.GLOBAL.onEvent("model-stale",function(t){r.ttkEvents.fire("model-doread",{model:e})})}else{if(!r.realTimeHandle)return;TTk.ComponentGroup.GLOBAL.detachEvent("model-stale",r.realTimeHandle)}},m=function(e,r,t){if(e){var o=typeof e;if("object"===o&&null!==e){var n=Array.isArray(e),i=[],s=n?TTk.Array.create(e.length):Object.keys(e);return n&&s.reverse(),s.forEach(function(o){var s;t&&t(e[o])?(s=r(e[o],o),s?s instanceof Promise?i.push(s.then(function(r){e[o]=r},function(r){TTk.warn("Failed to load model from reference "+JSON.stringify(e[o])+"\n",r),n?e.splice(o,1):delete e[o]})):e[o]=s:(TTk.warn("Failed to get model from reference "+JSON.stringify(e[o])),n?e.splice(o,1):delete e[o])):(s=m(e[o],r,t),s&&i.push(s))}),i.length?Promise.all(i):void 0}}},T=function(e,r){if(e){var t=typeof e;if(n.isModel(e)){var o=r(e);return o||TTk.warn("Not attaching sub-model "+e.constructor.CLASS,e.prop()," (id: "+e.id()+" persist: "+e.persist()+")  because no reference could be generated."),o}if(Array.isArray(e))for(var i=e.length;i--;){var o=T(e[i],r);n.isModel(e[i])&&(o?e[i]=o:e.splice(i,1))}else if("object"===t)for(var s in e){var o=T(e[s],r);n.isModel(e[s])&&(o?e[s]=o:delete e[s])}}},k=function(e){if(n.isModel(e))return e;if("object"==typeof e&&null!==e){if(Array.isArray(e))return e.map(function(e){return k(e)});var r={};for(var t in e)r[t]=k(e[t]);return r}return e}};n.isModel=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.initModel},n.fromJsonObj=function(t,o,n,i,s){var a=e[t._class];if(!a){if(a=r[t._class],!a)throw new TTk.Exception("Cannot revive object from JSON. Un-known class name '"+t._class+"'");t=a.ALIASES[t._class](t),t._class=a.CLASS}return a.fromJsonObj(t,o,n,i,s)},n.matchesQuery=function(e,r){if(!r)return!0;if(r.class&&e.constructor.CLASS!==r.class)return!1;if(r.where){if(Array.isArray(r.where)){for(var t=0;t<r.where.length;t++)if(i(e,r.where[t]))return!0;return!1}return i(e,r.where)}return!0};var i=function(e,r){for(var t in r)if(!TTk.Object.equals(e.prop(t),r[t]))return!1;return!0},s=function(e,r){e.PROPS&&Object.keys(e.PROPS).forEach(function(r){e.prototype[r]=function(t,o){return arguments.length?e.prototype.prop.call(this,r,t,o):e.prototype.prop.call(this,r)}})};return n.passThough=function(e,r){return function(t,o,n){var i=this.prop(e);return i?(r&&(arguments[0]=r),i.prop.apply(i,arguments)):(n=n||{},n.base=!0,n.get=arguments.length<=1,this.prop(t,o,n))}},n}(),TTk.PropDef=function(){var e=function(e,r,t,o,n){this.t=e,this.d=r,this.v=t,this.l=o,this.e=n,this.readOnly=!1};return e}();
},{"./array.js":73,"./component.js":74,"./event.js":78,"./object.js":90,"./polyfill-promise.js":92,"./ttk.js":103,"./type.js":104}],89:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./utils.js"),_dereq_("./string.js"),_dereq_("./type.js"),_dereq_("./exception.js"),TTk.Number=function(){var e,r,n,t,T,D,i,R,s,u,S,N,P,a="[\\$€£¥]",p="(AED|AFN|ALL|AMD|ANG|AOA|ARS|AUD|AWG|AZN|BAM|BBD|BDT|BGN|BHD|BIF|BMD|BND|BOB|BRL|BSD|BTN|BWP|BYR|BZD|CAD|CDF|CHF|CLP|CNY|COP|CRC|CUC|CUP|CVE|CZK|DJF|DKK|DOP|DZD|EGP|ERN|ETB|EUR|FJD|FKP|GBP|GEL|GGP|GHS|GIP|GMD|GNF|GTQ|GYD|HKD|HNL|HRK|HTG|HUF|IDR|ILS|IMP|INR|IQD|IRR|ISK|JEP|JMD|JOD|JPY|KES|KGS|KHR|KMF|KPW|KRW|KWD|KYD|KZT|LAK|LBP|LKR|LRD|LSL|LTL|LVL|LYD|MAD|MDL|MGA|MKD|MMK|MNT|MOP|MRO|MUR|MVR|MWK|MXN|MYR|MZN|NAD|NGN|NIO|NOK|NPR|NZD|OMR|PAB|PEN|PGK|PHP|PKR|PLN|PYG|QAR|RON|RSD|RUB|RWF|SAR|SBD|SCR|SDG|SEK|SGD|SHP|SLL|SOS|SPL|SRD|STD|SVC|SYP|SZL|THB|TJS|TMT|TND|TOP|TRY|TTD|TVD|TWD|TZS|UAH|UGX|USD|UYU|UZS|VEF|VND|VUV|WST|XAF|XCD|XDR|XOF|XPF|YER|ZAR|ZMW|ZWD)",M="[%]",g="e[\\+\\-]?\\d+",o="\\d+",K="(\\d+|(\\d+?(,\\d{3})*))(\\.\\d+("+g+")?)?",L="(\\d+|(\\d+?(\\.\\d{3})*))(,\\d+("+g+")?)?",B=K,A=function(){e="(\\-?)("+a+")("+B+")",r=p+"\\s*(\\-?"+B+")",n="(\\-?"+B+")\\s*"+p,t=e+"|"+r+"|"+n,T="(\\-?"+B+")\\s*("+M+"?)",D=T+"|"+t,i=new RegExp(a),R=new RegExp("^"+e+"$","ig"),s=new RegExp("^"+r+"$","ig"),u=new RegExp("^"+n+"$","ig"),S=new RegExp("^"+T+"$","ig"),N=new RegExp("^("+D+")$","ig"),P=new RegExp("^("+o+")$","g")};A();var G=new RegExp("(^[^0-9\\-]+|,)","g"),E=function(e,r){this.value=e,this.unit=r};return E.setModeUS=function(e){var r=e?L:K;r!==B&&(B=r,A())},E.format=function(e,r,n){var t=d3.formatPrefix(e);return r&&(t.symbol=t.symbol.toUpperCase()),t.scale(e)+(t.symbol?(n?" ":"")+t.symbol:"")},E.prototype.getUnit=function(){return TTk.Unit.getUnit(this.unit)},E.isNumber=function(e){return TTk.String.matches(e,N)},E.isPosInt=function(e){return TTk.String.matches(e,P)},E.parse=function(e){var r,n,t;if(r=TTk.String.parse(e,S))n=r[1],t=r[7];else if(r=TTk.String.parse(e,R))n=r[1]+r[3],t=r[2];else if(r=TTk.String.parse(e,s))n=r[2],t=r[1];else{if(!(r=TTk.String.parse(e,u)))return new TTk.Number(NaN);n=r[1],t=r[7]}return n=parseFloat(B===L?n.replace(/\./g,"").replace(/,/,"."):n.replace(/,/g,"")),new TTk.Number(n,t)},E.parseInt=function(e,r){return r=r||10,parseInt(e,r)},E.parseFloat=function(e){return parseFloat(e.replace(G,""))},E}(),TTk.Type.NUMERIC=new TTk.Type("numeric",TTk.Type.POLY,TTk.Number.isNumber);
},{"./exception.js":79,"./string.js":98,"./ttk.js":103,"./type.js":104,"./utils.js":106}],90:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js"),WeakMap=_dereq_("weak-map");TTk.Object=function(){var r={};return r.privateStore=function(){var r=new WeakMap;return function(n){var t=r.get(n);return t||r.set(n,t={}),t}},r.attachAccessors=function(r,n,t){t.forEach(function(t){r.prototype[t]=function(r){var e=n(this);return arguments.length?(e[t]=r,this):e[t]}})},r.attachStatic=function(r,n){n.forEach(function(n){r.constructor[n]=r.constructor.prototype[n].bind(r)})},r.isEmpty=function(r){if("object"!=typeof r)return!1;for(var n in r)if(r.hasOwnProperty(n))return!1;return!0},r.clone=function(n){return r.map(n,function(r){return r})},r.map=function(n,t,e){if("object"==typeof n){if(Array.isArray(n))return n.map(function(n){return r.map(n,t,e)});var i,o=e?"function"==typeof e?e:t:null,a={};if(o)for(i in n)a[o(i)]=r.map(n[i],t,e);else for(i in n)a[i]=r.map(n[i],t);return a}return t(n)},r.size=function(r){var n=0;for(var t in r)r.hasOwnProperty(t)&&n++;return n},r.toArray=function(r,n){if(arguments.length>1)return r.length=n+1,Array.prototype.slice.apply(r);var t=[];for(var e in r)if(r.hasOwnProperty(e)){var i=e;"number"!=typeof i&&(i=parseInt(i,10)),isFinite(i)&&(t[i]=r[e])}return t},r.toString=function(n,t,e){void 0===t&&(t=2);var i=typeof n;if("object"===i&&0!==t){if(Array.isArray(n)){for(var o="",a=0;a<n.length;a++)o+=(0===a?"":"\n")+r.toString(n[a],t-1);return"Array[\n"+TTk.String.indent(o)+"\n]"}var u=!0,o="";for(var f in n)(n.hasOwnProperty(f)||e)&&(o+=(u?"":"\n")+f+" => "+r.toString(n[f],t-1)),u&&(u=!1);return i+"(\n"+TTk.String.indent(o)+"\n)"}return i+"("+n+")"},r.equals=function(n,t){var e,i=typeof n;if(i!==typeof t)return!1;if("object"===i){if(null===n||null===t)return n===t;if(Array.isArray(n)){if(!Array.isArray(t))return!1;var o=n.length;if(o!==t.length)return!1;for(var a=0;a<o;a++)if(!r.equals(n[a],t[a]))return!1;return!0}var u,f={};for(u in n)if(n.hasOwnProperty(u)){if(!t.hasOwnProperty(u))return!1;f[u]=!0}for(u in t)if(!(u in f))return!1;for(u in f)if(!r.equals(n[u],t[u]))return!1;return!0}return e="number"===i&&isNaN(n)?isNaN(t):"function"===i?n.toString()===t.toString():n===t},r.keys=Object.keys,r.values=Object.values,r}();
},{"./ttk.js":103,"weak-map":71}],91:[function(_dereq_,module,exports){
"use strict";_dereq_("../../node_modules/min-history/dist/min-history.min.js");
},{"../../node_modules/min-history/dist/min-history.min.js":62}],92:[function(_dereq_,module,exports){
"use strict";_dereq_("es6-promise").polyfill(),_dereq_("es6-map/implement");var TTk=_dereq_("./ttk.js");TTk.Promise=function(){var e=function(){};return e.onceEvent=function(e,n){return n=n||TTk.ComponentGroup.GLOBAL,new Promise(function(r){n.onceEvent(e,r)})},e}();
},{"./ttk.js":103,"es6-map/implement":6,"es6-promise":61}],93:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");TTk.Polyfill=TTk.Polyfill||{},TTk.Polyfill.Object=TTk.Polyfill.Object||{},TTk.Polyfill.Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var i,l,a=[];for(i in o)t.call(o,i)&&a.push(i);if(e)for(l=0;l<n;l++)t.call(o,r[l])&&a.push(r[l]);return a}}(),Object.keys||(Object.keys=TTk.Polyfill.Object.keys),TTk.Polyfill.Object.values=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.values called on non-object");var i,l,a=[];for(i in o)t.call(o,i)&&a.push(o[i]);if(e)for(l=0;l<n;l++)t.call(o,r[l])&&a.push(o[r[l]]);return a}}(),Object.values||(Object.values=TTk.Polyfill.Object.values),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(void 0!==n&&null!==n){n=Object(n);for(var o=Object.keys(n),i=0,l=o.length;i<l;i++){var a=o[i],s=Object.getOwnPropertyDescriptor(n,a);void 0!==s&&s.enumerable&&(e[a]=n[a])}}}return e}}),TTk.Polyfill.Array={},TTk.Polyfill.Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},Array.isArray||(Array.isArray=TTk.Polyfill.Array.isArray),TTk.Polyfill.Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},r=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},n=Math.pow(2,53)-1,o=function(t){var e=r(t);return Math.min(Math.max(e,0),n)};return function(t){var r=this,n=Object(t);if(!t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,l=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof l){if(!e(l))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var a,s=o(n.length),c=e(r)?Object(new r(s)):new Array(s),u=0;u<s;)a=n[u],l?c[u]="undefined"==typeof i?l(a,u):l.call(i,a,u):c[u]=a,u+=1;return c.length=s,c}}(),Array.from||(Array.from=TTk.Polyfill.Array.from),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),r=this,n=function(){},o=function(){return r.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),o.prototype=new n,o}),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),Date.now||(Date.now=function(){return(new Date).getTime()}),Math.log10||(Math.log10=function(t){return Math.log(t)/Math.LN10});var IS_SERVER=function(){try{return!window}catch(t){return!0}}();IS_SERVER||(TTk.Polyfill.Element={},TTk.Polyfill.Element.remove=function(){this.parentNode&&this.parentNode.removeChild(this)},"remove"in Element.prototype||(Element.prototype.remove=TTk.Polyfill.Element.remove)),IS_SERVER||"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function t(t){return function(r){var n=e.className.split(/\s+/),o=n.indexOf(r);t(n,o,r),e.className=n.join(" ")}}var e=this,r={add:t(function(t,e,r){~e||t.push(r)}),remove:t(function(t,e){~e&&t.splice(e,1)}),toggle:t(function(t,e,r){~e?t.splice(e,1):t.push(r)}),contains:function(t){return!!~e.className.split(/\s+/).indexOf(t)},item:function(t){return e.className.split(/\s+/)[t]||null}};return Object.defineProperty(r,"length",{get:function(){return e.className.split(/\s+/).length}}),r}});var fixSVG=function(){if(!IS_SERVER&&window.SVGElement){var t=function(e,r){var n=e.nodeType;if(3==n)r.push(e.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"));else if(1==n){if(r.push("<",e.tagName),e.hasAttributes())for(var o=e.attributes,i=0,l=o.length;i<l;++i){var a=o.item(i);r.push(" ",a.name,"='",a.value,"'")}if(e.hasChildNodes()){r.push(">");for(var s=e.childNodes,i=0,l=s.length;i<l;++i)t(s.item(i),r);r.push("</",e.tagName,">")}else r.push("/>")}else{if(8!=n)throw"Error serializing XML. Unhandled node of type: "+n;r.push("<!--",e.nodeValue,"-->")}};try{Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){for(var e=[],r=this.firstChild;r;)t(r,e),r=r.nextSibling;return e.join("")},set:function(t){for(;this.firstChild;)this.removeChild(this.firstChild);try{var e=new DOMParser;e.async=!1;for(var r="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+t+"</svg>",n=e.parseFromString(r,"text/xml").documentElement,o=n.firstChild;o;)this.appendChild(this.ownerDocument.importNode(o,!0)),o=o.nextSibling}catch(t){throw new Error("Error parsing XML string")}},enumerable:!1,configurable:!0}),Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t},enumerable:!1,configurable:!0})}catch(t){TTk.info("SVG innerHTML polyfill threw exception: "+t)}}}();
},{"./ttk.js":103}],94:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js"),seedrandom=_dereq_("seedrandom");TTk.Random=function(){var n,r=0,t=1,e=1,o=Math.random,i=function(){return o()};i.normal=function(n,e,i,a){var u,d=arguments.length;n=d<1?r:n,e=d<2?t:e;do{var l,v,c;do l=2*o()-1,v=2*o()-1,c=l*l+v*v;while(!c||c>1);u=n+e*l*Math.sqrt(-2*Math.log(c)/c)}while(void 0!==i&&u<i||void 0!==a&&u>a);return u},i.logNormal=function(n,r,t,e){var o;do o=Math.exp(i.normal(n,r));while(void 0!==t&&o<t||void 0!==e&&o>e);return o},i.bates=function(n){n=n||e;var r=i.irwinHall(n);return r/n},i.irwinHall=function(n){n=n||e;for(var r=0,t=0;t<n;t++)r+=o();return r};var a=function(){o=null===n||void 0===n?Math.random:new seedrandom(n)};return i.seed=function(r){return arguments.length?(n=r,a(),i):n},i.mean=function(n){return arguments.length?(r=n,i):r},i.deviation=function(n){return arguments.length?(t=n,i):t},i.count=function(n){return arguments.length?(e=n,i):e},i};
},{"./ttk.js":103,"seedrandom":63}],95:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./object.js"),_dereq_("./component.js"),_dereq_("./polyfill-history.js"),TTk.Router=function(){var t=TTk.Object.privateStore(),e=function(){var e=t(this);this.initComponent(),e.route=i(),n.call(this),r.call(this),o.call(this)};TTk.Component.call(e.prototype,t);var n=function(){var e=t(this);e.ttkEvents=new TTk.Events,e.ttkEvents.register("route-changed",{route:"string",routePrev:"string"})},r=function(){var e=this,n=t(this);n.ttkActions=new TTk.Actions,n.ttkActions.register("change-route",function(t){e.route(t.route)},null,{route:"string"})},o=function(){t(this);window.addEventListener("hashchange",this.fire.bind(this))},i=function(){var t=window.location.hash;return t?t.substring(1):""},c=function(t){var e=window.location.pathname+window.location.search+"#"+t;window.location.href=e};return e.prototype.route=function(e){var n=t(this);return arguments.length?void(e!==n.route&&c(e)):n.route},e.prototype.fire=function(){var e=t(this),n=e.route;e.route=i(),e.ttkEvents.fire("route-changed",{route:e.route,routePrev:n})},TTk.Object.attachStatic(new e,["route","fire","onEvent","onceEvent","detachEvent","eventsAvailable","execAction","cantExec","actionsAvailable"]),e}();
},{"./component.js":74,"./object.js":90,"./polyfill-history.js":91,"./ttk.js":103}],96:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");TTk.Set=function(){var r={};return r.intersection=function(n,t,f){n=r.from(n,f),t=r.from(t,f);var e={};for(var o in n)o in t&&(e[o]=n);return e},r.union=function(n,t,f){return n=r.from(n,f),t=r.from(t,f),Object.assign({},n,t)},r.difference=function(n,t,f){n=r.from(n,f),t=r.from(t,f);var e={};for(var o in n)o in t||(e[o]=n[o]);return e},r.from=function(n,t,f){var e=arguments.length>=3;if("object"!=typeof n){var o=t?t(n):n,i={};return i[o]=e?f:n,i}return Array.isArray(n)?e?r.fromArray(n,t,f):r.fromArray(n,t):e?r.fromObject(n,t,f):r.fromObject(n,t)},r.fromArray=function(r,n,t){var f=arguments.length>=3,e={},o=r.length;if(n)for(;o--;)e[n(r[o])]=f?t:r[o];else for(;o--;)e[r[o]]=f?t:r[o];return e},r.fromObject=function(r,n,t){var f=arguments.length>=3;if(n){var e={};for(var o in r)e[n(r[o])]=f?t:r[o];return e}if(f){var e={};for(var o in r)e[o]=t;return e}return r},r}();
},{"./ttk.js":103}],97:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");TTk.Stream=function(){var n=[],r=function(r){return n.forEach(function(n){r=n(r)}),r};return r.append=function(t){return n.push(t),r},r.prepend=function(t){return n.unshift(t),r},r.ops=function(t){return arguments.length?(n=t,r):n},r};
},{"./ttk.js":103}],98:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./utils.js"),TTk.String=function(){var t={};t.compare=TTk.Utils.compare,t.indent=function(t){return"\t"+t.replace(/\n/g,"\n\t")},t.toLength=function(t,r,n,e){for(e=e||" ",t=n?t.substring(Math.max(0,t.length-r),t.length):t.substring(0,r);t.length<r;)t=n?e+t:t+e;return t},t.wrap=function(t,r,n){n=n||" ";for(var e,a=t.split(n),i=[],u=0;a.length;){for(e=a.shift(),u=e.length+(a.length?a[0].length+1:0);u<=r&&a.length;)e+=n+a.shift(),u+=a.length?a[0].length+1:0;i.push(e)}return i},t.titleCase=function(t){if(!t)return"";t=""+t;var r=function(t){return t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()};return t.split(" ").map(r).join(" ")},t.dashToCamlCase=function(t){var r=/\-?(\w+)+/g,n=r.exec(t);n.shift();for(var e=n.shift();n=r.exec(t);){var a=n[1];e+=a.charAt(0).toUpperCase()+a.substr(1)}return e},t.toIdentifier=function(t){return t.replace(/\W/g,"_")},t.matches=function(t,r){var n=r.test(t);return r.lastIndex=0,n},t.matchDist=function(t,r){var n=t.length,e=r.length;if(0===n)return e;if(0===e)return n;var a,i,u=[];for(a=n;a>=0;a--)u[a]=[];for(a=n;a>=0;a--)u[a][0]=a;for(i=e;i>=0;i--)u[0][i]=i;var s,h,o;for(a=1;a<=n;a++)for(s=t.charAt(a-1),i=1;i<=e;i++){if(a==i&&u[a][i]>4)return n;h=r.charAt(i-1),o=s==h?0:1,u[a][i]=Math.min(u[a-1][i]+1,u[a][i-1]+1,u[a-1][i-1]+o),a>1&&i>1&&s==r.charAt(i-2)&&t.charAt(a-2)==h&&(u[a][i]=Math.min(u[a][i],u[a-2][i-2]+o))}return u[n][e]},t.parse=function(t,r){var n=r.exec(t);return r.lastIndex=0,n},t.parseURL=function(t){var n;if(n=TTk.String.parse(t,r)){var e={url:t,protocol:n[2],host:n[3],port:n[5],path:n[6],query:n[8],hash:n[10]};return e}};var r=new RegExp("^(([^:/?#]+)://)([^:/?#]+)(:([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$","g");t.random=function(t,r){t=Math.abs(t||24),r=r||n;for(var e="";t--;)e+=r.charAt(~~(Math.random()*r.length));return e};var n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";return t.brief=function(t,r,n){return t=""+t,n=n||"..",r&&t.length>r&&(t=r>n.length?t.substring(0,r-n.length).trim()+n:t.substring(0,r).trim()),t},t}();
},{"./ttk.js":103,"./utils.js":106}],99:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./utils.js"),_dereq_("./set.js"),TTk.StyleSheet=function(){if(!TTk.Env.server){var e,t,r={},n=function(){if(e)return e;var r=document.createElement("style");r.appendChild(document.createTextNode("")),document.head.appendChild(r),e=r.sheet,t=e.cssRules?e.cssRules:e.rules},i=function(){},s=function(e){var t="";for(var r in e)t+=r+":"+e[r]+";";return t},u=function(t,r,i){if(n(),i=i||0,"insertRule"in e)e.insertRule(t+"{"+r+"}",i);else{if(!("addRule"in e))throw"Not supported";e.addRule(t,r,i)}},l=function(e){if(n(),"number"==typeof e)return t[e];for(var r=0;r<t.length;r++)if(t[r].selectorText===e)return t[r]};return i.set=function(e,t){if(arguments.length>2)for(var r=1;r<arguments.length;r++)i.set(e,arguments[r]);else{if(Array.isArray(t))return void t.forEach(function(t){i.set(e,t)});var n=l(e);if(n)for(var f in t)n.style[f]=t[f];else u(e,s(t));i.clearCache()}},i.get=function(e){var t=!1;if("string"==typeof e){if(e in r)return e[r];t=!0,e=[e]}var n={};e=TTk.Set.from(e,null,{});var i={};for(var s in e)s in r?n=Object.assign(n,r[s]):i[s]=!0;if(TTk.Object.isEmpty(i))return n;var u,l,f,o,s,a,c,h,d=window.document.styleSheets,v=d.length,T=function(e,t){for(var i,s=t.length,u=r[e]={},l=0;l<s;l++)i=t[l],u[i]=t[i],n[i]=t[i]};for(f=0;f<v;f++){try{u=d[f].rules||d[f].cssRules}catch(e){TTk.warn("System not support styleSheets rules and cssRules.")}if(u)for(l=u.length,o=0;o<l;o++)if(u[o].type===CSSRule.STYLE_RULE&&u[o].style)if(a=u[o].selectorText,a in i)T(a,u[o].style);else if(c=a.split(","),h=c.length,h>1)for(s=0;s<h;s++)c[s]in i&&T(c[s],n)}return n},i.clearCache=function(){r={}},i}}();
},{"./set.js":96,"./ttk.js":103,"./utils.js":106}],100:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./utils.js"),_dereq_("./string.js"),_dereq_("./type.js"),_dereq_("./object.js"),_dereq_("./time-interval.js"),TTk.TimeGranList=["none","century","decade","year","quarter","month","week","day","hour","minute","second","millisecond"],TTk.TimeGranularity=function(){var e=function(e){this.name=e,this.interval=TTk.Interval.parse(e)};e.prototype.toString=function(){return this.name};for(var r=TTk.TimeGranList.map(function(e){return e.toUpperCase()}),n=0;n<r.length;n++)e[r[n]]=new e(r[n].toLowerCase());return e.all=function(){return r.slice(1).map(function(e){return TTk.TimeGranularity[e]})},e.isValid=function(e){return"string"==typeof e&&r.indexOf(e.toUpperCase()!==-1)},e.parse=function(r){return r=r.toUpperCase(),"S"===r.charAt(r.length-1)&&(r=r.substring(0,r.length-1)),e[r.toUpperCase()]},e.compare=function(e,r){var n=e.interval.inMillis(),t=r.interval.inMillis();return n>t?1:t>n?-1:0},e.prototype.formatOffset=function(r,n){if(n.name in e.OFFSET_FORMATS&&this.name in e.OFFSET_FORMATS[n.name]){var t=e.OFFSET_FORMATS[n.name][this.name];return Array.isArray(t)?t[r%t.length]:TTk.String.toLength(""+(r+1),t,!0,"0")}return""+(r+1)},e.OFFSET_FORMATS={year:{quarter:["Q1","Q2","Q3","Q4"],month:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],week:2,day:3},month:{day:2},week:{day:["MON","TUE","WED","THU","FRI","SAT","SUN"]}},function(){var r={century:[],decade:[],year:["%y","%Y"],quarter:[],month:["%b","%B","%m"],week:["%U","%W"],day:["%A","%a","%d","%e","%j","%w"],hour:["%H","%I","%p","%Z"],minute:["%M"],second:["%S"],millisecond:["%L"]},n=[],t={},i={};for(var a in r){for(var o=e.parse(a),u=r[a],s=u.length,T=[];s--;){var c=u[s][0]+"0"+u[s][1],l=u[s][0]+"_"+u[s][1],m=u[s][0]+"-"+u[s][1];T=T.concat([u[s],c,l,m]),i[u[s]]=o,i[c]=o,i[l]=o,i[m]=o}t[a]=new RegExp("("+T.join("|")+")"),n=n.concat(T)}e.D3_FMT_TOKENS=r,e.D3_TOKEN_REGEX=t,e.D3_TOKEN_REGEX_ALL=new RegExp("("+n.join("|")+")"),e.D3_TOKEN_GRAN=i}(),e}();
},{"./object.js":90,"./string.js":98,"./time-interval.js":101,"./ttk.js":103,"./type.js":104,"./utils.js":106}],101:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./utils.js"),_dereq_("./type.js"),_dereq_("./object.js"),_dereq_("./exception.js"),TTk.Interval=function(){var e=function(i){var t,r=0,s=0,n=0,a=0,I=0,h=0,l=0;if(t=i.match(/^(none|zero)$/i));else if(t=i.match(/^([\-+]?\d+)?( ?centur(y|ies))$/i))r=100*Number(t[1]||1);else if(t=i.match(/^([\-+]?\d+)?( ?decades?)$/i))r=10*Number(t[1]||1);else if(t=i.match(/^([\-+]?\d+)?(Y| ?years?)$/i))r=Number(t[1]||1);else if(t=i.match(/^([\-+]?\d+)?(q| ?quarters?)$/i))s=3*Number(t[1]||1);else if(t=i.match(/^([\-+]?\d+)?(m| ?months?)$/i))s=Number(t[1]||1);else if(t=i.match(/^([\-+]?\d+)?(m| ?weeks?)$/i))n=Number(t[1]||1)*e.DAYS_WEEK;else if(t=i.match(/^([\-+]?\d+)?(d| ?days?)$/i))n=Number(t[1]||1);else if(t=i.match(/^([\-+]?\d+)?(h| ?hours?)$/i))a=Number(t[1]||1);else if(t=i.match(/^([\-+]?\d+)?( ?minutes?)$/i))I=Number(t[1]||1);else if(t=i.match(/^([\-+]?\d+)?(s| ?seconds?)$/i))h=Number(t[1]||1);else{if(!(t=i.match(/^([\-+]?\d+)?(ms| ?milliseconds?)$/i)))throw new TTk.Exception("unrecognized date format "+i);l=Number(t[1]||1)}this.interval=[r,s,n,a,I,h,l]};return e.DAYS_YEAR=365.25,e.DAYS_MONTH=30.5,e.DAYS_WEEK=7,e.MILLIS_SECOND=1e3,e.MILLIS_MINUTE=60*e.MILLIS_SECOND,e.MILLIS_HOUR=60*e.MILLIS_MINUTE,e.MILLIS_DAY=24*e.MILLIS_HOUR,e.MILLIS_WEEK=e.MILLIS_DAY*e.DAYS_WEEK,e.MILLIS_MONTH=e.MILLIS_DAY*e.DAYS_MONTH,e.MILLIS_YEAR=e.MILLIS_DAY*e.DAYS_YEAR,e.prototype.toString=function(){return 0!==this.interval[0]?this.interval[0]+" years":0!==this.interval[1]?this.interval[1]+" months":0!==this.interval[2]?this.interval[2]+" days":0!==this.interval[3]?this.interval[3]+" hours":0!==this.interval[4]?this.interval[4]+" minutes":0!==this.interval[5]?this.interval[4]+" seconds":this.interval[6]+" milliseconds"},e.prototype.inMillis=function(){return this.interval[0]*e.MILLIS_YEAR+this.interval[1]*e.MILLIS_MONTH+this.interval[2]*e.MILLIS_DAY+this.interval[3]*e.MILLIS_HOUR+this.interval[4]*e.MILLIS_MINUTE+this.interval[5]*e.MILLIS_SECOND+this.interval[6]},e.parse=function(i){var t;try{t=new e(i)}catch(e){}return t},e}();
},{"./exception.js":79,"./object.js":90,"./ttk.js":103,"./type.js":104,"./utils.js":106}],102:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./utils.js"),_dereq_("./string.js"),_dereq_("./type.js"),_dereq_("./number.js"),_dereq_("./object.js"),_dereq_("./exception.js"),TTk.Time=function(){var e="\\s*(\\:)\\s*",i="\\s*([\\:\\s\\.])\\s*",r=(new RegExp(e),new RegExp(i)),n="(\\d\\d?)",t="(\\d{2})",s="(\\d{3})",o="(am|pm)",T=n+"\\s*h",u=n+e+t,a=n+e+t+e+t,l=n+e+t+e+t+"\\."+s,c=n+"\\s*"+o,m=n+e+t+"\\s*"+o,h=n+e+t+e+t+"\\s*"+o,p=n+e+t+e+t+"\\."+s+"\\s*"+o,f="("+T+"|"+u+"|"+a+"|"+l+")",g="("+c+"|"+m+"|"+h+"|"+p+")",k=new RegExp("^"+o+"$","ig"),v=new RegExp("^"+f+"$","ig"),E=new RegExp("^"+g+"$","ig"),b=new RegExp("\\s+("+f+"|"+g+")$"),d=["millisecond","second","minute","hour"],w=[["hour",0,23],["minute",0,59],["second",0,59],["millisecond",0,999]],N=function(){var e,i=this,r="";if(w.forEach(function(n){e=i[n[0]],("number"==typeof e&&e<n[1]||e>n[2])&&(r+=r?"\n":"",r+=S(n[0],e,n[1],n[2]))}),r)throw new TTk.Exception(r)},S=function(e,i,r,n){return"The "+e+" value is out of range. Value is "+i+", expected "+r+" to "+n+"."},y=function(e,i,r,n,t){var s=this;if("string"==typeof e){var o=TTk.Time.parse(e);d.forEach(function(e){s[e]=o[e]}),s.gran=o.gran,s.is12h=o.is12h}else{if(s.hour=TTk.Time.to24Hour(e,t),s.minute=i,s.second=r,s.millisecond=n,s.is12h=!!t,N.call(s),s.is12h&&(e<1||e>12))throw new TTk.Exception(S("hour",e,1,12));d.some(function(e){if("number"==typeof s[e])return s.gran=TTk.TimeGranularity[e.toUpperCase()],!0})}};return y.prototype.inMillis=function(){var e,i=this,r=0;return d.forEach(function(n){"number"==typeof i[n]&&(e=i[n],r+=TTk.TimeGranularity[n.toUpperCase()].interval.inMillis()*e)}),r},y.prototype.isAM=function(){return this.hour<12},y.prototype.toString=function(){var e=this,i=TTk.TimeGranularity,r=e.is12h?e.isAM()?"am":"pm":"",n=""+(e.is12h?TTk.Time.to12Hour(e.hour):e.hour);if(e.is12h||(n=TTk.String.toLength(n,2,!0,"0")),e.gran===i.HOUR)return n+(r||"h");var t=e.gran.interval.inMillis();return t<=i.MINUTE.interval.inMillis()&&(n+=":"+TTk.String.toLength(""+e.minute,2,!0,"0")),t<=i.SECOND.interval.inMillis()&&(n+=":"+TTk.String.toLength(""+e.second,2,!0,"0")),t<=i.MILLISECOND.interval.inMillis()&&(n+="."+TTk.String.toLength(""+e.millisecond,3,!0,"0")),r&&(n+=" "+r),n},y.isTime=function(e){return TTk.Time.isTime24(e)||TTk.Time.isTime12(e)},y.isTime24=function(e){return TTk.String.matches(e,v)},y.isTime12=function(e){return TTk.String.matches(e,E)},y.indexOfTime=function(e){return e?e.search(b):-1},y.to24Hour=function(e,i){return i?(e%=12,"pm"===i.toLowerCase()&&(e+=12),e):e},y.to12Hour=function(e){return e%=12,0===e?12:e},y.inferFormat=function(e){var i="",n=e.split(r),t=n.length;if(0!==t){var s=n[t-1],o=s.length>2,T=o?s.substr(-2):s,u=TTk.String.matches(T,k);if(u)if(o)n[t-1]=s.substr(0,s.length-2);else if(t-=2,0===t)return;for(var a,l=0;l<t&&(a=n[l],0===l&&(a=a.replace(/h/i,"")),TTk.Number.isPosInt(a));l+=2)switch(l>0&&(i+=n[l-1]),l){case 0:i+="HH";break;case 2:i+="mm";break;case 4:i+="SS";break;case 6:i+="sss"}return u&&(i+=" AP"),i}},y.parse=function(e,i){var n=TTk.TimeGranularity;e=e.trim(),i||(i=TTk.Time.inferFormat(e));var t=i.split(r),s=e.split(r);if("AP"===t[t.length-1]&&t.length>s.length){var o=s[s.length-1];s[s.length-1]=o.substr(0,o.length-2),s.push(""),s.push(o.substr(-2))}if(1===t.length&&3===s.length&&(s.pop(),s.pop()),t.length!==s.length)throw new TTk.Exception("Time given ("+e+") does not match format ("+i+")");for(var T,u,a={hour:0},l=n.NONE,c=0;c<t.length;c+=2){switch(T=n.NONE,t[c]){case"HH":a.hour=TTk.Number.parseInt(s[c]),T=n.HOUR;break;case"mm":a.minute=TTk.Number.parseInt(s[c]),T=n.MINUTE;break;case"SS":a.second=TTk.Number.parseInt(s[c]),T=n.SECOND;break;case"sss":a.millisecond=TTk.Number.parseInt(s[c]),T=n.MILLISECOND;break;case"AP":u=s[c];break;default:throw new TTk.Exception("Un-recognised time format ("+i+"). Specifically the characters: "+t[c])}(l===n.NONE||T.interval.inMillis()<l.interval.inMillis())&&(l=T)}var m=new TTk.Time(a.hour,a.minute,a.second,a.millisecond,u);return m},y}(),TTk.Type.TIME=new TTk.Type("time",TTk.Type.STRING,TTk.Time.isTime);
},{"./exception.js":79,"./number.js":89,"./object.js":90,"./string.js":98,"./ttk.js":103,"./type.js":104,"./utils.js":106}],103:[function(_dereq_,module,exports){
"use strict";var TTk={};TTk.CSS_PREFIX="ttk-",TTk.EVENT_PREFIX="ttk-",function(){try{return window}catch(T){return!1}}()&&(window.TTk?TTk=window.TTk:window.TTk=TTk),module.exports=TTk;
},{}],104:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./utils.js"),_dereq_("./object.js"),_dereq_("./enumeration.js"),TTk.Type=function(){var e={},n=function(t,r,i,u){this.name=t,this.super=r?n.from(r):null,this.isType=i?"function"==typeof i?i:function(e){return typeof e===t}:TTk.alwaysTrue,this.subTypes="object"==typeof u?TTk.Object.map(u,n.from):null,e[t]=this};return n.prototype.check=function(e){if(arguments.length>1){for(var n=arguments.length-1;n;)if(!this.check(arguments[n--]))return!1;return!0}if(this.super&&!this.super.check(e))return!1;if(this.isType&&!this.isType(e))return!1;if(this.subTypes)for(var t in this.subTypes){if(!(t in e))return!1;if(!this.subTypes[t].check(e[t]))return!1}var r=TTk.Enumeration.get(this.name);return!(r&&!r.isMember(e))},n.prototype.typeOf=function(e){return e=n.from(e),e===this||(e.name==this.name||!!this.super&&this.super.isType(e))},n.from=function(t){if(!arguments.length||void 0===t)return n.POLY;var r,i=typeof t;return"string"===i?(r=e[t],r||new n(t,n.POLY)):"object"===i&&t instanceof n?t:e[i]},n.prototype.isEnum=function(){return!!TTk.Enumeration.get(this.name)},n.STRING=new n("string",null,!0),n.NUMBER=new n("number",null,!0),n.BOOLEAN=new n("boolean",null,!0),n.SYMBOL=new n("symbol",null,!0),n.OBJECT=new n("object",null,!0),n.FUNCTION=new n("function",null,!0),n.ARRAY=new n("array",n.OBJECT,Array.isArray),n.POLY=new n("polymorphic"),n.IMAGE=new n("image",n.STRING),n}(),TTk.Enumeration.list.forEach(function(e){TTk.Enumeration.makeType(e)});
},{"./enumeration.js":77,"./object.js":90,"./ttk.js":103,"./utils.js":106}],105:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./polyfill-promise.js"),TTk.ClientUtils=function(){var e={},t={svg:"http://www.w3.org/2000/svg"};e.windowRect=function(e){var t=document.documentElement,n={top:e?(window.pageYOffset||t.scrollTop)-(t.clientTop||0):0,left:e?(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0):0,width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight};return n.bottom=n.top+n.height,n.right=n.left+n.width,n},e.isPortrait=function(){return screen.height>screen.width},e.isHandheld=function(){return Math.max(screen.height,screen.width)<800},e.centerNode=function(e,t){var n=t?t.getBoundingClientRect():TTk.ClientUtils.windowRect(),i=e.getBoundingClientRect();e.style.top=Math.max(0,n.height/2-i.height/2)+"px",e.style.left=Math.max(0,n.width/2-i.width/2)+"px"},e.import=function(e){return"string"==typeof e?new Promise(function(t,n){var i;e.match(/\.js$/)?(i=document.createElement("script"),i.setAttribute("type","text/javascript"),i.setAttribute("src",e),i.onload=t):e.match(/\.css$/)?(i=document.createElement("link"),i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e),t()):n(new TTk.Exception("Failed to import file with unknown type: "+e)),document.head.appendChild(i)}):Array.isArray(e)?Promise.all(e.map(TTk.ClientUtils.import)):Promise.resolve()},e.parseQuery=function(){var e={};return window.location.search.substr(1).split("&").forEach(function(t){var n=t.split("=");e[n[0]]=n[1]}),e};var n;return e.openFile=function(){var t=TTk.CSS_PREFIX+"utils-fileinput",i=document.getElementById(t);i&&i.remove(),n&&(n([]),n=null);var i=e.appendElements(null,{T:"input",type:"file",style:"visibility:hidden",id:t});return new Promise(function(e){n=e,i.addEventListener("change",function(t){i.remove(),n=null,e(this.files)}),i.click()})},e.readFileText=function(e){return new Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(i.result)},i.onerror=function(e){n(e)},i.readAsText(e)})},e.readDataURL=function(e){return new Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(i.result)},i.onerror=function(e){n(e)},i.readAsDataURL(e)})},e.downloadTextFile=function(t,n){if(n=n||"download.txt",navigator.msSaveBlob)return void navigator.msSaveBlob(new Blob([t],{type:"text/plain;charset=utf-8;"}),n);var i=e.appendElements(null,{T:"a",type:"text/plain",download:n,href:"data:text/plain:charset=utf-8,"+encodeURIComponent(t),C:"link"});i.click(),i.remove()},e.appendElements=function(t,n,i){var t=t||document.body,r=e.createElements(n,i);if(Array.isArray(r))for(var o=0;o<r.length;o++)t.appendChild(r[o]);else t.appendChild(r);return r},e.createElements=function(n,i){if(Array.isArray(n))return n.map(function(t){return e.createElements(t,i)});if("object"!=typeof n)return document.createTextNode(""+n);if(n instanceof Element)return n;var r=t[n.T],o=r?document.createElementNS(r,n.T):document.createElement(n.T||"div");for(var l in n)"T"!==l&&"C"!==l&&o.setAttribute(l,n[l]);if("object"==typeof i)if("id"in n)i[n.id]=o;else if("class"in n){var a=n.class.indexOf(" ");a===-1?i[n.class]=o:i[n.class.substring(0,a)]=o}return n.C&&("object"==typeof n.C?e.appendElements(o,n.C,i):o.innerHTML=""+n.C),o},e.removeElements=function(e){for(var t=[];e.firstChild;)t.push(e.removeChild(e.firstChild));return t},e.removeHTML=function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""},e.toElement=function(e){return"string"==typeof e?document.querySelector(e):e},e}();
},{"./polyfill-promise.js":92,"./ttk.js":103}],106:[function(_dereq_,module,exports){
(function (Buffer){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./object.js"),_dereq_("./math.js"),TTk.Env={server:function(){try{return!window}catch(n){return!0}}()},TTk.Utils=function(){var n=function(){};n.compare=function(n,t){return n<t?-1:n>t?1:0},n.fontSizePercent=function(t){return n.fontSize(Math.pow(3*t,.7))},n.fontSize=function(n){var t=TTk.Math.step(n,1.5)||1;return t},n.genUUID=function(){return t.replace(/[xy]/g,r)};var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",r=function(n){var t=16*Math.random()|0,r="x"==n?t:3&t|8;return r.toString(16)};n.toBase64=TTk.Env.server?function(n){return TTk.Object.map(n,function(n){return new Buffer(n).toString("base64")},!0)}:function(n){return TTk.Object.map(n,function(n){return window.btoa(unescape(encodeURIComponent(n)))},!0)},n.fromBase64=TTk.Env.server?function(n){return TTk.Object.map(n,function(n){return new Buffer(n,"base64").toString("utf8")},!0)}:function(n){return TTk.Object.map(n,function(n){return decodeURIComponent(escape(window.atob(n)))},!0)},n.toHex=function(n){return TTk.Object.map(n,function(n){for(var t,r=""+n,e=[],o=0,i=r.length;o<i;o++)t=Number(r.charCodeAt(o)).toString(16),e.push(t);return e.join("")},!0)},n.fromHex=function(n){return TTk.Object.map(n,function(n){for(var t=""+n,r="",e=0;e<t.length;e+=2)r+=String.fromCharCode(parseInt(t.substr(e,2),16));return r},!0)},n.binarySearch=function(t,r,o,i,u,a){arguments.length<4&&(i=0),a=a||0,o=o||n.compare;var c;if(Array.isArray(t)?(arguments.length<5&&(u=t.length-1),c=function(n){return t[n]}):(arguments.length<5&&(u=100),c=t),o(r,c(i))<0)return i;if(o(r,c(u))>0)return u;var f=e(c,r,o,i,u,-a);return f.iResult};var e=function(n,t,r,o,i,u){if(o>=i){var a=r(t,n(o));return{iResult:o,cmp:a}}var c,f=~~(o+(i-o)/2),T=n(f),a=r(t,T);if(a<0)c=e(n,t,r,o,f-1,u);else{if(!(a>0))return{iResult:f,cmp:a};c=e(n,t,r,f+1,i,u)}return!u||0===c.cmp||u>0&&c.cmp>0||u<0&&c.cmp<0?c:{iResult:f,cmp:a}};return n.copyGetSet=function(n,t,r){n.forEach(function(n){t[n]=function(e){var o=!arguments.length,i=o?r[n]():r[n](e);return o?i:t}})},n}(),TTk.MinMax=function(){var n=function(n){"function"==typeof n?this.compare=n:this.compare=TTk.Utils.compare};return n.prototype.update=function(t){var r=typeof t;if(!(void 0===t||null===t||"number"===r&&isNaN(t)||"string"===r&&"NaN"===t)){var e=n.Updated,o=e.NONE;return void 0!==this.min&&this.compare(t,this.min)!==-1||(this.min=t,o=e.MIN),void 0!==this.max&&1!==this.compare(t,this.max)||(this.max=t,o=o===e.NONE?e.MAX:e.BOTH),o}},n.prototype.toString=function(){return"TTk.MinMax("+this.min+", "+this.max+")"},n.fromArray=function(t,r){var e=new n(r);return t.forEach(function(n){e.update(n)}),e},n.Updated={NONE:0,MIN:1,MAX:2,BOTH:3},n}(),TTk.identity=function(n){return n},TTk.noop=function(){},TTk.alwaysTrue=function(){return!0},TTk.alwaysFalse=function(){return!1},TTk.info=TTk.noop,TTk.warn=TTk.noop,TTk.error=TTk.noop;
}).call(this,_dereq_("buffer").Buffer)

},{"./math.js":82,"./object.js":90,"./ttk.js":103,"buffer":140}],107:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./utils.js"),_dereq_("./view.js"),TTk.StaticView=function(){var e=TTk.Object.privateStore(),t=function(t){this.initView();var i=e(this);i.domDef=t};return t.CSS_CLASS=TTk.View.CSS_PREFIX+"static",TTk.View.call(t.prototype,e),t.prototype.render=function(t){var i=e(this);i.frame||i.appendElements(i.domDef)},t}();
},{"./ttk.js":103,"./utils.js":106,"./view.js":109}],108:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./object.js"),_dereq_("./router.js"),_dereq_("./view.js"),_dereq_("./view-static.js"),TTk.Workflow=function(){var e=0,i=function(i){var t=function(t){if(null!==t){this.initView();var r=i(this);r.view=null,r.home="home",r.missing="missing",r.views={},r.workflows=[],r.id=e++,o.call(this),t&&window.addEventListener("load",function(){TTk.Router.fire()})}};t.CSS_CLASS=TTk.View.CSS_PREFIX+"wfl",TTk.View.call(t.prototype,i),t.prototype.views=function(e){var t=i(this);if(!arguments.length)return t.views;t.views={},t.workflows=[];for(var n in e)t.views[n]=r(e[n]),t.views[n].view&&t.views[n].views&&t.views[n].initView&&t.views[n].render&&t.workflows.push(n);return this},t.prototype.view=function(e){var t=i(this);return arguments.length?(t.view&&t.view.container(null),t.view=r(e),this.render(),setTimeout(function(){var e=TTk.Router.route(),i=document.getElementById(e);i&&i.scrollIntoView()}),this):t.view};var r=function(e){return e.initView?e:new TTk.StaticView(e)};t.prototype.render=function(e){var r=i(this),n=r.frame;if(n||(n=this.frame(),n.classList.add(t.CSS_CLASS+r.id)),r.view)return void r.view.container("."+t.CSS_CLASS+r.id).render()};var n=function(e){var t=i(this),r=e.route||t.home,n=t.views[r];n||t.workflows.some(function(e){if(r.startsWith(e))return n=t.views[e]}),n||(r=t.missing,n=t.views[r]),n&&this.view(n)},o=function(){TTk.Router.onEvent("route-changed",n.bind(this))};return TTk.Object.attachAccessors(t,i,["home","missing"]),t},t=i(TTk.Object.privateStore());return t.extend=function(e,t){var r=i(t);return e.prototype=new r(null),e.prototype.constructor=e,r},t}();
},{"./object.js":90,"./router.js":95,"./ttk.js":103,"./view-static.js":107,"./view.js":109}],109:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./utils.js"),_dereq_("./utils-client.js"),TTk.View=function(){var e=function(t){this.initView=function(){var e=t(this);e.modelHandles={},e.nodeHandlers={},e.appendElements=a.bind(this),e.handles={}},this.container=function(e){var a=t(this);if(!arguments.length)return a.container;if(e=TTk.ClientUtils.toElement(e),e!==a.container){if(a.frame){if(a.container)try{a.container.removeChild(a.frame)}catch(e){}e&&e.appendChild(a.frame)}a.container=e}return this},this.render=function(){return this},this.destroy=function(){var e=t(this);if(e.frame){i.call(this),e.frame.parentNode&&e.frame.parentNode.removeChild(e.frame),e.frame=null,e.nodes={};for(var a in e.handles)e.handles[a]&&(e.handles[a].detach(),e.handles={});return e.destroy&&e.destroy.call(this),this}},this.frame=function(){var a=t(this);return a.frame||(a.container||(a.container=document.body),a.frame=TTk.ClientUtils.appendElements(a.container,{T:this.constructor.FRAME_ELEMENT||"div",class:this.constructor.CSS_CLASS+" "+e.CSS_CLASS})),a.frame};var a=function(e){var a=t(this);a.nodes=a.nodes||{};var r=this.frame(),n=TTk.ClientUtils.appendElements(r,e,a.nodes);return this.rebind(),n};this.rebind=function(e){var a=this,o=t(this);if(i.call(this,e),o.dataBind)if(e){var d=o[e];if(d&&!o.modelHandles[e]){o.modelHandles[e]=d.onEvent("model-changed",function(t){r.call(a,e,t.key)}),r.call(a,e);var s;for(var l in o.dataBind[e]){var c=o.dataBind[e][l];if(Array.isArray(c))for(s=c.length;s--;)n.call(a,c[s],e,l);else n.call(a,c,e,l)}}}else for(var h in o.dataBind)this.rebind(h)};var r=function(e,a,n){var i=this,o=t(this);if(o.nodes){var d=o[e];if(a)if(n=n||o.dataBind[e][a],Array.isArray(n))for(var s=n.length;s--;)r.call(this,e,a,n[s]);else{var l=o.nodes[n];if(l){var c=d.prop(a),h=l.tagName.toLowerCase();"input"===h&&"checkbox"===l.getAttribute("type")?l.checked=c:(c=null===c||void 0===c?"":c,"input"===h||"textarea"===h?l.value=c:l.innerHTML=c)}}else for(var f in d.constructor.PROPS)r.call(i,e,f)}},n=function(e,a,r){var n=t(this);if(n.nodes){var i=n.nodeHandlers[e]||(n.nodeHandlers[e]={}),o=i[a]||(i[a]={});if(!o[r]){var d=n.nodes[e],s=n[a];if(d&&s&&s.constructor.PROPS[r]){var l=d.tagName.toLowerCase();"input"===l&&"checkbox"===d.getAttribute("type")?o[r]=["change",function(e){s.prop(r,d.checked)}]:"input"!==l&&"textarea"!==l||(o[r]=["change",function(e){s.prop(r,d.value)}]),o[r]&&d.addEventListener(o[r][0],o[r][1])}}}},i=function(e){var a=t(this);if(a.modelHandles){if(!e)for(var r in a.dataBind)i.call(this,r);var n=a.modelHandles[e],o=a[e];if(n&&o){o.detachEvent("model-changed",n),a.modelHandles[e]=null;for(var d in a.nodeHandlers){var s=a.nodes[d];if(s){var l=a.nodeHandlers[d][e];if(l)for(var c in l)s.removeEventListener(l[c][0],l[c][1]),l[c]=null}}}}}};return e.CSS_CLASS=TTk.CSS_PREFIX+"vw",e.CSS_PREFIX=e.CSS_CLASS+"-",e.attachAccessors=function(e,t,a){a.forEach(function(a){e.prototype[a]=function(e){var r=t(this);return arguments.length?(r[a]!==e&&(r[a]=e,r.frame&&this.render()),this):r[a]}})},e}(),TTk.Icon=function(){var e={};e.CSS_CLASS=TTk.CSS_PREFIX+"ico";var t=e.CSS_CLASS+" "+e.CSS_CLASS+"-";return e.ADD=t+"add",e.ADD_CARD=t+"add-card",e.ADD_FOLDER=t+"add-folder",e.CLOUD_DOWNLOAD=t+"cloud-download",e.CLOSE=t+"close",e.REFRESH=t+"refresh",e.REMOVE=t+"remove",e.DASHBOARD=t+"dashboard",e.DELETE=t+"delete",e.DOWNLOAD=t+"download",e.GRID=t+"grid",e.OPEN=t+"open",e.SAVE=t+"save",e.PALETTE=t+"palette",e.BURGER=t+"burger",e.HDOTS=t+"hdots",e.VDOTS=t+"vdots",e.UPLOAD=t+"upload",e.D3_BAR_CHART=t+"d3-bar-chart",e.AREA_CHART=t+"area-chart",e.BUBBLE_CHART=t+"bubble-chart",e.COLUMN_SELECT=t+"column-select",e.DATA_FLATTEN=t+"data-flatten",e.DATA_SPLITTER=t+"data-splitter",e.DIAL_GUAGE=t+"dial-guage",e.DOUGHNUT_CHART=t+"doughnut-chart",e.GROUPED_BAR=t+"grouped-bar",e.HEATMAP=t+"heatmap",e.HORIZONTAL_BAR=t+"horizontal-bar",e.IMAGE_BOX=t+"image-box",e.LINE_CHART=t+"line-chart",e.NEEDLE_GUAGE=t+"needle-guage",e.NUMERIC_TABLE=t+"numeric-table",e.DATA_TABLE=t+"data-table",e.PIE_CHART=t+"pie-chart",e.SCATTER_CHART=t+"scatter-chart",e.SINGLE_FILTER=t+"single-filter",e.STACKED_BAR=t+"stacked-bar",e.TEXT_BOX=t+"text-box",e.TWISTY_PUZZLE=t+"twisty-puzzle",e.VALUE_GUAGE=t+"value-guage",e.VERTICAL_BAR=t+"vertical-bar",e}(),TTk.CSS_ACTIVE=TTk.CSS_PREFIX+"active";
},{"./ttk.js":103,"./utils-client.js":105,"./utils.js":106}],110:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/object.js"),_dereq_("../core/config.js"),TTk.Format=function(){var t=TTk.Object.privateStore(),r=function(){var r=t(this);r.formats={}};r.prototype.parse=function(t,r){if(t){if(r&&TTk.Type.from(r).check(t))return t;var e=this.findParsers(t);if(e.length){for(var o,n=0;!o&&n<e.length;n++)o=e[n].parse(t),o=this.parse(o,r);return o}if(!r)return t}},r.prototype.findParsers=function(r,e,o){var n,i=t(this),a=[];for(var s in i.formats){if(a.length===o)break;n=i.formats[s],e&&n.def.outType!==e||n.canParse(r)&&a.push(n)}return a.sort(function(t,r){return r.exactness-t.exactness}),a},r.prototype.format=function(t,r){if(t){if(r&&TTk.Type.from(r).check(t))return t;var e=this.findFormatters(t);if(e.length){for(var o,n=0;!o&&n<e.length;n++)o=e[n].format(t),o=this.format(o,r);return o}if(!r)return t}},r.prototype.findFormatters=function(r,e,o){var n,i=t(this),a=[];for(var s in i.formats){if(a.length===o)break;n=i.formats[s],e&&n.def.outType!==e||n.canFormat(r)&&a.push(n)}return a.sort(function(t,r){return r.exactness-t.exactness}),a},r.prototype.register=function(r){var e=t(this);return e.formats[r.def.key]=r,""},r.prototype.deregister=function(t){return""};var e=new r;return r.parse=r.prototype.parse.bind(e),r.format=r.prototype.format.bind(e),r.findParsers=r.prototype.findParsers.bind(e),r.findFormatters=r.prototype.findFormatters.bind(e),r.register=r.prototype.register.bind(e),r.deregister=r.prototype.deregister.bind(e),r}(),TTk.DataFormat=function(){var t=TTk.Object.privateStore(),r=function(r){var e=this,o=t(this);e.def=r,e.inType=TTk.Type.from(r.inType),e.outType=TTk.Type.from(r.outType),["exactness","parse","format"].forEach(function(t){e[t]=r[t]}),o.ttkConfig=new TTk.Config,r.config&&o.ttkConfig.register(r.config)};return TTk.Configurable.call(r.prototype,t),r.prototype.outType=TTk.Type.OBJECT,r.prototype.inType=TTk.Type.OBJECT,r.prototype.exactness=0,r.prototype.parse=null,r.prototype.format=null,r.prototype.canParse=function(t){return this.parse&&this.inType.check(t)&&(!this.def.canParse||this.def.canParse(t))},r.prototype.canFormat=function(t){return this.format&&this.outType.check(t)&&(!this.def.canFormat||this.def.canFormat(t))},r}();
},{"../core/config.js":75,"../core/object.js":90,"../core/ttk.js":103}],111:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../format/format.js"),TTk.Format.JSON=new TTk.DataFormat({key:"JSON",inType:"string",outType:"object",exactness:.02,config:{indent:{t:"polymorphic",d:null}},parse:function(r){return JSON.parse(r)},format:function(r){var t=this.config("indent"),n=function(r,t){return void 0===t?"null":t};return JSON.stringify(r,n,t)},canParse:function(r){return!(!r||"string"!=typeof r)&&(r=r.trim(),"{"===r[0]&&"}"===r[r.length-1])},canFormat:TTk.alwaysFalse}),TTk.Format.register(TTk.Format.JSON),TTk.Format.JSONArray=new TTk.DataFormat({key:"JSONArray",inType:"string",outType:"array",exactness:.03,config:{indent:{t:"polymorphic",d:null}},parse:function(r){return JSON.parse(r)},format:function(r){var t=this.config("indent"),n=function(r,t){return void 0===t?"null":t};return JSON.stringify(r,n,t)},canParse:function(r){return!(!r||"string"!=typeof r)&&(r=r.trim(),"["===r[0]&&"]"===r[r.length-1])},canFormat:TTk.alwaysFalse}),TTk.Format.register(TTk.Format.JSONArray);
},{"../core/ttk.js":103,"../format/format.js":110}],112:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/object.js"),_dereq_("../core/array.js"),_dereq_("../core/polyfill-promise.js"),_dereq_("../persist/modelsync.js"),TTk.Firebase=function(){var e=TTk.Object.privateStore(),r=function(){TTk.ModelSync.call(this);var r=e(this);r.keyToModel={},r.modelToKey={},r.writeQueue=[]};r.prototype=new TTk.ModelSync(!0),r.prototype.constructor=r,r.prototype.initialise=function(r){var t=e(this);return firebase.initializeApp(r),t.initPromise=new Promise(function(e){firebase.auth().onAuthStateChanged(function(r){if(r){var t=r.displayName||"";t=t.split(" ");var n=new TTk.User(!0).uid(r.uid).forename(t[0]||"").surname(t[1]||"").email(r.email||"");TTk.User.logged=n,e(n)}else TTk.User.logged=null,e()})})},r.prototype.authenticate=function(r){var t=e(this);return t.initPromise.then(function(){if(r&&r.logout)return firebase.auth().signOut();if(TTk.User.logged)return TTk.User.logged;var e=new firebase.auth.GoogleAuthProvider;return firebase.auth().signInWithRedirect(e),Promise.reject("No user is signed in.")})},r.prototype.sync=function(r){for(var t,n=this,a=e(this),c=0;c<r.length;c++){t=r[c];try{switch(t.action){case"create":i.call(this,t.model);break;case"update":o.call(this,t.model);break;case"refresh":u.call(this,t.model);break;case"delete":s.call(this,t.model)}}catch(e){TTk.warn(e.message)}}var f=a.writeQueue.map(function(e){return l.call(n,e.key,e.model,e.create)});return a.writeQueue=[],Promise.all(f).then(function(){},function(e){TTk.warn("Failed to synchronise. ",e)})},r.prototype.loggedUser=function(e){},r.prototype.query=function(r){var n=this,i=(e(this),r?Array.isArray(r.where)?r.where:[r.where]:[null]),o=[];return Promise.all(i.map(function(e){return new Promise(function(i,s){var a=!r||!r.class,u="refs"+(a?"":"/"+h(r.class)),l=firebase.database().ref(u);if(e)for(var c in e)l=l.equalTo(c,e[c]);l.once("value",function(e){var u=[],l=function(e,i){var a=t.call(n,e,i,r&&r.cfg?r.cfg.resolve:null);return a instanceof Promise?a.then(function(e){e&&o.push(e)},s):void(TTk.Model.isModel(a)&&o.push(a))},c=function(e,t){if(!(t._user&&r&&r.user&&t._user!==r.user.uid())){var n=t._user?"users/"+t._user:"public";n+="/"+h(t._class)+"/"+e,u.push(new Promise(function(e){firebase.database().ref(n).once("value",function(r){var t=l(r.key,r.val());t?t.then(e):e()},function(r){TTk.warn("Failed to resolve ref "+n,r),e()})}))}};e.forEach(function(e){var r=e.val();a?Object.keys(r).forEach(function(e){c(e,r[e])}):c(e.key,r)}),Promise.all(u).then(i,s).then(function(){})},function(e){TTk.warn("Query "+JSON.stringify(r)+" failed",e)})})})).then(function(){return{result:o}},function(e){TTk.warn("Query "+JSON.stringify(r)+" failed",e)})};var t=function(r,t,n){if(!t._class)return Promise.resolve();var i=this,o=e(this),r=h(t._class)+"/"+r;n&&(n=TTk.Array.index(n));var s=n?function(e,r){if(e in n)return f.call(i,e,r)}:f.bind(i);return TTk.Model.fromJsonObj(t,s,d,function(e){o.keyToModel[r]=e,o.modelToKey[e.id()]=r})};r.prototype.clear=function(){e(this);return this.query().then(function(e){if(e.result.forEach(function(e){e.destroy()}),e.result.length)return TTk.Promise.onceEvent("models-synced").then(function(){TTk.info("All objects cleared")})})},r.prototype.dbInfo=function(e){return Promise.resolve({objects:n.call(this),bytes:NaN})};var n=function(r){var t=e(this);return Object.size(t.keyToModel)},i=function(r){var t,n=e(this),i=h(r.constructor.CLASS);t=r.hashCode?"HASH:"+r.hashCode():firebase.database().ref().child(i).push().key,t=i+"/"+t,n.writeQueue.push({key:t,model:r,create:!0}),n.keyToModel[t]=r,n.modelToKey[r.id()]=t},o=function(r){var t=e(this),n=t.modelToKey[r.id()];if(!n)throw new TTk.Exception("Cannot update model id:"+r.id()+" as it does not exist in storage.");t.writeQueue.push({key:n,model:r})},s=function(r){var t=e(this),n=t.modelToKey[r.id()];if(!n)throw new TTk.Exception("Cannot delete model id:"+r.id()+" as it does not exist in storage.");t.writeQueue.push({key:n,model:null}),delete t.keyToModel[n],delete t.modelToKey[r.id()]},a=function(r,t){var n=this,i=e(this);if(!t){var o=i.keyToModel[r];if(o)return o}var s=T(r);return y(firebase.database().ref(s+"/"+r).once("value")).then(function(e){var t=e.val();return TTk.Model.fromJsonObj(t,f.bind(n),d,function(e){i.keyToModel[r]=e,i.modelToKey[e.id()]=r})},function(e){TTk.warn("Failed to read model with key "+r+". ",e)})},u=function(r){var t=this,n=e(this),i=n.modelToKey[r.id()];if(!i)throw new TTk.Exception("Refresh failed. No model with key:"+i+" exists in the storage.");var o=T(i);return y(firebase.database().ref(o+"/"+i).once("value")).then(function(e){var n=e.val();return r.refreshFromJsonObj(n,f.bind(t),d)},function(e){TTk.warn("Failed to refresh model with key "+i+". ",e)})},l=function(r,t,n){var i=(e(this),T(r)),o={};if(t){var s=t.toJsonObj(c.bind(this)),a={_class:s._class};TTk.User.logged&&"public"!==i&&(s._user=a._user=TTk.User.logged.uid()),o[i+"/"+r]=s,o["refs/"+r]=a}else o[i+"/"+r]=null,o["refs/"+r]=null;return y(firebase.database().ref().update(o))},c=function(r){var t=e(this),n=t.modelToKey[r.id()];if(n)return{_firebaseReference:n}},f=function(r){e(this);if(d(r))try{return a.call(this,r._firebaseReference)}catch(e){TTk.warn(e)}},d=function(e){return"object"==typeof e&&null!==e&&e._firebaseReference},h=function(e){return e?e.replace(/\./g,":"):null},T=function(e){return TTk.User.logged?"users/"+TTk.User.logged.uid():"public"},y=function(e){return new Promise(function(r,t){e.then(r,t)})};return TTk.Object.attachStatic(new r,["start","loggedUser"]),r}();
},{"../core/array.js":73,"../core/object.js":90,"../core/polyfill-promise.js":92,"../core/ttk.js":103,"../persist/modelsync.js":114}],113:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/object.js"),_dereq_("../core/model.js"),TTk.ModelIO=function(){var e=TTk.Object.privateStore(),r=function(){},o=function(){var r=e(this);r.sidToModel={},r.sidToJSON={},r.modelToSid={},r.writeQueue=[],r.modelCount=0};r.prototype.models=function(){var r=e(this);return r.sidToModel},r.prototype.modelToJSON=function(r){var i=e(this);for(o.call(this),r=t.call(this,r);i.writeQueue.length;){var a=i.writeQueue.pop();n.call(this,a.sid,a.model)}var s={model:r,documents:i.sidToJSON};return s};var t=function(r){var o=(e(this),this);if(TTk.Model.isModel(r))return i.call(o,r);var n=typeof r;if("object"===n){if(Array.isArray(r))return r.map(t.bind(this));var a={};for(var s in r)a[s]=t.call(o,r[s]);return a}return r},i=function(r){var o=e(this),t=o.modelToSid[r.id()];return t||(t=u.call(this,r),o.sidToModel[t]=r,o.modelToSid[r.id()]=t,o.writeQueue.push({sid:t,model:r})),{_jsonExportReference:t}},n=function(r,o){var t=e(this),n=o.toJsonObj(i.bind(this));t.sidToJSON[r]=n};r.prototype.jsonToModel=function(r){var t=e(this);o.call(this),t.sidToJSON=r.documents;var i=a.call(this,r.model);return i};var a=function(r){if("object"!=typeof r)return r;var o=this;e(this);if(d(r))return l.call(o,r._jsonExportReference);if(Array.isArray(r))return r.map(a.bind(o));var t={};for(var i in r)t[i]=a.call(o,r[i]);return t},s=function(r){e(this);if(d(r))return l.call(this,r._jsonExportReference)},d=function(e){return"object"==typeof e&&null!==e&&e._jsonExportReference},l=function(r){var o=e(this),t=o.sidToModel[r];if(t)return t;var i=o.sidToJSON[r];if(!i)return void TTk.warn("Failed to locate JSON for reference '"+r+"'.");try{var t=TTk.Model.fromJsonObj(i,s.bind(this),d,function(e){o.sidToModel[r]=e,o.modelToSid[e.id()]=r});return t}catch(e){TTk.warn("Failed to read model.",e)}},u=function(r){var o,t=e(this);if(r.hashCode){o=r.hashCode();var i=t.sidToModel[o];if(!i||i.hashData&&r.hashData()===i.hashData())return o}return o="d"+t.modelCount++};return TTk.Object.attachStatic(new r,["modelToJSON","jsonToModel","models"]),r}();
},{"../core/model.js":88,"../core/object.js":90,"../core/ttk.js":103}],114:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/polyfill-promise.js"),_dereq_("../core/object.js"),_dereq_("../core/event.js"),_dereq_("../core/component.js"),_dereq_("../core/model-access.js"),_dereq_("./modelio.js"),TTk.ModelSync=function(){var e=TTk.Object.privateStore(),t=0,o=function(t){if(!t){var o=e(this);o.syncQueue=[],o.queueModels={},n.call(this),r.call(this)}};TTk.EventGenerator.call(o.prototype,e),TTk.Executable.call(o.prototype,e);var n=function(){var t=e(this);t.ttkEvents=t.ttkEvents||new TTk.Events,t.ttkEvents.register("models-synced"),t.ttkEvents.register("model-created")},r=function(){var t=this,o=e(this);o.ttkActions=new TTk.Actions,o.ttkActions.register("authenticate",function(e){return t.authenticate.call(t,e)},null,{logout:"boolean"},{logout:"optional"}),o.ttkActions.register("model-dbinfo",function(e){return t.dbInfo.call(t,e)}),o.ttkActions.register("model-query",function(e){return t.query.call(t,e)},null,{class:"string",where:"object"},{class:"optional",user:"optional",where:"optional"}),o.ttkActions.register("models-clear",function(e){return d.call(t)}),o.ttkActions.register("models-import",function(e){return u.call(t,e.data,e.replace)},null,{data:"object",replace:"boolean"},{replace:"optional"}),o.ttkActions.register("models-export",function(e){return a.call(t)})},l=function(){var t=this,o=e(this);o.hadles||(o.handles={},o.handles["model-created"]=TTk.ComponentGroup.GLOBAL.onEvent("model-created",function(e){TTk.AccessModel.created(e.model),s.call(t,{action:"create",model:e.model})}),o.handles["model-changed"]=TTk.ComponentGroup.GLOBAL.onEvent("model-changed",function(e){void 0===o.queueModels[e.model.id()]&&(TTk.AccessModel.updated(e.model),s.call(t,{action:"update",model:e.model}))}),o.handles["model-refresh"]=TTk.ComponentGroup.GLOBAL.onEvent("model-refresh",function(e){void 0===o.queueModels[e.model.id()]&&s.call(t,{action:"refresh",model:e.model})}),o.handles["model-deleted"]=TTk.ComponentGroup.GLOBAL.onEvent("model-deleted",function(e){var n=o.queueModels[e.model.id()],r=o.syncQueue[n];return r&&"create"===r.action?void(o.syncQueue[n]=null):void s.call(t,{action:"delete",model:e.model})}))},i=function(){var t=e(this);if(t.handles)for(var o in t.handles)TTk.ComponentGroup.GLOBAL.detachEvent(o,t.handles[o])},s=function(o){var n=e(this);n.queueModels[o.model.id()]=n.syncQueue.length,n.syncQueue.push(o),n.syncHandle||(n.syncHandle=setTimeout(c.bind(this),t))},c=function(){var t=e(this);t.syncHandle=null;var o=t.syncQueue;t.syncQueue=[],t.queueModels={},this.sync(o).then(function(){t.ttkEvents.fire("models-synced")})},u=function(t,o){var n=this,r=e(this);return"object"!=typeof t?Promise.reject("Cannot import the non-object '"+t+"'"):("boolean"!=typeof o&&(o=!0),new Promise(function(e,l){(o?d.call(n):Promise.resolve()).then(function(){TTk.ModelIO.jsonToModel(t);var l=Object.values(TTk.ModelIO.models()),i=o?TTk.AuthModel.adminUser(l):null;return i&&(TTk.User.logged=i),l.forEach(function(e){r.ttkEvents.fire("model-created",{model:e})}),l&&l.length&&n.onceEvent("models-synced",function(){i?n.authenticate({user:i}).then(function(){e(l)}):e(l)}),l})}))},a=function(){var e=this;return e.query().then(function(e){var t=e.result.filter(function(e){return e.rootModel()});return TTk.ModelIO.modelToJSON(t)})},d=function(){e(this);return this.clear()};return o.prototype.authenticate=function(e){return Promise.resolve()},o.prototype.dbInfo=function(e){return Promise.resolve({})},o.prototype.sync=function(e){},o.prototype.query=function(e){return Promise.resolve([])},o.prototype.clear=function(){return Promise.resolve([])},o.prototype.start=function(e){if(TTk.ComponentGroup.GLOBAL.add(this),l.call(this),this.initialise)return this.initialise(e)},o.prototype.stop=function(){TTk.ComponentGroup.GLOBAL.remove(this),i.call(this)},o}();
},{"../core/component.js":74,"../core/event.js":78,"../core/model-access.js":83,"../core/object.js":90,"../core/polyfill-promise.js":92,"../core/ttk.js":103,"./modelio.js":113}],115:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("./animate.js"),TTk.Animate.Transform=function(){var n,t,r=.003,e=0,u=30,i=d3.dispatch("start","stop","change"),c=null,o=function(){i.start(),c=setInterval(function(){t&&t()||(n.yaw(n.yaw()+r),n.pitch(n.pitch()+e),i.change())},u)};return o.on=function(n,t){return i.on(n,t),o},o.stop=function(){clearInterval(c),c=null,i.stop()},o.isAnimating=function(){return null!==c},o.transform=function(t){return arguments.length?(n=t,o):n},o.suppress=function(n){return arguments.length?(t=n,o):t},o.dYaw=function(n){return arguments.length?(r=n,o):r},o.dPitch=function(n){return arguments.length?(e=n,o):e},o.period=function(n){return arguments.length?(u=n,o):u},o};
},{"../core/ttk.js":103,"./animate.js":116,"d3":5}],116:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");TTk.Animate={};
},{"../core/ttk.js":103}],117:[function(_dereq_,module,exports){
"use strict";_dereq_("canvas-5-polyfill");var TTk=_dereq_("../core/ttk.js");_dereq_("../core/executor.js"),_dereq_("../core/stylesheet.js"),TTk.CanvasSelection=function(){var t=new TTk.Executor,e=0,n=function(t,e){return""+e},r=function(r,i,a){var o="CanvasSelection"+e++,u={},c={},l=[];i=i||{};var s,f,v=[],h=[],p=n,T=function(){var t=this;t(T)},k=function(){t.doOnce(g),t.doOnce(y,o)},y=function(){var t=T.canvasElement(),e=t.getContext("2d");T.each(function(){this(e)})},g=function(){var t=T.canvasElement(),e=t.getContext("2d");e.clearRect(0,0,t.width,t.height)};return T.selectAll=function(t){return u[t]||(u[t]=TTk.CanvasSelection(T))},T.select=function(t){var e=t.replace(/\..*$/,"");return u[t]||(u[t]=TTk.CanvasSelection(T).data(l).append(e))},T.data=function(t,e,r){if(!arguments.length)return l;if(p=e||n,r)return l=t,T;v=[];var i={},a={};return t.forEach(function(t,e){var n=p(t,e);i[n]=t,n in c?a[n]=!0:v.push(t)}),h=Object.keys(TTk.Set.difference(TTk.Set.from(c),TTk.Set.from(a))).map(function(t){return c[t]}),c=i,l=t,T},T.enter=function(){return s||(s=TTk.CanvasSelection(T,i,function(){s=null,v=[]}).data(v,p,!0))},T.exit=function(){return f||(f=TTk.CanvasSelection(T,i,function(){f=null,h=[]}).data(h,p,!0))},T.append=function(t){return T.each(function(e,n){var r=p(e,n);i[r]=TTk.CanvasElement(t,k)}),a&&a(),T},T.insert=T.append,T.remove=function(){return a&&a(),T},T.each=function(t){return l.some(function(e,n){var r=p(e,n),a=i[r];return t.call(a,e,n)}),T},T.attr=function(t){var e=arguments;return T.each(function(){this.attr.apply(this,e)}),T},T.style=function(t){var e=arguments;return T.each(function(){this.style.apply(this,e)}),T},["html","text"].forEach(function(t){T[t]=function(){var e=arguments;T.each(function(){this[t].apply(this,e)})}}),T.sort=function(t){return T},T.order=T.sort,T.canvasElement=function(){return r.canvasElement?r.canvasElement():r.node()},T};return r}(),TTk.CanvasElement=function(){var t={path:function(t,e){var n=new Path2D(t.a.d);e.stroke(n),e.fill(n)},rect:function(t,e){e.fillRect(t.a.x,t.a.y,t.a.width,t.a.height)},line:function(t,e){e.beginPath(),e.moveTo(t.a.x1,t.a.y1),e.lineTo(t.a.x2,t.a.y2),e.stroke()},text:function(t,e){e.fillText(t.t,t.a.x,t.a.x)}},e=function(e,n){var r={a:{},s:{},t:"",c:[]},i=!1,a=function(t){return"."+t},o=function(n){var o=r.a.class?TTk.StyleSheet.get(r.a.class.split(" ").map(a)):{};if("g"!==e){var u=t[e];if(!u)return void TTk.error("No function to draw tag '"+e+"'");n.fillStyle=r.s.fill||o.fill||"black";var c=r.s.stroke||o.stroke||"black",l=r.s["stroke-width"]||o["stroke-width"]||0;if("none"===c||0===+l?(n.strokeStyle="rgba(0, 0, 0, 0)",n.lineWidth=0):(n.strokeStyle=c,n.lineWidth=l,n.lineWidth>0&&(n.lineJoin=r.s["stroke-linejoin"]||o["stroke-linejoin"]||"miter",n.lineCap=r.s["stroke-linecap"]||o["stroke-linecap"]||"butt")),r.t){var s=r.s.font||o.font;s&&(n.font=s),n.textAlgin=r.s["text-align"]||o["text-align"]||"left",n.textBaseline=r.s["alignment-baseline"]||o["alignment-baseline"]||"alphabetic"}u(r,n),i=!1}else for(var f=0;f<r.c.length;f++)r.c[f](n)};return o.setAttribute=function(t,e){i||r.a[t]===e||(i=!0,n()),r.a[t]=e},o.getAttribute=function(t){return r.a[t]},o.attr=function(t,e){if(!arguments.length)return r.a;if(1===arguments.length&&"string"==typeof t)return r.a[t];if("object"==typeof t)for(var n in t)o.setAttribute(n,t[n]);else o.setAttribute(t,e);return o},o.style=function(t,e){if(!arguments.length)return r.s;if(1===arguments.length&&"string"==typeof t)return r.s[t];if("object"==typeof t)for(var a in t)o.style(a,t[a]);else i||r.s[t]===e||(i=!0,n()),r.s[t]=e;return o},o.style.setProperty=function(t,e,n){return o.style(t,e),o},o.style.getProperty=function(t){return o.style(t)},o.text=function(t){return arguments.length?(i||r.t===t||(i=!0,n()),r.t=t,o):r.t},o.querySelectorAll=function(t){if(!t)return r.c;if("."===t[0]){t=t.substring(1);var e=r.c.filter(function(e){return e.getAttribute("class").indexOf(t)>=0});return e}return[]},o.appendChild=function(t){"object"==typeof t&&(t=t.tagName);var e=new TTk.CanvasElement(t,n);return r.c.push(e),e},o};return e}();
},{"../core/executor.js":80,"../core/stylesheet.js":99,"../core/ttk.js":103,"canvas-5-polyfill":1}],118:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var colorbrewer=_dereq_("colorbrewer"),TTk=_dereq_("../core/ttk.js");_dereq_("../core/math.js"),_dereq_("../core/array.js"),_dereq_("../core/object.js"),TTk.Colour=function(){var t=function(){};return t.Discrete=function(){var r,e=d3.scale.quantize(),n=null,o=null,i=function(t){return e(t)},u=function(){if(o&&!(o.length<2)){var i=n||o.length;r=t.MultiInterp(o);for(var u=[],a=0;a<i;a++)u.push(r(a/(i-1)));e.range(u)}};return TTk.Utils.copyGetSet(["domain","range"],i,e),i.points=function(t){return arguments.length?(n=t,u(),i):n},i.colours=function(t){return arguments.length?(o=t,u(),i):o},i},t.MultiInterp=function(t){for(var r=[],e=1;e<t.length;e++)r.push(d3.interpolateRgb(t[e-1],t[e]));var n=function(t){var t=TTk.Math.clamp(t,0,1),e=r.length*t,n=Math.floor(e);return e-=n,0===e&&n>0&&(n--,e++),r[n](e)};return n},t.luma=function(t){var r=d3.rgb(t),e=(.299*r.r+.587*r.g+.114*r.b)/255;return e},t}(),TTk.ColourPalette=function(){var t={Toolkit:["#2E95C1","#FF9900","#009F6B","#CC3300","#856AD2","#66821D","#0066CC","#FFD300","#B6DA04","#256388","#DDAAFF","#89846A","#47B2B2","#666600","#9BBB59","#FF99FF","#8C3FC5","#CCCC00","#00BFEE","#E46C0A","#50D092","#ED145B","#6E6E8A","#779093","#4D50C0","#CBA14B","#54A073","#CC527A","#BFBFBF","#996633"]},r=function(r){var e=t[r]||t.Toolkit,n=d3.scale.ordinal().range(e),o=TTk.identity,i=function(t,r){var e=o(t);return n(e)};return i.key=function(t){return arguments.length?(o=t,i):o},TTk.Utils.copyGetSet(["domain","range"],i,n),i};return r.colours=function(r){var e=t[r]||t.Toolkit;return e},r.list=function(){return TTk.Object.keys(t)},r.exists=function(r){return r in t},r.add=function(r,e){t[r]=e},r.BREWER_LIST=["Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3"],r.BREWER_LIST.forEach(function(t){var e=colorbrewer[t];if(e){var n=0;for(var o in e)+o>n&&(n=o);r.add(t,e[n])}}),r}(),TTk.ColourScale=function(){var t={HUE1:function(t){return t=TTk.Math.clamp(t,0,1),d3.hsl(.6*t*360,.3,.7-.3*Math.abs(1-t))},HUE1R:function(t){return t=TTk.Math.clamp(t,0,1),d3.hsl(.6*(1-t)*360,.3,.7-.3*Math.abs(1-t))},HUE2:function(t){return t=TTk.Math.clamp(t,0,1),d3.hsl(90+.6*t*360,.3,.7-.35*Math.abs(1-t))},HUE2R:function(t){return t=TTk.Math.clamp(t,0,1),d3.hsl(90+.6*(1-t)*360,.3,.7-.35*Math.abs(1-t))},HUE3:function(t){return t=TTk.Math.clamp(t,0,1),d3.hsl(180+.6*t*360,.3,.65-.4*Math.abs(1-t))},HUE3R:function(t){return t=TTk.Math.clamp(t,0,1),d3.hsl(180+.6*(1-t)*360,.3,.65-.4*Math.abs(1-t))},HUE4:function(t){return t=TTk.Math.clamp(t,0,1),d3.hsl(270+.6*t*360,.3,.65-.3*Math.abs(.4-t))},HUE4R:function(t){return t=TTk.Math.clamp(t,0,1),d3.hsl(270+.6*(1-t)*360,.3,.65-.3*Math.abs(1-t))}},r={},e=function(t){var e,n,o="string"==typeof t,i=o?r[t]||r.HUE1:t;"function"==typeof i?e=i:Array.isArray(i)?(n=i,e=TTk.Colour.MultiInterp(n)):e=r.HUE1;var u,a,c=TTk.identity,l=!1,s=TTk.identity,f=TTk.identity,h=function(t){if(t=c(t),t=s(t),u){var r=u[1]-u[0];t=0!==r&&isFinite(t)?(t-u[0])/r:.5}return l&&(t=1-t),t=f(t),e(t)},p=function(){if(s=TTk.identity,f=TTk.identity,!a)return void(o&&colorbrewer[t]&&(e=TTk.Colour.MultiInterp(r[t])));if("number"==typeof a){var n=2===a?3:a;o&&colorbrewer[t]&&colorbrewer[t][n]&&(e=TTk.Colour.MultiInterp(colorbrewer[t][n])),f=function(t){return Math.min(1,~~(t*a)/(a-1))}}};return h.domain=function(t){return arguments.length?(u=t,h):u},h.bands=function(t){return arguments.length?(a=t,p(),h):a},h.value=function(t){return arguments.length?(c=t,h):c},h.flip=function(t){return arguments.length?(l=t,h):l},h};e.list=function(){return TTk.Object.keys(r)},e.colours=function(t){return r[t]},e.exists=function(t){return t in r},e.add=function(t,e){r[t]=e};for(var n in colorbrewer)if(TTk.ColourPalette.BREWER_LIST.indexOf(n)===-1){var o=colorbrewer[n],i=0;for(var u in o)+u>i&&(i=u);e.add(n,o[i])}for(var n in t)e.add(n,t[n]);return e}(),TTk.ColourBox=function(){var t=100,r=function(t,r){};return r.prototype.viewBoxSize=function(){return t},r.prototype.build=function(t,r){var e=this.genContainer(),n=this.genSVG(),o=this.genSVGContent(t);o&&(o instanceof Array==!1&&(o=[o]),o.forEach(function(t){n.appendChild(t)}),e.appendChild(n),r.appendChild(e))},r.prototype.genContainer=function(){var t=document.createElement("div");return t.setAttribute("class","ttk-touchmenu-colourSprite-cont"),t},r.prototype.genSVG=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("viewBox","0 0 "+(this.viewBoxSize()-0)+" "+(this.viewBoxSize()-0)),t.setAttribute("class","ttk-touchmenu-colourSprite"),t},r.prototype.genSVGContent=function(t){return[]},r.prototype.genRect=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","rect");return t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("width",100),t.setAttribute("height",100),t},r}(),TTk.SpriteColourBox=function(){var t=function(t,r){this.build(t,r)};return t.prototype=new TTk.ColourBox,t.prototype.constructor=t,t.prototype.genSVGContent=function(t){var r=this,e=document.createElementNS("http://www.w3.org/2000/svg","g"),n=Math.floor(Math.sqrt(t.length));return t.forEach(function(t,o){var i=r.genRect(),u=r.viewBoxSize()/n;i.setAttribute("x",r.viewBoxSize()/n*(o%n)),i.setAttribute("y",r.viewBoxSize()/n*Math.floor(o/n)),i.setAttribute("fill",t),i.setAttribute("width",u),i.setAttribute("height",u),e.appendChild(i)}),e},t}(),TTk.RangeColourBox=function(){var t=function(t,r){this.build(t,r)};return t.prototype=new TTk.ColourBox,t.prototype.constructor=t,t.prototype.genSVGContent=function(t){"function"==typeof t&&(t=TTk.Array.create(5).map(function(r){return t(r/4)}));var r=Math.random().toString(36).substring(5),e=[],n=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");n.setAttribute("id",r),n.setAttribute("x1","0%"),n.setAttribute("y1","0%"),n.setAttribute("x2","100%"),n.setAttribute("y2","100%");for(var o=0;o<t.length;o++){var i=t[o],u=document.createElementNS("http://www.w3.org/2000/svg","stop");u.setAttribute("stop-color",i),u.setAttribute("offset",o/(t.length-1)),n.appendChild(u)}e.push(n);var a=this.genRect();return a.setAttribute("width",this.viewBoxSize()),a.setAttribute("height",this.viewBoxSize()),a.setAttribute("fill","url(#"+r+")"),e.push(a),e},t}();
},{"../core/array.js":73,"../core/math.js":82,"../core/object.js":90,"../core/ttk.js":103,"colorbrewer":3,"d3":5}],119:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");TTk.Glyph2D={TRIANGLE:[],TRIANGLEUP:[[.5,-.25],[0,.5],[-.5,-.25]],TRIANGLEDOWN:[[.5,.25],[0,-.5],[-.5,.25]],SQUARE:[[-.5,-.5],[.5,-.5],[.5,.5],[-.5,.5]],RHOMBUS:[[0,-.5],[.3,0],[0,.5],[-.3,0]],DIAMOND:[[-.5,.1],[-.2,.5],[.2,.5],[.5,.1],[0,-.5]],PENTAGON:[[-.309,0],[-.0955,.2939],[.25,.1816],[.25,-.1816],[-.0955,-.2939]],HEXAGON:[[0,-.5],[.433,-.25],[.433,.25],[0,.5],[-.433,.25],[-.433,-.25]],OCTAGON:[[-.25,-.5],[-.5,-.25],[-.5,.25],[-.25,.5],[.25,.5],[.5,.25],[.5,-.25],[.25,-.5]],X:[[-.46,-.25],[-.21,0],[-.46,.25],[-.25,.46],[0,.21],[.25,.46],[.46,.25],[.21,0],[.46,-.25],[.25,-.46],[0,-.21],[-.25,-.46]],PLUS:[[-.15,-.5],[-.15,-.15],[-.5,-.15],[-.5,.15],[-.15,.15],[-.15,.5],[.15,.5],[.15,.15],[.5,.15],[.5,-.15],[.15,-.15],[.15,-.5]],BAR:[[0,-.5],[-.1,-.4],[-.1,.4],[0,.5],[.1,.4],[.1,-.4]],DASH:[[.5,0],[.4,-.1],[-.4,-.1],[-.5,-0],[-.4,.1],[.4,.1]],BACKSLASH:[[-.3,-.5],[-.5,-.5],[-.5,-.3],[.3,.5],[.5,.5],[.5,.3]],FWDSLASH:[[-.5,.3],[-.5,.5],[-.3,.5],[.5,-.3],[.5,-.5],[.3,-.5]],STAR:[[-.309,0],[.25,-.1816],[-.0955,.2939],[-.0955,-.2939],[.25,.1816]],STAR2:[[0,-.5],[-.1,-.1],[-.25,-.25],[-.15,-.15],[-.5,0],[-.15,.15],[-.25,.25],[-.1,.1],[0,.5],[.1,.1],[.25,.25],[.15,.15],[.5,0],[.15,-.15],[.25,-.25],[.1,-.1]],STAR3:[[-.5,-.5],[0,-.05],[.5,-.5],[.05,0],[.5,.5],[0,.05],[-.5,.5],[-.05,0]],FLOWER:[[0,0],[-.25,.1],[-.5,0],[-.25,-.1],[0,0],[.25,.1],[.5,0],[.25,-.1],[0,0],[.1,.25],[0,.5],[-.1,.25],[0,0],[.1,-.25],[0,-.5],[-.1,-.25]],GERMANCROSS:[[-.1,-.1],[-.5,-.3],[-.5,.3],[-.1,.1],[-.3,.5],[.3,.5],[.1,.1],[.5,.3],[.5,-.3],[.1,-.1],[.3,-.5],[-.3,-.5]],UPARROW:[[-0,-.5],[-.15,.15],[-.5,0],[0,.5],[.5,0],[.15,.15],[0,-.5]],DOWNARROW:[[-0,.5],[-.15,-.15],[-.5,0],[0,-.5],[.5,0],[.15,-.15],[0,.5]],AIRPLANE:[[0,-.25],[-.025,-.475],[-.2,-.5],[-.2,-.45],[-.1,-.4],[-.15,0],[-.2,0],[-.5,-.1],[-.5,0],[-.1,.25],[-.1,.4],[0,.5],[0,.5],[.1,.4],[.1,.25],[.5,0],[.5,-.1],[.2,0],[.15,0],[.1,-.4],[.2,-.45],[.2,-.5],[.025,-.475]],CAR:[[-.2,.1],[-.48,.07],[-.5,.06],[-.4,-.2],[-.3,-.2],[-.3,-.3],[-.25,-.35],[-.15,-.35],[-.1,-.3],[-.1,-.2],[.1,-.2],[.1,-.3],[.15,-.35],[.25,-.35],[.3,-.3],[.3,-.2],[.4,-.2],[.5,.06],[.3,.06],[.25,.3],[-.2,.3],[-.25,.1]],LORRY:[],BOAT:[[-.5,-.3],[-.5,-.2],[-.3,-.2],[-.3,-.1],[-.2,-.1],[-.2,0],[-.1,0],[0,.15],[-.1,.3],[.2,.3],[.1,.5],[.15,.5],[.25,.3],[.3,.3],[.35,0],[.4,0],[.8,.1],[.5,-.3]],BYCYCLE:[],MOTORBIKE:[],HUMAN:[[-.05,.5],[-.1,.45],[-.1,.35],[-.05,.3],[-.03,.3],[-.03,.2],[-.2,.15],[-.3,-.15],[-.2,-.25],[-.1,-.5],[.1,-.5],[.2,-.25],[.3,-.15],[.2,.05],[.03,.1],[.03,.3],[.05,.3],[.1,.35],[.1,.45],[.05,.5]]},TTk.Glyph3D={CUBE:[[[-.5,-.5,-.5],[.5,-.5,-.5],[.5,.5,-.5],[-.5,.5,-.5]],[[-.5,-.5,.5],[.5,-.5,.5],[.5,.5,.5],[-.5,.5,.5]],[[-.5,-.5,-.5],[-.5,.5,-.5],[-.5,.5,.5],[-.5,-.5,.5]],[[.5,-.5,-.5],[.5,.5,-.5],[.5,.5,.5],[.5,-.5,.5]],[[-.5,-.5,-.5],[.5,-.5,-.5],[.5,-.5,.5],[-.5,-.5,.5]],[[-.5,.5,-.5],[.5,.5,-.5],[.5,.5,.5],[-.5,.5,.5]]],DIAMOND:[[[-.2,-.5,-.25],[-.5,-.2,-.25],[0,0,.5]],[[-.5,-.2,-.25],[-.5,.2,-.25],[0,0,.5]],[[-.5,.2,-.25],[-.2,.5,-.25],[0,0,.5]],[[-.2,.5,-.25],[.2,.5,-.25],[0,0,.5]],[[.2,.5,-.25],[.5,.2,-.25],[0,0,.5]],[[.5,.2,-.25],[.5,-.2,-.25],[0,0,.5]],[[.5,-.2,-.25],[.2,-.5,-.25],[0,0,.5]],[[.2,-.5,-.25],[-.2,-.5,-.25],[0,0,.5]],[[-.2,-.5,-.25],[-.5,-.2,-.25],[-.3,-.12,-.5],[-.12,-.3,-.5]],[[-.5,-.2,-.25],[-.5,.2,-.25],[-.3,.12,-.5],[-.3,-.12,-.5]],[[-.5,.2,-.25],[-.2,.5,-.25],[-.12,.3,-.5],[-.3,.12,-.5]],[[-.2,.5,-.25],[.2,.5,-.25],[.12,.3,-.5],[-.12,.3,-.5]],[[.2,.5,-.25],[.5,.2,-.25],[.3,.12,-.5],[.12,.3,-.5]],[[.5,.2,-.25],[.5,-.2,-.25],[.3,-.12,-.5],[.3,.12,-.5]],[[.5,-.2,-.25],[.2,-.5,-.25],[.12,-.3,-.5],[.3,-.12,-.5]],[[.2,-.5,-.25],[-.2,-.5,-.25],[-.12,-.3,-.5],[.12,-.3,-.5]],[[-.3,-.12,-.5],[-.3,.12,-.5],[-.12,.3,-.5],[.12,.3,-.5],[.3,.12,-.5],[.3,-.12,-.5],[.12,-.3,-.5],[-.12,-.3,-.5]]],DIAMOND2:[[[0,-.5,0],[0,0,-.5],[-.328,-.328,0]],[[-.328,-.328,0],[-.5,0,0],[0,0,-.5]],[[-.328,.328,0],[-.5,0,0],[0,0,-.5]],[[0,.5,0],[-.328,.328,0],[0,0,-.5]],[[.328,.328,0],[0,.5,0],[0,0,-.5]],[[.5,0,0],[.328,.328,0],[0,0,-.5]],[[.328,-.328,0],[.5,0,0],[0,0,-.5]],[[0,-.5,0],[.328,-.328,0],[0,0,-.5]],[[0,0,.5],[0,-.5,0],[-.328,-.328,0]],[[-.328,-.328,0],[-.5,0,0],[0,0,.5]],[[-.328,.328,0],[-.5,0,0],[0,0,.5]],[[0,.5,0],[-.328,.328,0],[0,0,.5]],[[.328,.328,0],[0,.5,0],[0,0,.5]],[[.5,0,0],[.328,.328,0],[0,0,.5]],[[.328,-.328,0],[.5,0,0],[0,0,.5]],[[0,-.5,0],[.328,-.328,0],[0,0,.5]]],TRIANGULAR_PYRAMID:[[[-0,-.5177,0],[-.4491,.2601,0],[.4491,.2601,0]],[[-0,-.5177,0],[-.4491,.2601,0],[0,-.0025,-.7357]],[[-0,-.5177,0],[0,-.0025,-.7357],[.4491,.2601,0]],[[-.4491,.2601,0],[0,-.0025,-.7357],[.4491,.2601,0]]],PYRAMID:[[[.5,-.5,0],[-.5,-.5,0],[0,0,-.5]],[[.5,.5,0],[-.5,.5,0],[0,0,-.5]],[[-.5,-.5,0],[-.5,.5,0],[0,0,-.5]],[[.5,-.5,0],[.5,.5,0],[0,0,-.5]],[[.5,-.5,0],[.5,.5,0],[-.5,.5,0],[-.5,-.5,0]]],RHOMBIC_PYRAMID:[[[0,-.5,0],[.3,0,0],[.3,0,0],[0,.5,0],[0,.5,0],[-.3,0,0],[-.3,0,0],[0,-.5,0]],[[0,-.5,0],[.3,0,0],[0,0,-.5]],[[.3,0,0],[0,.5,0],[0,0,-.5]],[[0,.5,0],[-.3,0,0],[0,0,-.5]],[[-.3,0,0],[0,-.5,0],[0,0,-.5]]],PENTAGONAL_PYRAMID:[[[-.309,0,0],[-.0955,.2939,0],[.25,.1816,0],[.25,-.1816,0],[-.0955,-.2939,0]],[[-.309,0,0],[-.0955,.2939,0],[0,0,-.5]],[[-.0955,.2939,0],[.25,.1816,0],[0,0,-.5]],[[.25,.1816,0],[.25,-.1816,0],[0,0,-.5]],[[.25,-.1816,0],[-.0955,-.2939,0],[0,0,-.5]],[[-.0955,-.2939,0],[-.309,0,0],[0,0,-.5]]],HEXAGONAL_PYRAMID:[[[0,-.5,0],[.433,-.25,0],[.433,.25,0],[0,.5,0],[-.433,.25,0],[-.433,-.25,0]],[[0,-.5,0],[.433,-.25,0],[0,0,-.5]],[[.433,-.25,0],[.433,.25,0],[0,0,-.5]],[[.433,.25,0],[0,.5,0],[0,0,-.5]],[[0,.5,0],[-.433,.25,0],[0,0,-.5]],[[-.433,.25,0],[-.433,-.25,0],[0,0,-.5]],[[0,-.5,0],[-.433,-.25,0],[0,0,-.5]]],OCTAGONAL_PYRAMID:[[[0,-.5,0],[0,0,-.5],[-.328,-.328,0]],[[-.328,-.328,0],[-.5,0,0],[0,0,-.5]],[[-.328,.328,0],[-.5,0,0],[0,0,-.5]],[[0,.5,0],[-.328,.328,0],[0,0,-.5]],[[.328,.328,0],[0,.5,0],[0,0,-.5]],[[.5,0,0],[.328,.328,0],[0,0,-.5]],[[.328,-.328,0],[.5,0,0],[0,0,-.5]],[[0,-.5,0],[.328,-.328,0],[0,0,-.5]],[[0,-.5,0],[-.328,-.328,0],[-.5,0,0],[-.328,.328,0],[0,.5,0],[.328,.328,0],[.5,0,0],[.328,-.328,0],[0,-.5,0]]],TETRAHEDRON:[[[-.5,-.5,-.5],[.5,-.5,.5],[-.5,.5,.5]],[[-.5,-.5,-.5],[.5,-.5,.5],[.5,.5,-.5]],[[-.5,-.5,-.5],[.5,.5,-.5],[-.5,.5,.5]],[[.5,-.5,.5],[.5,.5,-.5],[-.5,.5,.5]]],OCTAHEDRON:[[[.5,-.5,0],[-.5,-.5,0],[0,0,.5]],[[.5,.5,0],[-.5,.5,0],[0,0,.5]],[[-.5,-.5,0],[-.5,.5,0],[0,0,.5]],[[.5,-.5,0],[.5,.5,0],[0,0,.5]],[[.5,-.5,0],[-.5,-.5,0],[0,0,-.5]],[[.5,.5,0],[-.5,.5,0],[0,0,-.5]],[[-.5,-.5,0],[-.5,.5,0],[0,0,-.5]],[[.5,-.5,0],[.5,.5,0],[0,0,-.5]]],RHOMBICUBOCTAHEDRON:[[[-.2,-.5,-.2],[.2,-.5,-.2],[.2,-.5,.2],[-.2,-.5,.2]],[[.2,-.5,-.2],[.5,-.2,-.2],[.5,-.2,.2],[.2,-.5,.2]],[[.5,-.2,-.2],[.5,.2,-.2],[.5,.2,.2],[.5,-.2,.2]],[[.5,.2,-.2],[.2,.5,-.2],[.2,.5,.2],[.5,.2,.2]],[[-.2,.5,-.2],[.2,.5,-.2],[.2,.5,.2],[-.2,.5,.2]],[[-.2,.5,-.2],[-.5,.2,-.2],[-.5,.2,.2],[-.2,.5,.2]],[[-.5,-.2,-.2],[-.5,.2,-.2],[-.5,.2,.2],[-.5,-.2,.2]],[[-.5,-.2,-.2],[-.2,-.5,-.2],[-.2,-.5,.2],[-.5,-.2,.2]],[[-.2,-.5,-.2],[.2,-.5,-.2],[.2,-.2,-.5],[-.2,-.2,-.5]],[[.2,-.2,-.5],[-.2,-.2,-.5],[-.2,.2,-.5],[.2,.2,-.5]],[[.2,.2,-.5],[-.2,.2,-.5],[-.2,.5,-.2],[.2,.5,-.2]],[[.2,.5,.2],[-.2,.5,.2],[-.2,.2,.5],[.2,.2,.5]],[[.2,.2,.5],[-.2,.2,.5],[-.2,-.2,.5],[.2,-.2,.5]],[[-.2,-.2,.5],[.2,-.2,.5],[.2,-.5,.2],[-.2,-.5,.2]],[[-.5,-.2,-.2],[-.2,-.2,-.5],[-.2,.2,-.5],[-.5,.2,-.2]],[[.2,-.2,-.5],[.2,.2,-.5],[.5,.2,-.2],[.5,-.2,-.2]],[[.5,-.2,.2],[.5,.2,.2],[.2,.2,.5],[.2,-.2,.5]],[[-.2,-.2,.5],[-.2,.2,.5],[-.5,.2,.2],[-.5,-.2,.2]],[[.2,-.5,-.2],[.5,-.2,-.2],[.2,-.2,-.5]],[[.2,.2,-.5],[.5,.2,-.2],[.2,.5,-.2]],[[-.2,.2,-.5],[-.2,.5,-.2],[-.5,.2,-.2]],[[-.2,-.2,-.5],[-.2,-.5,-.2],[-.5,-.2,-.2]],[[.2,-.5,.2],[.5,-.2,.2],[.2,-.2,.5]],[[.2,.2,.5],[.5,.2,.2],[.2,.5,.2]],[[-.2,.2,.5],[-.2,.5,.2],[-.5,.2,.2]],[[-.2,-.2,.5],[-.2,-.5,.2],[-.5,-.2,.2]]],CUBOCTAHEDRON:[[[0,-.5,0],[.3,-.3,-.4],[.5,0,0],[.3,-.3,.4]],[[0,-.5,0],[-.3,-.3,-.4],[-.5,0,0],[-.3,-.3,.4]],[[0,.5,0],[.3,.3,-.4],[.5,0,0],[.3,.3,.4]],[[0,.5,0],[-.3,.3,-.4],[-.5,0,0],[-.3,.3,.4]],[[.3,-.3,-.4],[.3,.3,-.4],[-.3,.3,-.4],[-.3,-.3,-.4]],[[.3,-.3,.4],[.3,.3,.4],[.3,.3,-.4],[-.3,-.3,.4]],[[0,-.5,0],[-.3,-.3,-.4],[.3,-.3,-.4]],[[.5,0,0],[.3,-.3,-.4],[.3,.3,-.4]],[[0,.5,0],[.3,.3,-.4],[-.3,.3,-.4]],[[-.5,0,0],[-.3,-.3,-.4],[-.3,.3,-.4]],[[0,-.5,0],[-.3,-.3,.4],[.3,-.3,.4]],[[.5,0,0],[.3,-.3,.4],[.3,.3,.4]],[[0,.5,0],[.3,.3,.4],[-.3,.3,.4]],[[-.5,0,0],[-.3,-.3,.4],[-.3,.3,.4]]],ICOSAHEDRON:[[[0,0,-.5],[0,.5,-.2],[-.5,.1,-.2]],[[0,0,-.5],[-.5,.1,-.2],[-.3,-.4,-.2]],[[0,0,-.5],[-.3,-.4,-.2],[.3,-.4,-.2]],[[0,0,-.5],[.3,-.4,-.2],[.5,.1,-.2]],[[0,0,-.5],[.5,.1,-.2],[0,.5,-.2]],[[0,0,.5],[0,-.5,.2],[-.5,-.2,.2]],[[0,0,.5],[.5,-.2,.2],[0,-.5,.2]],[[0,0,.5],[.3,.4,.2],[.5,-.2,.2]],[[0,0,.5],[.3,.4,.2],[-.3,.4,.2]],[[0,0,.5],[-.3,.4,.2],[-.5,-.2,.2]],[[0,.5,-.2],[.3,.4,.2],[-.3,.4,.2]],[[-.5,.1,-.2],[-.3,.4,.2],[-.5,-.2,.2]],[[-.3,-.4,-.2],[-.5,-.2,.2],[0,-.5,.2]],[[.3,-.4,-.2],[0,-.5,.2],[.5,-.2,.2]],[[.5,.1,-.2],[.5,-.2,.2],[.3,.4,.2]],[[0,.5,-.2],[-.5,.1,-.2],[-.3,.4,.2]],[[-.5,.1,-.2],[-.3,-.4,-.2],[-.5,-.2,.2]],[[-.3,-.4,-.2],[.3,-.4,-.2],[0,-.5,.2]],[[.3,-.4,-.2],[.5,.1,-.2],[.5,-.2,.2]],[[.5,.1,-.2],[0,.5,-.2],[.3,.4,.2]]],DODECAHEDRON:[[[-.309,0,.4045],[-.0955,.2939,.4045],[.25,.1816,.4045],[.25,-.1816,.4045],[-.0955,-.2939,.4045]],[[-.4045,-.2939,-.0955],[-.5,0,.0955],[-.309,0,.4045],[-.0955,-.2939,.4045],[-.1545,-.4755,.0955]],[[-.4045,.2939,-.0955],[-.5,0,.0955],[-.309,0,.4045],[-.0955,.2939,.4045],[-.1545,.4755,.0955]],[[.1545,.4755,-.0955],[-.1545,.4755,.0955],[-.0955,.2939,.4045],[.25,.1816,.4045],[.4045,.2939,.0955]],[[.5,0,-.0955],[.4045,.2939,.0955],[.25,.1816,.4045],[.25,-.1816,.4045],[.4045,-.2939,.0955]],[[.1545,-.4755,-.0955],[.4045,-.2939,.0955],[.25,-.1816,.4045],[-.0955,-.2939,.4045],[-.1545,-.4755,.0955]],[[.4045,-.2939,.0955],[.5,0,-.0955],[.309,0,-.4045],[.0955,-.2939,-.4045],[.1545,-.4755,-.0955]],[[-.1545,-.4755,.0955],[.1545,-.4755,-.0955],[.0955,-.2939,-.4045],[-.25,-.1816,-.4045],[-.4045,-.2939,-.0955]],[[-.5,0,.0955],[-.4045,-.2939,-.0955],[-.25,-.1816,-.4045],[-.25,.1816,-.4045],[-.4045,.2939,-.0955]],[[-.1545,.4755,.0955],[-.4045,.2939,-.0955],[-.25,.1816,-.4045],[.0955,.2939,-.4045],[.1545,.4755,-.0955]],[[.4045,.2939,.0955],[.1545,.4755,-.0955],[.0955,.2939,-.4045],[.309,0,-.4045],[.5,0,-.0955]],[[.309,0,-.4045],[.0955,-.2939,-.4045],[-.25,-.1816,-.4045],[-.25,.1816,-.4045],[.0955,.2939,-.4045]]],TRUNCATED_ICOSAHEDRON:[[[0,.103,-.5],[.1667,.206,-.4363],[.103,.3727,-.3333],[-.103,.3727,-.3333],[-.1667,.206,-.4363]],[[0,-.103,-.5],[.1667,-.206,-.4363],[.103,-.3727,-.3333],[-.103,-.3727,-.3333],[-.1667,-.206,-.4363]],[[0,.103,.5],[.1667,.206,.4363],[.103,.3727,.3333],[-.103,.3727,.3333],[-.1667,.206,.4363]],[[0,-.103,.5],[.1667,-.206,.4363],[.103,-.3727,.3333],[-.103,-.3727,.3333],[-.1667,-.206,.4363]],[[0,.103,-.5],[0,-.103,-.5],[.1667,-.206,-.4363],[.3333,-.103,-.3727],[.3333,.103,-.3727],[.1667,.206,-.4363]],[[0,.103,-.5],[0,-.103,-.5],[-.1667,-.206,-.4363],[-.3333,-.103,-.3727],[-.3333,.103,-.3727],[-.1667,.206,-.4363]],[[0,.103,.5],[0,-.103,.5],[.1667,-.206,.4363],[.3333,-.103,.3727],[.3333,.103,.3727],[.1667,.206,.4363]],[[0,.103,.5],[0,-.103,.5],[-.1667,-.206,.4363],[-.3333,-.103,.3727],[-.3333,.103,.3727],[-.1667,.206,.4363]],[[.1667,-.206,-.4363],[.3333,-.103,-.3727],[.4363,-.1667,-.206],[.3727,-.3333,-.103],[.206,-.4363,-.1667],[.103,-.3727,-.3333]],[[.1667,-.206,.4363],[.3333,-.103,.3727],[.4363,-.1667,.206],[.3727,-.3333,.103],[.206,-.4363,.1667],[.103,-.3727,.3333]],[[-.1667,.206,-.4363],[-.3333,.103,-.3727],[-.4363,.1667,-.206],[-.3727,.3333,-.103],[-.206,.4363,-.1667],[-.103,.3727,-.3333]],[[-.1667,.206,.4363],[-.3333,.103,.3727],[-.4363,.1667,.206],[-.3727,.3333,.103],[-.206,.4363,.1667],[-.103,.3727,.3333]],[[-.1667,-.206,-.4363],[-.3333,-.103,-.3727],[-.4363,-.1667,-.206],[-.3727,-.3333,-.103],[-.206,-.4363,-.1667],[-.103,-.3727,-.3333]],[[-.1667,-.206,.4363],[-.3333,-.103,.3727],[-.4363,-.1667,.206],[-.3727,-.3333,.103],[-.206,-.4363,.1667],[-.103,-.3727,.3333]],[[.1667,.206,-.4363],[.3333,.103,-.3727],[.4363,.1667,-.206],[.3727,.3333,-.103],[.206,.4363,-.1667],[.103,.3727,-.3333],[.1667,.206,-.4363]],[[.1667,.206,.4363],[.3333,.103,.3727],[.4363,.1667,.206],[.3727,.3333,.103],[.206,.4363,.1667],[.103,.3727,.3333],[.1667,.206,.4363]],[[-.5,0,-.103],[-.4363,-.1667,-.206],[-.3333,-.103,-.3727],[-.3333,.103,-.3727],[-.4363,.1667,-.206]],[[-.5,0,.103],[-.4363,-.1667,.206],[-.3333,-.103,.3727],[-.3333,.103,.3727],[-.4363,.1667,.206]],[[.5,0,-.103],[.4363,-.1667,-.206],[.3333,-.103,-.3727],[.3333,.103,-.3727],[.4363,.1667,-.206]],[[.5,0,.103],[.4363,-.1667,.206],[.3333,-.103,.3727],[.3333,.103,.3727],[.4363,.1667,.206]],[[.103,-.5,0],[-.103,-.5,0],[-.206,-.4363,-.1667],[-.103,-.3727,-.3333],[.103,-.3727,-.3333],[.206,-.4363,-.1667]],[[.103,-.5,0],[-.103,-.5,0],[-.206,-.4363,.1667],[-.103,-.3727,.3333],[.103,-.3727,.3333],[.206,-.4363,.1667]],[[.103,.5,0],[-.103,.5,0],[-.206,.4363,-.1667],[-.103,.3727,-.3333],[.103,.3727,-.3333],[.206,.4363,-.1667]],[[.103,.5,0],[-.103,.5,0],[-.206,.4363,.1667],[-.103,.3727,.3333],[.103,.3727,.3333],[.206,.4363,.1667]],[[.103,-.5,0],[.206,-.4363,-.1667],[.3727,-.3333,-.103],[.3727,-.3333,.103],[.206,-.4363,.1667]],[[.103,.5,0],[.206,.4363,-.1667],[.3727,.3333,-.103],[.3727,.3333,.103],[.206,.4363,.1667]],[[-.103,-.5,0],[-.206,-.4363,-.1667],[-.3727,-.3333,-.103],[-.3727,-.3333,.103],[-.206,-.4363,.1667]],[[-.103,.5,0],[-.206,.4363,-.1667],[-.3727,.3333,-.103],[-.3727,.3333,.103],[-.206,.4363,.1667]],[[.3727,-.3333,-.103],[.3727,-.3333,.103],[.4363,-.1667,.206],[.5,0,.103],[.5,0,-.103],[.4363,-.1667,-.206]],[[.3727,.3333,-.103],[.3727,.3333,.103],[.4363,.1667,.206],[.5,0,.103],[.5,0,-.103],[.4363,.1667,-.206]],[[-.3727,-.3333,-.103],[-.3727,-.3333,.103],[-.4363,-.1667,.206],[-.5,0,.103],[-.5,0,-.103],[-.4363,-.1667,-.206]],[[-.3727,.3333,-.103],[-.3727,.3333,.103],[-.4363,.1667,.206],[-.5,0,.103],[-.5,0,-.103],[-.4363,.1667,-.206]]],STAR:[[[-.5,0,0],[-.1,-.1,.1],[-.1,-.1,-.1]],[[-.5,0,0],[-.1,-.1,.1],[-.1,.1,.1]],[[-.5,0,0],[-.1,.1,.1],[-.1,-.1,-.1]],[[-.5,0,0],[-.1,-.1,-.1],[-.1,.1,-.1]],[[.5,0,0],[.1,-.1,-.1],[.1,-.1,.1]],[[.5,0,0],[.1,-.1,.1],[.1,.1,.1]],[[.5,0,0],[.1,.1,.1],[.1,.1,-.1]],[[.5,0,0],[.1,-.1,-.1],[.1,.1,-.1]],[[0,0,.5],[.1,-.1,.1],[-.1,-.1,.1]],[[0,0,.5],[.1,-.1,.1],[.1,-.1,.1]],[[0,0,.5],[.1,.1,.1],[-.1,.1,.1]],[[0,0,.5],[-.1,-.1,.1],[-.1,.1,.1]],[[0,0,-.5],[-.1,-.1,-.1],[.1,-.1,-.1]],[[0,0,-.5],[.1,-.1,-.1],[.1,.1,-.1]],[[0,0,-.5],[.1,.1,-.1],[-.1,.1,-.1]],[[0,0,-.5],[-.1,-.1,-.1],[-.1,.1,-.1]],[[0,-.5,0],[-.1,-.1,-.1],[-.1,.1,.1]],[[0,-.5,0],[-.1,-.1,.1],[.1,-.1,.1]],[[0,-.5,0],[.1,-.1,-.1],[.1,-.1,.1]],[[0,-.5,0],[-.1,-.1,-.1],[.1,-.1,-.1]],[[0,.5,0],[-.1,.1,.1],[.1,.1,.1]],[[0,.5,0],[-.1,.1,-.1],[-.1,.1,.1]],[[0,.5,0],[-.1,.1,-.1],[.1,.1,-.1]],[[0,.5,0],[.1,.1,.1],[.1,.1,-.1]]],SMALL_STELLATED_DODECAHIDRON:[[[.0016,-0,.5],[-.1545,0,.2023],[-.0477,.1469,.2023]],[[.0016,-0,.5],[-.0477,.1469,.2023],[.125,.0908,.2023]],[[.0016,-0,.5],[.125,.0908,.2023],[.125,-.0908,.2023]],[[.0016,-0,.5],[.125,-.0908,.2023],[-.0477,-.1469,.2023]],[[.0016,-0,.5],[-.1545,0,.2023],[-.0477,-.1469,.2023]],[[-.0016,0,-.5],[.1545,0,-.2023],[.0477,-.1469,-.2023]],[[-.0016,0,-.5],[.0477,-.1469,-.2023],[-.125,-.0908,-.2023]],[[-.0016,0,-.5],[-.125,-.0908,-.2023],[-.125,.0908,-.2023]],[[-.0016,0,-.5],[-.125,.0908,-.2023],[.0477,.1469,-.2023]],[[-.0016,0,-.5],[.0477,.1469,-.2023],[.1545,0,-.2023]],[[.1389,-.4253,.2232],[.0772,-.2378,-.0478],[.2023,-.147,.0478]],[[.1389,-.4253,.2232],[.2023,-.147,.0478],[.125,-.0908,.2023]],[[.1389,-.4253,.2232],[.125,-.0908,.2023],[-.0477,-.1469,.2023]],[[.1389,-.4253,.2232],[-.0477,-.1469,.2023],[-.0773,-.2378,.0478]],[[.1389,-.4253,.2232],[.0772,-.2378,-.0478],[-.0773,-.2378,.0478]],[[-.1389,.4253,-.2232],[-.0772,.2378,.0478],[-.2023,.147,-.0478]],[[-.1389,.4253,-.2232],[-.2023,.147,-.0478],[-.125,.0908,-.2023]],[[-.1389,.4253,-.2232],[-.125,.0908,-.2023],[.0477,.1469,-.2023]],[[-.1389,.4253,-.2232],[.0477,.1469,-.2023],[.0773,.2378,-.0478]],[[-.1389,.4253,-.2232],[-.0772,.2378,.0478],[.0773,.2378,-.0478]],[[-.1389,-.4253,-.2232],[-.0773,-.2378,.0478],[.0772,-.2378,-.0478]],[[-.1389,-.4253,-.2232],[.0772,-.2378,-.0478],[.0477,-.1469,-.2023]],[[-.1389,-.4253,-.2232],[.0477,-.1469,-.2023],[-.125,-.0908,-.2023]],[[-.1389,-.4253,-.2232],[-.125,-.0908,-.2023],[-.2022,-.147,-.0478]],[[-.1389,-.4253,-.2232],[-.0773,-.2378,.0478],[-.2022,-.147,-.0478]],[[.1389,.4253,.2232],[.0773,.2378,-.0478],[-.0772,.2378,.0478]],[[.1389,.4253,.2232],[-.0772,.2378,.0478],[-.0477,.1469,.2023]],[[.1389,.4253,.2232],[-.0477,.1469,.2023],[.125,.0908,.2023]],[[.1389,.4253,.2232],[.125,.0908,.2023],[.2022,.147,.0478]],[[.1389,.4253,.2232],[.0773,.2378,-.0478],[.2022,.147,.0478]],[[.4479,0,.2221],[.25,0,-.0478],[.2022,.147,.0478]],[[.4479,0,.2221],[.2022,.147,.0478],[.125,.0908,.2023]],[[.4479,0,.2221],[.125,.0908,.2023],[.125,-.0908,.2023]],[[.4479,0,.2221],[.125,-.0908,.2023],[.2023,-.147,.0478]],[[.4479,0,.2221],[.25,0,-.0478],[.2023,-.147,.0478]],[[-.4479,-0,-.2221],[-.25,0,.0478],[-.2022,-.147,-.0478]],[[-.4479,-0,-.2221],[-.2022,-.147,-.0478],[-.125,-.0908,-.2023]],[[-.4479,-0,-.2221],[-.125,-.0908,-.2023],[-.125,.0908,-.2023]],[[-.4479,-0,-.2221],[-.125,.0908,-.2023],[-.2023,.147,-.0478]],[[-.4479,-0,-.2221],[-.25,0,.0478],[-.2023,.147,-.0478]],[[-.3611,-.2629,.2248],[-.2022,-.147,-.0478],[-.25,0,.0478]],[[-.3611,-.2629,.2248],[-.25,0,.0478],[-.1545,0,.2023]],[[-.3611,-.2629,.2248],[-.1545,0,.2023],[-.0477,-.1469,.2023]],[[-.3611,-.2629,.2248],[-.0477,-.1469,.2023],[-.0773,-.2378,.0478]],[[-.3611,-.2629,.2248],[-.0773,-.2378,.0478],[-.2022,-.147,-.0478]],[[.3611,.2629,-.2248],[.2022,.147,.0478],[.0773,.2378,-.0478]],[[.3611,.2629,-.2248],[.0773,.2378,-.0478],[.0477,.1469,-.2023]],[[.3611,.2629,-.2248],[.0477,.1469,-.2023],[.1545,0,-.2023]],[[.3611,.2629,-.2248],[.1545,0,-.2023],[.25,0,-.0478]],[[.3611,.2629,-.2248],[.2022,.147,.0478],[.25,0,-.0478]],[[.3611,-.2629,-.2248],[.2023,-.147,.0478],[.25,0,-.0478]],[[.3611,-.2629,-.2248],[.25,0,-.0478],[.1545,0,-.2023]],[[.3611,-.2629,-.2248],[.1545,0,-.2023],[.0477,-.1469,-.2023]],[[.3611,-.2629,-.2248],[.0477,-.1469,-.2023],[.0772,-.2378,-.0478]],[[.3611,-.2629,-.2248],[.2023,-.147,.0478],[.0772,-.2378,-.0478]],[[-.3611,.2629,.2248],[-.2023,.147,-.0478],[-.25,0,.0478]],[[-.3611,.2629,.2248],[-.25,0,.0478],[-.1545,0,.2023]],[[-.3611,.2629,.2248],[-.1545,0,.2023],[-.0477,.1469,.2023]],[[-.3611,.2629,.2248],[-.0477,.1469,.2023],[-.0772,.2378,.0478]],[[-.3611,.2629,.2248],[-.2023,.147,-.0478],[-.0772,.2378,.0478]]]},TTk.Enumeration("colour-band",[{k:"2-band",l:"Two"},{k:"3-band",l:"Three"},{k:"4-band",l:"Four"},{k:"5-band",l:"Five"},{k:"6-band",l:"Six"},{k:"7-band",l:"Seven"},{k:"8-band",l:"Eight"},{k:"9-band",l:"Nine"},{k:"10-band",l:"Ten"},{k:"11-band",l:"Eleven"},{k:"12-band",l:"Twelve"},{k:"continous",l:"Continous"}]),TTk.Enumeration("placement",[{k:"top",l:"Top"},{k:"left",l:"Left"},{k:"right",l:"Right"},{k:"bottom",l:"Bottom"}]);
},{"../core/ttk.js":103}],120:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");TTk.Projection={},TTk.Projection.Ortho3D=function(){var n=[0,0,0],r=function(n){return[n[0],n[1]]};return r.origin=function(t){return arguments.length?(n=t,r):n},r},TTk.Projection.Persp3D=function(){var n,r=[0,0,0],t=2e3,e=1,o=1.2,u=function(u){return n=o+u[2]/(t*e),[(u[0]-r[0])/n+r[0],(u[1]-r[1])/n+r[1]]};return u.origin=function(n){return arguments.length?(r=n,u):r},u.near=function(n){return arguments.length?(o=n,u):o},u.focal=function(n){return arguments.length?(t=n,u):t},u.focalFac=function(n){return arguments.length?(e=n,u):e},u};
},{"../core/ttk.js":103}],121:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");TTk.Scale=function(){var n,e,t=d3.scale.linear().domain([0,25]).range([150,650]),r=d3.scale.linear().domain([0,25]).range([150,650]),a=d3.scale.linear().domain([0,25]).range([250,0]),u=[],c=[],i=[0,0],l=[0,0],o=[0,0],g=function(n){return[t(n[0]),n.length<2?0:r(n[1]),n.length<3?0:a(n[2])]};g.getScales=function(){return[t,r,a]},g.usedTypes=function(){return e},g.getRanges=function(){return n};var d=function(n){var e=g.getScales(),t=g.usedTypes();n.forEach(function(n,r){var a=u[r]||("ordinal"===t[r]?"rangePoints":"range");"function"==typeof a?u[r](n):e[r][a](n)}),S()},f=function(){return[t?t.domain():null,r?r.domain():null,a?a.domain():null]},s=function(n){var e=g.getScales().map(TTk.Scale.declaredRange);t=n[0]?h(n[0],c[0]):t,r=n[1]?h(n[1],c[1]):r,a=n[2]?h(n[2],c[2]):a,T(),d(e)},h=function(n,e){if(e)return"utc"===e?d3.time.scale.utc().domain(n):d3.scale[e]().domain(n);switch(typeof n[0]){case"number":return d3.scale.linear().domain(n);case"string":return d3.scale.ordinal().domain(n);default:return d3.time.scale.utc().domain(n)}},T=function(){e=[m(t),m(r),m(a)]},m=function(n){return n.rangePoints?"ordinal":n.base?"log":n.invert(0)instanceof Date?"utc":"linear"},S=function(){n=[TTk.Scale.rangeExtent(t),TTk.Scale.rangeExtent(r),TTk.Scale.rangeExtent(a)],n[0][0]-=i[0],n[0][1]+=i[1],n[1][0]-=l[0],n[1][1]+=l[1],n[2][0]-=o[0],n[2][1]+=o[1],T()};return S(),g.x=function(n){return arguments.length?(t=n,S(),g):t},g.y=function(n){return arguments.length?(r=n,S(),g):r},g.z=function(n){return arguments.length?(a=n,S(),g):a},g.xPad=function(n){return arguments.length?(i=n,g):i},g.yPad=function(n){return arguments.length?(l=n,g):l},g.zPad=function(n){return arguments.length?(o=n,g):o},g.ranges=function(e){return arguments.length?(d(e),g):n},g.domains=function(n){return arguments.length?(s(n),g):f()},g.rangeFn=function(e){return arguments.length?(u=e,d(n),g):u},g.types=function(n){return arguments.length?(c=n,s(f()),g):c},g},TTk.Scale.declaredRange=function(n){var e=n.range();return[e[0],e[e.length-1]]},TTk.Scale.rangeExtent=function(n,e,t){arguments.length<3&&(t=!0);var r=n.range(),a=r[0],u=r[r.length-1];return n.categoric&&n.rangeExtent&&r.length>1&&(u+=(u-a)/(r.length-1)),1===r.length&&n.rangeExtent&&(r=n.rangeExtent(),a=r[0],u=r[r.length-1]),t&&a===u?0===a?[-1,1]:[a,2*a]:e&&a>u?[u,a]:[a,u]};
},{"../core/ttk.js":103,"d3":5}],122:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");TTk.Space={},TTk.Space.Cartesian=function(){var n=TTk.Scale(),t=function(n){return n};return t.getCentre=function(){var t=n.getRanges();return[t[0][0]+(t[0][1]-t[0][0])/2,t[1][0]+(t[1][1]-t[1][0])/2,t[2][0]+(t[2][1]-t[2][0])/2]},t.getOffset=function(n){return[0,n.height/2-400]},t.scale=function(e){return arguments.length?(n=e,t):n},t},TTk.Space.Cartesian2D=function(){var n=TTk.Space.Cartesian();return n.getOffset=function(n){return[0,0]},n},TTk.Space.Cylindrical=function(){var n=TTk.Scale(),t=function(n){return n},e=function(e){var r=n.getRanges(),a=t(e[0]),u=e[1]-r[1][0];return[u*Math.cos(a),u*Math.sin(a),e[2]]};e.CLASS="Cylindrical";var r=function(){var e=n.getRanges(),r=2*Math.PI/(e[0][1]-e[0][0]);t=function(n){return(n-e[0][0])*r}};return r(),e.getCentre=function(){var t=n.getRanges();return[0,0,t[2][0]]},e.getOffset=function(n){return[n.width/2,n.height/2]},e.scale=function(t){return arguments.length?(n=t,r(),e):n},e};
},{"../core/ttk.js":103}],123:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/math.js"),TTk.Transform3D=function(){var n=.3,t=Math.PI/4,r=1,e=[0,0,0],u=[0,0,0],c=[],o=function(n){return n=TTk.Vector.sub(n,u),n=[c[0]*n[0]+c[1]*(n[2]||0)+c[2]*n[1],c[3]*n[0]+c[4]*(n[2]||0)+c[5]*n[1],c[6]*n[0]+c[7]*(n[2]||0)+c[8]*n[1]],n=TTk.Vector.scale(n,r),n=TTk.Vector.add(n,e),n=TTk.Vector.add(n,u)},a=function(){var r=Math.cos(n),e=Math.sin(n),u=Math.cos(t),o=Math.sin(t);c[0]=u,c[1]=0,c[2]=o,c[3]=e*o,c[4]=r,c[5]=-e*u,c[6]=-o*r,c[7]=e,c[8]=r*u};return a(),o.origin=function(n){return arguments.length?(u=n,o):u},o.pitch=function(t){return arguments.length?(n=t,a(),o):n},o.yaw=function(n){return arguments.length?(t=n,a(),o):t},o.scale=function(n){return arguments.length?(r=n,o):r},o.translate=function(n){return arguments.length?(e=n,o):e},o},TTk.Transform2D=function(){return TTk.Transform3D().pitch(Math.PI/2).yaw(0)},TTk.TransformSimple=function(){var n=0,t=0,r=1,e=[0,0,0],u=[0,0,0],c=function(n){return n=TTk.Vector.scale(n,r),n=TTk.Vector.add(n,e)};return c.origin=function(n){return arguments.length?(u=n,c):u},c.pitch=function(t){return arguments.length?(n=t,c):n},c.yaw=function(n){return arguments.length?(t=n,c):t},c.scale=function(n){return arguments.length?(r=n,c):r},c.translate=function(n){return arguments.length?(e=n,c):e},c};
},{"../core/math.js":82,"../core/ttk.js":103}],124:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/math.js"),_dereq_("./context-scale.js"),_dereq_("./context-space.js"),_dereq_("./context-transform.js"),_dereq_("./context-project.js"),TTk.Context=function(){var n=TTk.Space.Cartesian(),e=TTk.Transform3D(),t=TTk.Projection.Persp3D(),r=[600,400],a=[0,0],c=function(r){return r=n.scale()(r),r=n(r),r=e(r),r=t(r),r=TTk.Vector.add(r,a)},o=function(){s(),u()},s=function(){var r=n.getCentre();e.origin(r),t.origin(r)},u=function(){a=n.getOffset(r)};return o(),c.stage1=function(e){return e=n.scale()(e),e=n(e)},c.stage1b=function(n){return n=e(n),n=t(n),n=TTk.Vector.add(n,a)},c.stage2=function(t){return t=n.scale()(t),t=n(t),t=e(t)},c.stage2b=function(n){return n=t(n),n=TTk.Vector.add(n,a)},c.applyScale=function(e){return e=n.scale()(e)},c.noScale=function(r){return r=n(r),r=e(r),r=t(r),r=TTk.Vector.add(r,a)},c.applyOffset=function(n){return n=TTk.Vector.add(n,a)},c.applyTrans=function(n){return n=e(n)},c.x=function(e){return arguments.length?(n.scale().x(e),o(),c):n.scale().x()},c.y=function(e){return arguments.length?(n.scale().y(e),o(),c):n.scale().y()},c.z=function(e){return arguments.length?(n.scale().z(e),o(),c):n.scale().z()},c.scale=function(e){return arguments.length?(n.scale(e),o(),c):n.scale()},c.space=function(e){return arguments.length?(e.scale(n.scale()),n=e,o(),c):n},c.transform=function(n){return arguments.length?(e=n,s(),c):e},c.projection=function(n){return arguments.length?(t=n,s(),c):t},c.screen=function(n){return arguments.length?(r=n,u(),c):r},c},TTk.Context2D=function(){var n=TTk.Context().projection(TTk.Projection.Ortho3D()).transform(TTk.Transform2D()).space(TTk.Space.Cartesian2D()).z(d3.scale.linear());return n},TTk.ContextSimple=function(){var n=TTk.Context().projection(TTk.Projection.Ortho3D()).transform(TTk.TransformSimple()).space(TTk.Space.Cartesian2D()).x(d3.scale.linear()).y(d3.scale.linear()).z(d3.scale.linear());return n},TTk.GhostContext=function(n){var e=TTk.Transform3D(),t=function(t){var r=n.transform();return n.transform(e),t=n(t),n.transform(r),t};return["stage1","stage1b","stage2","stage2b","applyScale","noScale","applyOffset"].forEach(function(r){t[r]=function(t){var a=n.transform();return n.transform(e),t=n[r](t),n.transform(a),t}}),t.transform=function(n){return arguments.length?(e=n,t):e},TTk.Utils.copyGetSet(["x","y","z","scale","space","projection","screen"],t,n),t};
},{"../core/math.js":82,"../core/ttk.js":103,"./context-project.js":120,"./context-scale.js":121,"./context-space.js":122,"./context-transform.js":123}],125:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/math.js"),_dereq_("../core/number.js"),_dereq_("../core/utils.js"),_dereq_("../core/stylesheet.js"),_dereq_("./shape-element.js"),_dereq_("./shape-multi.js"),TTk.Grid3D=function(){var n=TTk.Visual.MultiVisual(),e=TTk.Visual.SingleVisual(),t=TTk.Visual.SingleVisual(),i=TTk.Visual.SingleVisual(),r=TTk.Grid3D.Grid.X_FLOOR,a=TTk.Shape.Element().tag("line").cls(TTk.Grid3D.CSS_PREFIX+"axis").coords([["x1","y1"],["x2","y2"]]).contextFn("noScale");t.shape(a);var u,s=[0,1],o=!0,l=TTk.Shape.Text().cls(TTk.Grid3D.CSS_PREFIX+"label").html(!1).align([.5,.5]).contextFn("noScale").text(TTk.identity).style(function(n){var e=c?"function"==typeof c?c(n):Object.assign({},c):{};return d&&(e["font-size"]=("function"==typeof d?d(n):d)+"px"),e});i.shape(l);var c,T=50,d=13,f=!0,k=!1,h=TTk.Shape.Multi().zSort(!1).cls(TTk.Grid3D.CSS_PREFIX+"tick");e.shape(h);var g,p,S,v,x,F,_,G,y=TTk.Shape.Element().cls(TTk.Shape.CSS_PREFIX+"elm").dataModify(function(n){return n.d}).tag("line").coords([["x1","y1"],["x2","y2"]]).contextFn("noScale"),L=5,O=12,R=TTk.Shape.Text().contextFn("noScale").point(function(n){return n.d[2]}).html(!1).style(function(n){n=n.d;var e=g?"function"==typeof g?g(n):Object.assign({},g):{};return O&&(e["font-size"]=("function"==typeof O?O(n):O)+"px"),e}).text(function(n){o&&void 0!==n.d.key&&""!==n.d.key?x(n.d.key,n.iSel):"";return o&&void 0!==n.d.key&&""!==n.d.key?x(n.d.key,n.iSel):""}),C=10,m=8,D=!1,b=[!1,!1],V=TTk.Shape.Box().cls(TTk.Grid3D.CSS_PREFIX+"serif-bottom").width(3).height(3).offset([0,0]).contextFn("noScale").point(function(n){return n.d[0]}),X=TTk.Shape.Box().cls(TTk.Grid3D.CSS_PREFIX+"serif-top").width(3).height(3).offset([0,0]).contextFn("noScale").point(function(n){return n.d[1]}),E=TTk.identity,Z=[],w=function(t){var i,a=TTk.Vector,u=n.context();_=w.axis(),G=w.axisScale(),F="Cylindrical"===u.space().CLASS;var s=a.sub(r[2],r[0]),o=u.applyTrans(r[0]),l=u.applyTrans(r[2]),c=a.sub(l,o),T=u.applyTrans(a.add(r[0],r[3])),i=a.sub(T,o),d=u.applyTrans(r[1]),f=a.sub(d,o);if(v=!1,D&&(r[3][2]&&(v=c[1]>0),(r[3][0]||r[3][1])&&(v=s[2]?i[1]>=0:i[1]>0||c[1]>0||1===f[1]&&c[0]<=0),v=v||0===f[0]&&0===f[1]),!R.orient()){var k=c[0]>0,h=0===c[0],g=r[3][2]<0&&0===i[0]&&0===i[2],y=[k?0:h?.5:1,g?1.5:.5];R.align(y)}I();var O="function"==typeof L?L():L,C=G.ticks?G.ticks.apply(G,[O]):G.domain();F&&(a.sub(r[1],r[0])[1]?C=[]:r[0][1]||r[2][1]?0===_&&C.pop():C=[]);var m=C.map(z);if(G.categoric&&B(m),e.data(m),!F||0!==_&&2!==_||r[0][1]){if(x=S||(G.ticks?G.tickFormat.apply(G,[O]):function(n){return n}),p){var b=x;x=function(n,e){return p(n,e)===!1?"":b(n,e)}}}else x=function(){return""};return n(t)},z=function(e,t){var i,a,u=n.context(),s=TTk.Vector,o=s.sub(r[2],r[0]),l=s.sub(r[1],r[0]),c=u.scale().ranges(),T=c[0],d=c[1],k=c[2],h=c[_],g=function(n){return[T[0]+n[0]*(T[1]-T[0]),d[0]+n[1]*(d[1]-d[0]),k[0]+n[2]*(k[1]-k[0])]},p=s.mag(g(o)),S=r[2],v=s.scale(l,G(e)-h[0]);if(!F||r[0][1]||r[1][1]){var x=m;"function"==typeof x&&(x=x()),i=g(s.sub(r[0],s.scale(o,C/p))),a=g(s.sub(r[0],s.scale(o,(C+x)/p)))}else i=g(r[0]),a=i;var y=[s.add(i,v),s.add(g(f?S:r[0]),v),s.add(a,v)];return y.key=e,y},B=function(e){var t=n.context();if(0!==e.length){var i=TTk.Vector,r=e[0],a=e[e.length-1],u=t.scale().ranges(),a=TTk.Object.clone(a);a[0][_]=u[_][1],a[1][_]=u[_][1],a[2][_]=u[_][1],e.push(a),r[0][_]=u[_][0],r[1][_]=u[_][0],r[2][_]=u[_][0];for(var s=1;s<e.length;s++)r=e[s-1][2],a=e[s][2],e[s-1][2]=i.add(r,i.scale(i.sub(a,r),.5))}},I=function(){var e=n.context();if(e){var i=TTk.Vector,a=i.sub(r[2],r[0]),u=(i.sub(r[1],r[0]),e.x(),e.y(),e.z(),e.scale().ranges()),o=u[0],l=u[1],c=u[2],T=function(n){return[o[0]+n[0]*(o[1]-o[0]),l[0]+n[1]*(l[1]-l[0]),c[0]+n[2]*(c[1]-c[0])]},d="function"==typeof s?s():s;Z=d.map(function(n,e){var t=i.scale(a,n),u=[i.add(r[0],t),i.add(r[1],t)];return u=u.map(T),u.key=""+e,u}),F&&0===_&&Z.length>1&&(Z=Y(Z[r[0][1]?0:1],30)),t.data(Z),A()}},Y=function(n,e){var t,i,r=TTk.Vector,a=n[0],u=r.sub(n[1],a),s=[];t=a;for(var o=0;o<=e;o++){i=r.add(a,r.scale(u,o/e));var n=[t,i];n.key=o,s.push(n),t=i}return s},A=function(){l.orient(TTk.Vector.sub(r[1],r[0])),i.data(u?[u]:[])};A();var K=function(){var e=n.context();if(e){var t=TTk.Vector,i=t.add(r[0],t.scale(t.sub(r[1],r[0]),.5)),a=t.sub(r[2],r[0]),u=(e.x(),e.y(),e.z(),e.scale().ranges()),s=u[0],o=u[1],l=u[2],c=function(n){return[s[0]+n[0]*(s[1]-s[0]),o[0]+n[1]*(o[1]-o[0]),l[0]+n[2]*(l[1]-l[0])]},d="function"==typeof T?T():T,f=t.mag(c(a));return c(t.add(i,t.scale(a,-d/f)))}};l.point(K),w.axis=function(n){var n=n||TTk.Vector.sub(r[1],r[0]);return TTk.Vector.axis(n)},w.axisScale=function(e){return n.context().scale().getScales()[w.axis(e)]};var j=function(n){return{visibility:v?"hidden":""}},P=function(){var r=[t,e,i];r.forEach(function(n){n.sort(!1).style(j)}),n.visuals(r)};P();var H=function(){var n=[y,R];b[0]&&n.push(V),b[1]&&n.push(X),h.shapes(n)};H();var N=function(){a.transition(E),l.transition(E),h.transition(E)};return w.grid=function(n){return arguments.length?(r=n,w):r},w.axisVisual=function(n){return arguments.length?(t=n,P(),w):t},w.axisLine=function(n){return arguments.length?(a=n,w):a},w.axisLines=function(n){return arguments.length?(s=n,w):s},w.axisText=function(n){return arguments.length?(u=n,A(),w):u},w.axisLabel=function(n){return arguments.length?(l=n,A(),w):l},w.labelVisual=function(n){return arguments.length?(i=n,P(),w):i},w.labelSpacing=function(n){return arguments.length?(T=n,w):T},w.labelStyle=function(n){return arguments.length?(c=n,w):c},w.labelSize=function(n){return arguments.length?(d=n,w):d},w.showValues=function(n){return arguments.length?(o=n,w):o},w.showLines=function(n){return arguments.length?(f=n,w):f},w.disks=function(n){return arguments.length?(k=n,w):k},w.hideNear=function(n){return arguments.length?(D=n,w):D},w.tickVisual=function(n){return arguments.length?(e=n,P(),w):e},w.tickLine=function(n){return arguments.length?(y=n,H(),w):y},w.tickCount=function(n){return arguments.length?(L=n,w):L},w.tickSize=function(n){return arguments.length?(C=n,w):C},w.serifs=function(n){return arguments.length?(b=n,H(),w):b},w.serifTop=function(n){return arguments.length?(V=n,H(),w):V},w.serifBottom=function(n){return arguments.length?(X=n,H(),w):X},w.valueSpacing=function(n){return arguments.length?(m=n,w):m},w.valueStyle=function(n){return arguments.length?(g=n,w):g},w.valueSize=function(n){return arguments.length?(O=n,w):O},w.valueFilter=function(n){return arguments.length?(p=n,w):p},w.valueFormat=function(n){return arguments.length?(S=n,w):S},w.valueLabel=function(n){return arguments.length?(R=n,w):R},w.transition=function(n){return arguments.length?(E=n,N(),w):E},TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","data","index","genKey","context","hilight","size","autoScale","resizeRender","clip"],w,n),w},TTk.Grid3D.CSS_PREFIX=TTk.CSS_PREFIX+"grid-",TTk.Grid3D.GridSet=function(){var n,e,t=TTk.Visual.MultiVisual().genKey(null),i=[],r=[],a=function(a){var u=e?e.hiData():null,s=t.visuals();return s.forEach(function(e){e.hideNear(n);var t=e.axis();i[t]&&(u&&u.length?e.valueFilter(function(n){var e="";return u.some(function(i){if(n===i[t])return e=n,!0}),e}):e.valueFilter(i[t])),r[t]&&e.tickLine().style(r[t])}),t(a)};return a.grids=function(n){return arguments.length?(t.visuals(n),a):t.visuals()},a.adaptive=function(e){return arguments.length?(n=e,a):n},a.hilight=function(n){return arguments.length?(e=n,a):e},a.valueFilters=function(n){return arguments.length?(i=n,a):i},a.lineStyles=function(n){return arguments.length?(r=n,a):r},TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","data","index","genKey","context","hilight","size","autoScale","resizeRender","clip"],a,t),a},TTk.Grid3D.XY=function(){var n=TTk.Grid3D.GridSet(),e=TTk.Grid3D.Grid,t=[e.X_FLOOR,e.Y_FLOOR2].map(function(n){return TTk.Grid3D().grid(n)});return n.grids(t),n},TTk.Grid3D.Floor=function(){var n=TTk.Grid3D.GridSet(),e=TTk.Grid3D.Grid,t=[e.X_FLOOR,e.Y_FLOOR,e.X_FLOOR2,e.Y_FLOOR2].map(function(n){return TTk.Grid3D().grid(n)});return n.grids(t).adaptive(!0),n},TTk.Grid3D.Minimal=function(){var n=TTk.Grid3D.GridSet(),e=TTk.Grid3D.Grid,t=[e.X_BACK,e.Z_BACK,e.Y_LEFT,e.Z_LEFT,e.X_FLOOR,e.Y_FLOOR].map(function(n){return TTk.Grid3D().grid(n)});return t[0].axisLines([0]).showValues(!1).showLines(!1).tickSize(0),t[2].axisLines([0]).showValues(!1).showLines(!1).tickSize(0),t[3].axisLines([0]),t[4].showLines(!1),t[5].showLines(!1),t[1].valueFilter(function(n,e){return 0!==e}),t[3].valueFilter(function(n,e){return 0!==e}),n.grids(t),n},TTk.Grid3D.HalfBox=function(){var n=TTk.Grid3D.GridSet(),e=TTk.Grid3D.Grid,t=[e.X_BACK,e.Z_BACK,e.Y_LEFT,e.Z_LEFT,e.X_FLOOR,e.Y_FLOOR].map(function(n){return TTk.Grid3D().grid(n)});return t[0].axisLines([0]),t[2].axisLines([0]),t[3].axisLines([0]),t[0].valueFilter(function(n,e){return 0!==e}),t[1].valueFilter(function(n,e){return 0!==e}),t[3].valueFilter(function(n,e){return 0!==e}),n.grids(t),n},TTk.Grid3D.FullBox=function(){var n=TTk.Grid3D.GridSet(),e=TTk.Grid3D.Grid,t=[e.X_BACK,e.X_FRONT,e.Y_LEFT,e.Y_RIGHT,e.Z_BACK,e.Z_BACK2,e.Z_FRONT,e.Z_FRONT2,e.Z_LEFT,e.Z_LEFT2,e.Z_RIGHT,e.Z_RIGHT2,e.X_FLOOR,e.Y_FLOOR,e.X_FLOOR2,e.Y_FLOOR2].map(function(n){return TTk.Grid3D().grid(n)});return t[0].axisLines([]).showValues(!1).tickSize(0),t[1].axisLines([]).showValues(!1).tickSize(0),t[2].axisLines([]).showValues(!1).tickSize(0),t[3].axisLines([]).showValues(!1).tickSize(0),n.grids(t),n},TTk.Grid3D.Grid={X_BACK:[[0,1,1],[1,1,1],[0,1,0],[0,1,0]],Z_BACK:[[1,1,0],[1,1,1],[0,1,0],[0,1,0]],Z_BACK2:[[0,1,0],[0,1,1],[1,1,0],[0,1,0]],X_FRONT:[[0,0,0],[1,0,0],[0,0,1],[0,-1,0]],Z_FRONT:[[0,0,0],[0,0,1],[1,0,0],[0,-1,0]],Z_FRONT2:[[1,0,0],[1,0,1],[0,0,0],[0,-1,0]],Y_LEFT:[[0,0,1],[0,1,1],[0,0,0],[-1,0,0]],Z_LEFT:[[0,0,0],[0,0,1],[0,1,0],[-1,0,0]],Z_LEFT2:[[0,1,0],[0,1,1],[0,0,0],[-1,0,0]],Y_RIGHT:[[1,0,0],[1,1,0],[1,0,1],[1,0,0]],Z_RIGHT:[[1,0,0],[1,0,1],[1,1,0],[1,0,0]],Z_RIGHT2:[[1,1,0],[1,1,1],[1,0,0],[1,0,0]],X_FLOOR:[[0,0,0],[1,0,0],[0,1,0],[0,0,-1]],Y_FLOOR:[[1,0,0],[1,1,0],[0,0,0],[0,0,-1]],X_FLOOR2:[[0,1,0],[1,1,0],[0,0,0],[0,0,-1]],Y_FLOOR2:[[0,0,0],[0,1,0],[1,0,0],[0,0,-1]],X_CEIL:[[0,0,1],[1,0,1],[0,1,1],[0,0,1]],Y_CEIL:[[1,0,1],[1,1,1],[0,0,1],[0,0,1]]},TTk.Grid3D.Radial=function(){var n=TTk.Grid3D.GridSet(),e=TTk.Grid3D.Grid,t=[e.Z_RIGHT2,e.X_FLOOR2].map(function(n){return TTk.Grid3D().grid(n)});return t[1].tickCount(36),n.grids(t),n},TTk.BGGrid=function(){var n=8,e="#111",t=1,i=function(i){var r=i.node().getBoundingClientRect(),a=r.width,u=r.height,s=d3.scale.linear().domain([0,1]).range([0,a]),o=d3.scale.linear().domain([0,1]).range([u,0]),l=TTk.CSS_PREFIX+"vGrid";i.selectAll("line."+l).data(s.ticks(n)).enter().append("line").attr({class:l,y1:0,y2:u,x1:function(n){return s(n)},x2:function(n){return s(n)},fill:"none","shape-rendering":"crispEdges",stroke:e,"stroke-width":t+"px"});var c=TTk.CSS_PREFIX+"hGrid";i.selectAll("line."+c).data(o.ticks(n)).enter().append("line").attr({class:c,x1:0,x2:a,y1:function(n){return o(n)},y2:function(n){return o(n)},fill:"none","shape-rendering":"crispEdges",stroke:e,"stroke-width":t+"px"})};return i.ticks=function(e){return arguments.length?(n=e,i):n},i.color=function(n){return arguments.length?(e=n,i):e},i.weight=function(n){return arguments.length?(t=n,i):t},i},TTk.StyleSheet.set(".ttk-grid-axis",{stroke:"#CCC8CB","stroke-width":1,fill:"none"}),TTk.StyleSheet.set(".ttk-grid-tick line",{stroke:"#CCC8CB","stroke-width":1}),TTk.StyleSheet.set(".ttk-grid-tick text",{fill:"#878C90","font-size":"12px"}),TTk.StyleSheet.set(".ttk-grid-label",{fill:"#878C90","font-size":"13px"});
},{"../core/math.js":82,"../core/number.js":89,"../core/stylesheet.js":99,"../core/ttk.js":103,"../core/utils.js":106,"./shape-element.js":130,"./shape-multi.js":131}],126:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("../core/object.js"),_dereq_("./interact.js"),TTk.Interact.Hilight=function(){var n,e,t,r,l,i,u,o,c=!0,a=!0,f=!1,d=function(n,e){return n===e},s=function(n){return n.key},h=150,g=d3.dispatch("change","high","fade"),T={},v={},m={},k="hilight"+TTk.Interact.Hilight.count++,p=null,I=function(n){return n.node()},H=function(n,e){for(var t in n)t in T&&T[t].nodes.forEach(e)},S=function(n){if("string"==typeof n){var e=n;n={},n[e]=!0}var t=[];for(var e in n)e in T&&T[e].nodes.forEach(function(n){t.push(d3.select(n).datum(T[e].data))});return t},E=function(n){var e=[];for(var t in n)t in T&&T[t].nodes.length&&e.push(T[t].data);return e},C=function(e){t=null,r=null,e.each(function(){var n=d3.select(this),e=n.data()[0],t=n.node(),r=T[s(e)]||(T[s(e)]={});r.data=e,r.nodes=r.nodes||[],r.nodes.indexOf(t)===-1&&r.nodes.push(t)}),c&&e.on("mouseover."+k,A).on("mouseout."+k,N),a&&e.on("click."+k,O),n&&D(e)};C.removeSel=function(n,e){if(t=null,r=null,!n)return H(T,function(n){y(n)}),T={},void C.clear(e);var l=[];n.each(function(){var n=d3.select(this),e=n.data()[0],t=T[s(e)];if(t){y(n);var r=t.nodes.indexOf(n.node());r!==-1&&t.nodes.splice(r,1),t.nodes.length||l.push(e)}}),l.length&&(C.removeAll(l,e),l.forEach(function(n){delete T[s(n)]}))};var y=function(n){n=n.node?n:d3.select(n),n.on("mouseover."+k,null).on("mouseout."+k,null).on("click."+k,null)};C.on=function(n,e){return g.on(n,e),C},C.isHigh=function(n){return m[s(n)]},C.isEmpty=function(){return TTk.Object.isEmpty(m)},C.allNodes=function(){return t||(t=S(T))},C.prmNodes=function(){return l||(l=S(v))},C.hiNodes=function(){return u||(u=S(m))},C.allData=function(){return r||(r=E(T))},C.prmData=function(){return i||(i=E(v))},C.hiData=function(){return o||(o=E(m))};var A=function(){if(!(!c||v.length&&f)){var n=d3.select(this),e=s(n.data()[0]);if(j(),!v[e]&&!m[e]){var t=[n],r=C.prmNodes().concat(t);R(r,t,[],TTk.Interact.Hilight.Source.HOVER)}}},N=function(){if(!(!c||v.length&&f)){var n=d3.select(this),t=s(n.data()[0]);j(),v[t]||R(C.prmNodes(),[],[n],TTk.Interact.Hilight.Source.HOVER,h,e?function(){return e(t)}:null)}},O=function(){if(a){var n=d3.select(this),e=n.data()[0];!TTk.Object.isEmpty(v)&&f?C.clear():d3.event.shiftKey||d3.event.ctrlKey?C.toggle(e,TTk.Interact.Hilight.Source.CLICK):C.setOrToggle(e,TTk.Interact.Hilight.Source.CLICK)}};C.toggle=function(n,e){L(!0,!1,n,e)},C.add=function(n,e){L(!1,!1,n,e)},C.remove=function(n,e){L(null,!1,n,e,!0)},C.removeAll=function(n,e){var t={};n.forEach(function(n){v[s(n)]&&(t[s(n)]=!0,delete v[s(n)],l=null,i=null)}),R(C.prmNodes(),[],S(t),e)},C.set=function(n,e){L(!1,!0,n,e)},C.setOrToggle=function(n,e){L(!0,!0,n,e)},C.clear=function(n){L(null,!0,null,n)};var L=function(n,e,t,r,u){var o=t?v[s(t)]:null,c=[],a=[];if(e)if(o){var f=v;v={},l=null,i=null,n?a=C.prmNodes():(v[s(t)]=!0,delete f[s(t)],a=S(f))}else a=C.prmNodes(),v={},l=null,i=null,t&&T[s(t)]&&(v[s(t)]=!0,c=C.prmNodes());else o?(n||u)&&(l=null,i=null,delete v[s(t)],a=S(s(t))):u||T[s(t)]&&(l=null,i=null,v[s(t)]=!0,c=S(s(t)));R(C.prmNodes(),c,a,r)},D=function(e){var t,r,u={},o={},c="function"!=typeof n,a=function(e){t=c?n:n(e),r=v[s(e)],!r&&t&&(u[s(e)]=!0,v[s(e)]=!0,l=null,i=null),r&&!t&&(o[s(e)]=!0,delete v[s(e)],l=null,i=null)};if(e)e.each(function(){a(d3.select(this).data()[0])});else for(var f in T)a(T[f].data);u=S(u),o=S(o),R(C.prmNodes(),u,o,TTk.Interact.Hilight.Source.APPLY)},R=function(n,e,t,r,l,i){var c=function(){if(!i||i()){m={},u=null,o=null,n.forEach(function(n){m[s(n.data()[0])]=!0}),r=r||TTk.Interact.Hilight.Source.DIRECT,(e.length||t.length)&&g.change({hilighted:n,added:e,removed:t,source:r});for(var l in T)T[l].nodes.forEach(function(e){d3.select(e).classed(TTk.Interact.Hilight.CLASS_FADE,!m[l]&&n.length>0),d3.select(e).classed(TTk.Interact.Hilight.CLASS_HIGH,m[l])});if(t.length){var c=d3.selectAll(t.map(I));g.fade(c)}if(e.length){var c=d3.selectAll(e.map(I));g.high(c)}}};j(),l?p=setTimeout(c,l):c()},j=function(){p&&(clearTimeout(p),p=null)};return C.equals=function(n){return arguments.length?(d=n,C):d},C.keyFn=function(n){return arguments.length?(s=n,C):s},C.mouseDelay=function(n){return arguments.length?(h=n,C):h},C.verifyOut=function(n){return arguments.length?(e=n,C):e},C.hover=function(n){return arguments.length?(c=n,C):c},C.click=function(n){return arguments.length?(a=n,C):a},C.unclick=function(n){return arguments.length?(f=n,C):f},C.apply=function(e){return arguments.length?(n=e,D(),C):n},C},TTk.Interact.Hilight.count=0,TTk.Interact.Hilight.Source={HOVER:"hover",CLICK:"click",APPLY:"apply",DIRECT:"direct"},TTk.Interact.Hilight.CLASS_HIGH=TTk.CSS_PREFIX+"high",TTk.Interact.Hilight.CLASS_FADE=TTk.CSS_PREFIX+"fade";
},{"../core/object.js":90,"../core/ttk.js":103,"./interact.js":129,"d3":5}],127:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var d3ease=_dereq_("d3-ease"),TTk=_dereq_("../core/ttk.js");_dereq_("../core/math.js"),_dereq_("./interact.js"),TTk.Interact.MouseWheel=function(){var e,n="ttkwheel",t=d3.dispatch("wheel"),r="onwheel"in document?(e=function(){return d3.event.deltaY*(d3.event.deltaMode?120:1)},"wheel"):"onmousewheel"in document?(e=function(){return-d3.event.wheelDelta},"mousewheel"):(e=function(){return d3.event.detail},"MozMousePixelScroll"),o=function(e){e.on(r+"."+n,a)};o.detach=function(e){e.on(r+"."+n,null)};var a=function(){var n=e();t.wheel({delta:n})};return o.on=function(e,n){return t.on(e,n),o},o.namespace=function(e){return arguments.length?(n=e,o):n},o},TTk.Interact.Drag=function(){var e,n,t,r,o,a,c,i,d,u,l="ttkdrag",f=5,s=30,h=500,v=d3ease.easeQuadOut,g=d3.dispatch("drag","dragstart","dragend","click"),T=function(n){if(d3.event=d3.event||{x:0,y:0},t=[d3.event.x,d3.event.y],!e)return e=a=t,void(r=o=Date.now());if(TTk.Vector.dist(e,t)>=f){c||g.dragstart.call(this,n),c=!0,g.drag.call(this,n);var i=Date.now();i-o>100&&(r=o,e=a,o=i,a=t)}},k=function(e){},x=function(r){n=e,e=null,a=null,o=null,c?(c=!1,h?m.call(this,r):g.dragend.call(this,r)):(d3.event=i||{},d3.event.x=t[0],d3.event.y=t[1],g.click.call(this,r))},m=function(o){var a=this;if(!e){var c=Date.now();if(n)d=TTk.Vector.sub(t,n),d=TTk.Vector.scale(d,s/Math.max(10,c-r)),u=TTk.Vector.mag(d)*h/20,r=c,n=null;else{var i=(c-r)/u;if(i>1)return void g.dragend.call(a,o);var l=1-v(i),f=TTk.Vector.scale(d,l),T=TTk.Vector.add(t,f);d3.event={x:T[0],y:T[1],dx:f[0],dy:f[1]},g.drag.call(a,o)}setTimeout(m.bind(a),s,o)}},p=d3.behavior.drag().on("drag."+l,T).on("dragstart."+l,k).on("dragend."+l,x),w=function(e){e.call(p),e.on("mousedown."+l,function(){i={};for(var e in d3.event)"webkitMovementX"!==e&&"webkitMovementY"!==e&&(i[e]=d3.event[e]);t=[i.x,i.y]})};return w.detach=function(e){e.on(".drag",null),e.on("mousedown."+l,null)},w.on=function(e,n){return g.on(e,n),w},w.namespace=function(e){return arguments.length?(l=e,w):l},w.threshold=function(e){return arguments.length?(f=e,w):f},w.period=function(e){return arguments.length?(s=e,w):s},w.easePeriod=function(e){return arguments.length?(h=e,w):h},w.origin=function(e){return arguments.length?(p.origin(e),w):p.origin()},w.base=function(e){return arguments.length?(p.base(e),w):p.base()},w},TTk.Interact.ForceNet=function(){var e,n,t,r,o,a=!0,c=.03,i=.01,d=TTk.Interact.Drag().namespace("force").easePeriod(0).on("dragstart.force",function(e){e.forceNode.fixed|=2}).on("drag.force",function(e){var o=r.translate(),a=n.invert(d3.event.x-o[0]),c=t.invert(d3.event.y-o[1]);e.forceNode.px=a,e.forceNode.py=c,u()}).on("dragend.force",function(e){e.forceNode.fixed=!!a||e.forceNode.fixed&-7}).on("click.force",function(e){a&&e.forceNode.fixed&&(e.forceNode.fixed=!1,u())}),u=function(){e.alphaThreshold(i),e.layout().alpha(c)},l=function(a){e=a,e.nodes().enter(function(e){e.call(d)}),n=e.context().x(),t=e.context().y(),r=e.context().transform(),o=e.alphaThreshold(),e.layout().on("end.interact",function(){e.alphaThreshold(o)})};return l.drag=function(e){return arguments.length?(d=e,l):d},l.pinNodes=function(e){return arguments.length?(a=e,l):a},l.startAlpha=function(e){return arguments.length?(c=e,l):c},l.stopAlpha=function(e){return arguments.length?(i=e,l):i},l};
},{"../core/math.js":82,"../core/ttk.js":103,"./interact.js":129,"d3":5,"d3-ease":4}],128:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("./interact.js"),_dereq_("./interact-mouse.js"),TTk.Interact.Transform=function(){var t,n,r,e,a,o,i=1,c=1,s=!0,u=!0,l=!0,h=d3.dispatch("start","stop","change","click"),f=function(){n||(n=TTk.Interact.Drag().easePeriod(0).on("dragstart.ttktransform",d).on("drag.ttktransform",g).on("dragend.ttktransform",m).on("click.ttktransform",h.click));var r=this.node().getBoundingClientRect();e=r.width,a=r.height,this.call(n),(s||u)&&(o||(o=d3.behavior.zoom().scaleExtent([.1,10]).scale(t.scale()).translate(t.origin()).on("zoom.ttktransform",k)),this.call(o),l||this.on("mousewheel.zoom",null).on("DOMMouseScroll.zoom",null).on("wheel.zoom",null))};f.isInteracting=function(){return!!r},f.on=function(t,n){return h.on(t,n),f};var d=function(){r=[d3.mouse(this),t.yaw(),t.pitch()],h.start()},g=function(){if(r){var n=d3.mouse(this),o=r[1]-(n[0]-r[0][0])*i/(e/2),s=TTk.Math.clamp(r[2]+(n[1]-r[0][1])*c/(a/2),-Math.PI/2,Math.PI/2);t.yaw(o),t.pitch(s),h.change()}},m=function(){r=!1,h.stop()},k=function(){if(s&&t.scale(d3.event.scale),u){var n=d3.event.translate,r=t.origin();t.translate([0===i?n[0]-r[0]:0,0===c?n[1]-r[1]:0,0])}(s||u)&&h.change()};return f.transform=function(n){return arguments.length?(t=n,f):t},f.dYaw=function(t){return arguments.length?(i=t,f):i},f.dPitch=function(t){return arguments.length?(c=t,f):c},f.scale=function(t){return arguments.length?(s=t,f):s},f.translate=function(t){return arguments.length?(u=t,f):u},f.wheel=function(t){return arguments.length?(l=t,f):l},f},TTk.Interact.Transform2D=function(){var t=TTk.Interact.Transform().dYaw(0).dPitch(0);return t};
},{"../core/ttk.js":103,"./interact-mouse.js":127,"./interact.js":129,"d3":5}],129:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");TTk.Interact={};
},{"../core/ttk.js":103}],130:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("../core/utils.js"),_dereq_("../core/string.js"),_dereq_("../core/stylesheet.js"),_dereq_("./shape.js"),TTk.Shape.PointShape=function(){var t=TTk.Shape.SVGShape().centroid(function(e,o){var r=t.context(),i=n(e,o),a=t.dataModify&&t.dataModify(),i=a?a(i,o):i;return r.stage2(i)}),n=function(t){return t.point};return t.point=function(e){return arguments.length?(n=e,t):n},t},TTk.Shape.Element=function(){var t,n=TTk.Shape.PointShape().point(function(t){return"string"==typeof e[0]?t:t[0]}),e=["x","y"],o=function(o){var r,i,a=n.context(),c=n.contextFn(),u=n.offset(),f="function"==typeof u&&u,s=n.transition(),l=n.style();o.each(function(o,h){f&&(u=f(o,h)),i=n.attrs()(o,h);var p=d3.select(this),T=t?t(o,h):o;"string"==typeof e[0]?(r=n.point()(T,h),r=c?a[c](r):a(r),u&&(r=TTk.Vector.add(r,u)),i[e[0]]=r[0],i[e[1]]=r[1]):e.forEach(function(t,n){r=c?a[c](T[n]):a(T[n]),u&&(r=TTk.Vector.add(r,u)),i[t[0]]=r[0],i[t[1]]=r[1]}),p=s(p),p.attr(i),l&&p.style(l(o,h))})};return o.coords=function(t){return arguments.length?(e=t,o):e},o.dataModify=function(n){return arguments.length?(t=n,o):t},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","attrs","style","point"],o,n),o},TTk.Shape.Line=function(){var t=TTk.Shape.Element().tag("line").cls(TTk.Shape.CSS_PREFIX+"line").coords([["x1","y1"],["x2","y2"]]);return t},TTk.Shape.Circle=function(){var t,n,e,o=TTk.Shape.Element().tag("ellipse").cls(TTk.Shape.CSS_PREFIX+"disk").point(function(t){return t.point}).coords(["cx","cy"]).attrs(function(a){return e&&(t=r(a)),n=i?Math.abs(Math.sin(o.context().transform().pitch())):1,{r:t,rx:t,ry:t*n}}),r=5,i=!1,a=function(n){t=r,e="function"==typeof r,n.call(o)};return a.radius=function(t){return arguments.length?(r=t,a):r},a.isDisk=function(t){return arguments.length?(i=t,a):i},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","dataModify","offset","transition","point","attrs","style"],a,o),a},TTk.Shape.Arc=function(){var t=TTk.Shape.PointShape().tag("path").cls(TTk.Shape.CSS_PREFIX+"arc").point(TTk.identity).attrs(function(u){var f=TTk.Vector,s="function"==typeof n?n(u):n,l="function"==typeof e?e(u):e,h="function"==typeof o?o(u):o,p="function"==typeof r?r(u):r,T="function"==typeof i?i(u):i,S=t.context()(t.point()(u)),y=[0,-s],k=f.rotate(y,l[0]),g=f.rotate(y,l[1]),d=f.add(S,k),x=f.add(S,g),v=s*(1-p+h*p),m=s*(p+1/h*(1-p)),P=TTk.Math.mod(l[1]-l[0],2*Math.PI),F=!0,E=P>Math.PI,u="M"+d+"A"+v+" "+m+","+TTk.Math.toDegrees(T)+","+(E?1:0)+","+(F?1:0)+","+x+(c?(a?"":"L"+S)+"Z":"");return{d:u}}),n=20,e=[-Math.PI/2,Math.PI/2],o=1,r=.5,i=0,a=!0,c=!0;return t.radius=function(e){return arguments.length?(n=e,t):n},t.angles=function(n){return arguments.length?(e=n,t):e},t.aspect=function(n){return arguments.length?(o=n,t):o},t.bias=function(n){return arguments.length?(r=n,t):r},t.rotate=function(n){return arguments.length?(i=n,t):i},t.chord=function(n){return arguments.length?(a=n,t):a},t.closed=function(n){return arguments.length?(c=n,t):c},t},TTk.Shape.Box=function(){var t=TTk.Shape.PointShape().tag("rect").cls(TTk.Shape.CSS_PREFIX+"box").attrs(function(r,i){var a="function"==typeof n?n(r):n,c="function"==typeof e?e(r):e,u="function"==typeof o?o(r):o,f=t.point()(r),s=t.contextFn(),l=t.context();s&&(l=l[s]),f=l(f);var h=t.offset()||[0,0];return"function"==typeof h&&(h=h(r,i)),{x:f[0]-a*u[0]+h[0],y:f[1]-c*u[1]+h[1],width:a,height:c}}),n=30,e=30,o=[.5,.5];return t.width=function(e){return arguments.length?(n=e,t):n},t.height=function(n){return arguments.length?(e=n,t):e},t.align=function(n){return arguments.length?(o=n,t):o},t},TTk.Shape.Glyph2D=function(){var t=TTk.Shape.PointShape().tag("path").cls(TTk.Shape.CSS_PREFIX+"glyph"),n=TTk.Glyph2D.SQUARE,e=[10,10],o=[.5,.5],r=0,i=TTk.AxisRotation().axis([0,0,1]);return t.attrs(function(a,c){var u=TTk.Vector,f=t.point()(a);f=t.context().applyScale(f);var s=t.offset()||[0,0];"function"==typeof s&&(s=s(a,c));var l=u.add(t.context().noScale(f),s),h="function"==typeof n?n(a,c):n,p="function"==typeof r?r(a,c):r,T="function"==typeof o?o(a,c):o;T=u.sub(T,[.5,.5]);var S="function"==typeof e?e(a,c):e;i.angle(p);var y="M"+h.map(function(n){return n=u.mult(n,S),n=u.add(n,T),n=u.add(f,n),n=t.context().noScale(n),n=u.add(n,s),n=u.sub(n,l),n=i([n[0],n[1],0]),n=u.add(n,l),""+n}).join("L")+"Z";return{d:y}}),t.glyph=function(e){return arguments.length?(n=e,t):n},t.unit=function(n){return arguments.length?(e=n,t):e},t.align=function(n){return arguments.length?(o=n,t):o},t.orient=function(n){return arguments.length?(r=n,t):r},t},TTk.Shape.Path=function(){var t,n=TTk.Shape.PointShape().tag("path").cls(TTk.Shape.CSS_PREFIX+"path").attrs(function(e,o){var r=n.point()(e);r=n.context().applyScale(r);var i=n.offset()||[0,0];"function"==typeof i&&(i=i(e,o));var a=t.slice();return a=a.map(function(t){if("string"==typeof t)return t;var e=TTk.Vector.add(r,t);return e=n.context().noScale(e),e=TTk.Vector.add(e,i)}),r=n.context().noScale(r),r=TTk.Vector.add(r,i),a="M "+r+" "+a.join(" "),{d:a}});return n.pathDef=function(e){return arguments.length?(t=e,n):t},n},TTk.Shape.Text=function(){var t,n=TTk.Shape.PointShape().tag("text").cls(TTk.Shape.CSS_PREFIX+"txt").attrs(function(e,o){var a=n.point()(e,o),c=n.contextFn(),u=n.context();c&&(u=u[c]);var f={},s=0;if(t){var l="noScale"===c?a:n.context().scale()(a),h="function"==typeof t?t(e,o):t,p=TTk.Vector.add(l,h);l=n.context().noScale(l),p=n.context().noScale(p),s=TTk.Vector.angleBetween([1,0,0],TTk.Vector.sub(p,l))}a=u(a);var T=n.offset()||[0,0];"function"==typeof T&&(T=T(e,o));var S=a[0]+T[0],y=a[1]+T[1];isFinite(S)&&isFinite(y)&&(f.x=S,f.y=y),f["xml:space"]=r?"preserve":null;var k="function"==typeof i?i(e,o):i;return f["text-anchor"]=0===k[0]?"end":1===k[0]?"start":"middle",f.dy=.7*k[1]+"em",f.transform=s?"rotate("+180*s/Math.PI+" "+f.x+" "+f.y+")":null,f}).offset([0,0]),e=function(t){return t.key},o=!1,r=!1,i=[1,0],a=function(t){var r=n.transition(),i=n.style();t[o?"html":"text"](e),t.each(function(t,e){var o=r(d3.select(this)),a=n.attrs()(t,e);o.attr(a),i&&o.style(i(t))})};return a.text=function(t){return arguments.length?(e=t,a):e},a.html=function(t){return arguments.length?(o=t,a):o},a.space=function(t){return arguments.length?(r=t,a):r},a.align=function(t){return arguments.length?(i=t,a):i},a.orient=function(n){return arguments.length?(t=n,a):t},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","point","attrs","style"],a,n),a},TTk.StyleSheet.set(".ttk-shp-txt",{fill:"#878c90"}),TTk.Shape.TextArea=function(){var t,n=TTk.Shape.Text(),e=50,o=1.2,r=" ",i=function(i){var a=n.transition(),c=n.style(),u=(n.align(),n.text()),f="function"==typeof u,s="function"==typeof e,l="function"==typeof t;i.each(function(i){var h=a(d3.select(this)),p=n.attrs()(i),T=s?e(i):e,S=l?t(i):t,y=TTk.String.wrap(f?u(i):u,T,r);S&&(y=y.slice(0,S));var k=h.selectAll("tspan").data(y,function(t,n){return n});k.enter().append("tspan"),k.exit().remove(),k.text(function(t){return t}).each(function(t,n){d3.select(this).attr({x:p.x,dy:0===n?0:o+"em"})}),h.attr(p),c&&h.style(c(i))})};return i.columns=function(t){return arguments.length?(e=t,i):e},i.rows=function(n){return arguments.length?(t=n,i):t},i.lineHeight=function(t){return arguments.length?(o=t,i):o},i.delim=function(t){return arguments.length?(r=t,i):r},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","point","attrs","style","text","align","orient"],i,n),i},TTk.Shape.Stock=function(){var t=TTk.Shape.PointShape().tag("line").cls(TTk.Shape.CSS_PREFIX+"stock").point(function(t){return t}).attrs(function(e,o){var r=n(e,o).map(t.context().noScale),i=t.offset()||[0,0];"function"==typeof i&&(i=i(e,o));var a={};return a.x1=r[0][0]+i[0],a.y1=r[0][1]+i[1],a.x2=r[1][0]+i[0],a.y2=r[1][1]+i[1],a}).centroid(function(e,o){var r=n(e,o),i=t.context();return r=r.map(i.space()),r=r.map(i.transform()),TTk.Polygon.centroid(r)}),n=function(n,r){var i=t.point()(n,r),a=t.contextFn(),c=t.context(),u=t.context().x(),f=TTk.Scale.rangeExtent(u),s=t.context().y(),l=TTk.Scale.rangeExtent(s),h=t.context().z();a&&(c=c[a]);var i="noScale"===a?i:t.context().scale()(i),p=u.categoric?(f[1]-f[0])/u.domain().length:0,T=s.categoric?(l[1]-l[0])/s.domain().length:0,S=h(e);return Math.abs(i[2]-S)<o&&(S=i[2]-o),[[i[0]+p/2,i[1]+T/2,S],[i[0]+p/2,i[1]+T/2,i[2]]]},e=0,o=1,r=function(n){n.call(t)};return r.baseValue=function(t){return arguments.length?(e=t,r):e},r.stockmin=function(t){return arguments.length?(o=t,r):o},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","point","attrs","style"],r,t),r},TTk.Shape.Image=function(){var t=TTk.Shape.PointShape().tag("image").cls(TTk.Shape.CSS_PREFIX+"image").attrs(function(a,c){var u="function"==typeof n?n(a,c):n,f="function"==typeof e?e(a,c):e,s="function"==typeof o?o(a,c):o,l="function"==typeof i?i(a,c):i,h="function"==typeof r?r(a,c):r,p=t.point()(a,c);p=t.context()(p);var T=t.offset()||[0,0];return"function"==typeof T&&(T=T(a,c)),{x:p[0]-u*h[0]+T[0],y:p[1]-f*h[1]+T[1],width:u,height:f,"xlink:href":s,preserveAspectRatio:l?"none":null}}),n=30,e=30,o="",r=[.5,.5],i=!1,a=function(n){n.call(t)};return a.width=function(t){return arguments.length?(n=t,a):n},a.height=function(t){return arguments.length?(e=t,a):e},a.align=function(t){return arguments.length?(r=t,a):r},a.href=function(t){return arguments.length?(o=t,a):o},a.stretch=function(t){return arguments.length?(i=t,a):i},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","point","attrs","style"],a,t),a},TTk.StyleSheet.set(".ttk-shp-stock",TTk.Shape.CSS_STROKE_STYLE,{fill:"none",stroke:"#AAA","stroke-width":6}),TTk.StyleSheet.set(".ttk-shp-disk, .ttk-shp-arc",TTk.Shape.CSS_STROKE_STYLE,{fill:"silver",stroke:"#777"});
},{"../core/string.js":98,"../core/stylesheet.js":99,"../core/ttk.js":103,"../core/utils.js":106,"./shape.js":133,"d3":5}],131:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("../core/stylesheet.js"),_dereq_("./constants.js"),_dereq_("./shape.js");var multiShapeCount=0;TTk.Shape.Multi=function(){var t,n,e=TTk.Shape.SVGShape().tag("g").cls(TTk.Shape.CSS_PREFIX+"multi").centroid(function(t){return e.context().stage2(r(t))}),r=function(t){return t.point},o=[],i=!0,c=TTk.Shape.CSS_PREFIX+"sub",a=multiShapeCount++,s=function(s){var u=o,h="function"==typeof o;h||l(u),s.each(function(s,f){var p=d3.select(this),T=e.offset();if(T){"function"==typeof T&&(T=T(s));var S=p.attr("transform")?e.transition()(p):p;S.attr("transform","translate("+T[0]+","+T[1]+")")}h&&(u=o(s),l(u));var g=u.map(function(t,n){var o={shape:t,point:r(s,f),key:e.key()(s)+":"+n,iPanel:n,iSel:f,d:s};return o});if(i){var k=e.context().transform().origin().slice();k[2]=-1e4,g.forEach(function(t){t.centroid=t.shape.centroid()(t),t.dist=TTk.Vector.dist(k,t.centroid)})}var x=p.selectAll("."+c+a),x=p.selectAll("."+c+a).data(g,function(t){return t.key}),y=x.enter().append(function(t){return document.createElementNS("http://www.w3.org/2000/svg",t.shape.tag())}).attr("class",function(t){return c+" "+c+a+" "+t.shape.cls()+" "+(("function"==typeof t.shape.classes()?t.shape.classes()(s,t):t.shape.classes())||"")});t&&t(y);var d=x.exit();n&&n(d),d.remove(),i&&x.sort(function(t,n){return n.dist-t.dist});var v=e.style();x.each(function(t){var n=d3.select(this),e=t.shape.style();v&&t.shape.style(e?function(t,n){var r="function"==typeof v?v(t,n):v,o="function"==typeof e?e(t,n):e;return r&&o?Object.assign(r,o):r||o}:v),n.call(t.shape),v&&t.shape.style(e)})})},u=function(){Array.isArray(o)&&l(o)},l=function(t){t.forEach(function(t){t.context(e.context()),t.transition(e.transition())})};return s.point=function(t){return arguments.length?(r=t,s):r},s.shapes=function(t){return arguments.length?(o=t,u(),s):o},s.zSort=function(t){return arguments.length?(i=t,s):i},s.context=function(t){return arguments.length?(e.context(t),u(),s):e.context()},s.transition=function(t){return arguments.length?(e.transition(t),u(),s):e.transition()},s.style=function(t){return arguments.length?(e.style(t),u(),s):e.style()},s.enter=function(n){return arguments.length?(t=n,s):t},s.exit=function(t){return arguments.length?(n=t,s):n},TTk.Utils.copyGetSet(["key","tag","cls","classes","centroid","contextFn","offset","attrs"],s,e),s},TTk.Shape.Bar=function(){var t=TTk.Shape.Multi().cls(TTk.Shape.CSS_PREFIX+"bar").centroid(function(n){var e=t.point()(n),r=[e[0],e[1],t.context().scale().z().domain()[0]];return t.context().stage2(r)}),n=[30,30],e=TTk.Glyph2D.SQUARE,r=!0,o=!0,i=!0,c=function(n){n.call(t)},a=function(){for(var c=[],a=0;a<e.length;a++)c.push([e[a],e[(a+1)%e.length]]);var s=i?c.map(function(e){return TTk.Shape.Poly().cls(TTk.Shape.CSS_PREFIX+"panel").closed(!0).contextFn("noScale").vertices(function(r){var o=t.context().scale()(r.point),i=t.context().scale().z().range()[0];return[[e[0][0],e[0][1],1],[e[1][0],e[1][1],1],[e[1][0],e[1][1],0],[e[0][0],e[0][1],0]].map(function(t){return[o[0]+t[0]*n[0],o[1]+t[1]*n[1],t[2]?o[2]:i]})})}):[],u=[];o&&u.push(0),r&&u.push(1),s=s.concat(u.map(function(r){return TTk.Shape.Poly().cls(TTk.Shape.CSS_PREFIX+"panel").closed(!0).contextFn("noScale").vertices(function(o){var i=t.context().scale()(o.point),c=t.context().scale().z().range()[0];return e.map(function(t){return[i[0]+t[0]*n[0],i[1]+t[1]*n[1],r?i[2]:c]})})})),t.shapes(s)};return a(),c.unit=function(t){return arguments.length?(n=t,c):n},c.base=function(t){return arguments.length?(e=t,a(),c):e},c.ceil=function(t){return arguments.length?(r=t,a(),c):r},c.floor=function(t){return arguments.length?(o=t,a(),c):o},c.walls=function(t){return arguments.length?(i=t,a(),c):i},TTk.Utils.copyGetSet(["key","tag","cls","classes","point","context","centroid","contextFn","offset","transition","attrs","style","enter","exit"],c,t),c},TTk.Shape.Glyph3D=function(){var t=TTk.Shape.Multi().cls(TTk.Shape.CSS_PREFIX+"glyph"),n=[30,30,30],e=TTk.Glyph3D.CUBE,r=function(n){n.call(t)},o=function(){var r=e.map(function(e){return TTk.Shape.Poly().cls(TTk.Shape.CSS_PREFIX+"panel").closed(!0).contextFn("noScale").vertices(function(r){var o=t.context().scale()(r.point);return e.map(function(t){return o.map(function(e,r){return e+t[r]*n[r]})})})});t.shapes(r)};return o(),r.unit=function(t){return arguments.length?(n=t,o(),r):n},r.glyph=function(t){return arguments.length?(e=t,o(),r):e},TTk.Utils.copyGetSet(["key","tag","cls","classes","point","context","centroid","contextFn","offset","transition","attrs","style","enter","exit"],r,t),r},TTk.Shape.TextBox=function(){var t=TTk.Shape.Multi().cls(TTk.Shape.CSS_PREFIX+"txbox").zSort(!1),n=TTk.Shape.Text(),e=TTk.Shape.Box(),r=function(n){n.call(t)},o=function(){t.shapes([e,n])};return o(),r.text=function(t){return arguments.length?(n=t,o(),r):n},r.box=function(t){return arguments.length?(e=t,o(),r):e},r.width=function(t){return arguments.length?(e.width(t),r):e.width()},r.height=function(t){return arguments.length?(e.height(t),r):e.height()},TTk.Utils.copyGetSet(["key","tag","cls","classes","point","context","centroid","contextFn","offset","transition","attrs","style","enter","exit"],r,t),r},TTk.Shape.ImageBox=function(){var t=TTk.Shape.Multi().cls(TTk.Shape.CSS_PREFIX+"imgbox").zSort(!1),n=TTk.Shape.Image(),e=TTk.Shape.Box(),r=function(n){n.call(t)},o=function(){t.shapes([e,n])};return o(),r.image=function(t){return arguments.length?(r=t,o(),r):n},r.box=function(t){return arguments.length?(e=t,o(),r):e},r.width=function(t){return arguments.length?(e.width(t),r):e.width()},r.height=function(t){return arguments.length?(e.height(t),r):e.height()},TTk.Utils.copyGetSet(["key","tag","cls","classes","point","context","centroid","contextFn","offset","transition","attrs","style","enter","exit"],r,t),r},TTk.StyleSheet.set(".ttk-shp-panel",TTk.Shape.CSS_STROKE_STYLE,{fill:"silver","fill-opacity":.5,stroke:"grey"});
},{"../core/stylesheet.js":99,"../core/ttk.js":103,"./constants.js":119,"./shape.js":133,"d3":5}],132:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("../core/stylesheet.js"),_dereq_("./shape.js"),TTk.Shape.Poly=function(){var t,e=TTk.Shape.SVGShape().tag("path").cls(TTk.Shape.CSS_PREFIX+"poly").centroid(function(t){var r=e.context();return"noScale"===e.contextFn()?TTk.Polygon.centroid(n(t).map(r.transform())):TTk.Polygon.centroid(n(t).map(r.stage2))}),n=TTk.identity,r=TTk.identity,o=!1,i=!1,a=!0,s=[!0,!0,!0],c=0,u=function(u){var l,T,f,h,d=e.contextFn(),p=e.context(),S=e.transition(),g=e.style(),k=d?p[d]:p,v="function"==typeof c?c:function(t){return[t[0],t[1],c]};u.each(function(c,u){f=e.attrs()(c),T=S(d3.select(this)),h=n(c,u),l="";var d,p,y,x,m,F,A="",P=0;if(h){var R=[],E=!0;if(h.forEach(function(t,e){return t=r(t,e,u),x=d,d=k(t),p=p||d,isFinite(d[0])&&isFinite(d[1])?(y=d,m||(m=t),F=t,l+=(E?" M ":" L ")+d[0]+","+d[1],c&&c.polyStrokePattern&&x&&(P+=TTk.Vector.dist(d,x),c.polyStrokePattern[(e-1)%c.polyStrokePattern.length]&&(A+=P+",",P=0)),R.push(d),void(E=!1)):void(E=!0)}),t&&(l=d3.svg.line().interpolate(t)(R)),c&&c.polyStrokePattern&&p!==d&&(P+=TTk.Vector.dist(d,p),A+=P),i){var L="";if(a){if(m){L+=" M "+y[0]+","+y[1];var M=k(v(F));L+=" L "+M[0]+","+M[1];var _=k(v(m));L+=" L "+_[0]+","+_[1],s[0]&&s[1]&&s[2]||(s[2]||(A+="0"),P=TTk.Vector.dist(M,y),s[1]!==s[2]&&(A+=" "+P,P=0),P+=TTk.Vector.dist(M,_),s[0]!==s[1]&&(A+=" "+P,P=0),P+=TTk.Vector.dist(_,p),A+=" "+P,s[0]||(A+=" 1000000"))}}else{var E=!0;h.reverse(),h.forEach(function(t,e){return t=r(t,h.length-e-1,u),d=k(v(t)),isFinite(d[0])&&isFinite(d[1])?(L+=(E?" M ":" L ")+d[0]+","+d[1],void(E=!1)):void(E=!0)}),h.reverse()}var V=l.indexOf("M");l=L+" L "+l.substring(V+1)}!o&&!i||c&&c.polyOpenEnded||(l+=" Z")}f.d=F?l:"",T.attr(f);var w={};g&&(w=g(c,u)),A&&(w["stroke-dasharray"]=A),c&&c.polyNoStroke&&(w.stroke="none"),T.style(w)})};return u.vertices=function(t){return arguments.length?(n=t,u):n},u.vertexPoint=function(t){return arguments.length?(r=t,u):r},u.closed=function(t){return arguments.length?(o=t,u):o},u.walled=function(t){return arguments.length?(i=t,u):i},u.simpleWall=function(t){return arguments.length?(a=t,u):a},u.wallStroke=function(t){return arguments.length?(s=t,u):s},u.baseValue=function(t){return arguments.length?(c=t,u):c},u.interpolate=function(e){return arguments.length?(t=e,u):t},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","attrs","style"],u,e),u},TTk.StyleSheet.set(".ttk-shp-poly",TTk.Shape.CSS_STROKE_STYLE,{fill:"none",stroke:"#AAA"}),TTk.Shape.Area=function(){var t,e=TTk.Shape.SVGShape().tag("path").cls(TTk.Shape.CSS_PREFIX+"area").centroid(function(t){var o=e.context(),i=n(t)||r(t);return"noScale"===e.contextFn()?TTk.Polygon.centroid(i.map(o.transform())):TTk.Polygon.centroid(i.map(o.stage2))}),n=function(t){return t.upper},r=function(t){return t.lower},o=function(o){var i,a,s,c,u,l,T=e.contextFn(),f=e.context(),h=e.transition(),d=e.style(),p=T?f[T]:f,S=f.scale().x().domain(),g=f.scale().y().domain();o.each(function(o){s=e.attrs()(o),a=h(d3.select(this)),i="",c=n(o)||[[S[0],g[1]],[S[1],g[1]]],u=c.map(function(e,n){return l=p(e),t||(i+=(i?" L ":" M ")+l[0]+","+l[1]),l}),t&&(i=d3.svg.line().interpolate(t)(u)),c=r(o)||[[S[0],g[0]],[S[1],g[0]]],c.reverse(),u=c.map(function(e,n){return l=p(e),t||(i+=" L "+l[0]+","+l[1]),l}),t&&(i+=" L "+d3.svg.line().interpolate(t)(u).substr(1)),c.reverse(),i+="Z",s.d=i,a.attr(s),a.style(d(o))})};return o.upper=function(t){return arguments.length?(n=t,o):n},o.lower=function(t){return arguments.length?(r=t,o):r},o.interpolate=function(e){return arguments.length?(t=e,o):t},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","attrs","style"],o,e),o},TTk.StyleSheet.set(".ttk-shp-area",TTk.Shape.CSS_STROKE_STYLE,{fill:"#BBB",stroke:"none"}),TTk.Shape.Segment=function(){var t,e,n=TTk.Shape.SVGShape().tag("path").cls(TTk.Shape.CSS_PREFIX+"sgm").centroid(function(e){var r=n.context(),o=t.centroid(e);return r.transform()(o)}),r=100,o=150,i=0,a=function(t){return t},s=function(t){var r,o,i=(n.context(),n.transition()),a=n.style();t.each(function(t){o=n.attrs()(t),r=d3.select(this),r.attr("d")&&(r=i(r))&&r.attrTween?r=r.attrTween("d",c):r.attr("d",e).each(function(t){this._current=t}),r.attr(o),r.style(a(t))})},c=function(t){var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return e(n(t))}};s.pointAtDist=function(t,e){var r=s.midAngle(t)-Math.PI/2,o=[Math.cos(r)*e,Math.sin(r)*e];return n.context().transform()(o)},s.midAngle=function(t){return t.startAngle+TTk.Math.mod(t.endAngle-t.startAngle,2*Math.PI)/2};var u=function(){t=d3.svg.arc().innerRadius(r).outerRadius(o).cornerRadius(i),e=function(e){var n=a(e);return isFinite(n.startAngle)&&isFinite(n.endAngle)||(n.startAngle=0,n.endAngle=0),t(n)}};return u(),s.innerRadius=function(t){return arguments.length?(r=t,u(),s):r},s.outerRadius=function(t){return arguments.length?(o=t,u(),s):o},s.cornerRadius=function(t){return arguments.length?(i=t,u(),s):i},s.arcAttrs=function(t){return arguments.length?(a=t,s):a},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","attrs","style"],s,n),s};
},{"../core/stylesheet.js":99,"../core/ttk.js":103,"./shape.js":133,"d3":5}],133:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/math.js"),_dereq_("../core/stream.js"),_dereq_("./context.js"),TTk.Shape=function(){var t,n,e,r,o=function(t){return t.key},u=function(){return{}},i=TTk.identity,c=function(){};return c.key=function(t){return arguments.length?(o=t,c):o},c.context=function(n){return arguments.length?(t=n,c):t},c.centroid=function(t){return arguments.length?(n=t,c):n},c.contextFn=function(t){return arguments.length?(e=t,c):e},c.offset=function(t){return arguments.length?(r=t,c):r},c.attrs=function(t){return arguments.length?(u=t,c):u},c.transition=function(t){return arguments.length?(i=t,c):i},c},TTk.Shape.CSS_PREFIX=TTk.CSS_PREFIX+"shp-",TTk.Shape.CSS_STROKE_STYLE={stroke:"black","stroke-width":2,"stroke-linejoin":"round","stroke-linecap":"round"},TTk.Shape.SVGShape=function(){var t,n,e,r=TTk.Shape(),o=function(t){var n,e,o=r.transition();t.each(function(t){e=o(d3.select(this)),n=r.attrs()(t),e.attr(n),u&&e.style(u(t))})},u=TTk.Stream().append(function(){return{}});return o.tag=function(n){return arguments.length?(t=n,o):t},o.cls=function(t){return arguments.length?(n=t,o):n},o.classes=function(t){return arguments.length?(e=t,o):e},o.style=function(t){return arguments.length?(u=t,o):u},TTk.Utils.copyGetSet(["key","context","centroid","contextFn","offset","transition","attrs"],o,r),o},TTk.Shape.pathTween=function(t,n){return arguments.length<2&&(n=4),function(){var e=this,r=e.cloneNode();r.setAttribute("d",t);var o,u;try{o=e.getTotalLength(),u=r.getTotalLength()}catch(t){o=10,u=10}for(var i=[0],c=0,a=n/Math.max(o,u);(c+=a)<1;)i.push(c);i.push(1);var h=i.map(function(t){try{var n=e.getPointAtLength(t*o),i=r.getPointAtLength(t*u);return d3.interpolate([n.x,n.y],[i.x,i.y])}catch(t){return[0,0]}});return function(n){return n<1?"M"+h.map(function(t){return t(n)}).join("L"):t}}};
},{"../core/math.js":82,"../core/stream.js":97,"../core/ttk.js":103,"./context.js":124}],134:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("./visual.js"),_dereq_("./context.js"),_dereq_("./shape-element.js"),_dereq_("./shape-poly.js"),_dereq_("./grid.js"),TTk.Visual.PointVisual=function(){var e=TTk.Visual.SingleVisual(),t=[],i=function(t){return e(t)},n=function(){var i=e.shape();if(t&&t.length&&i){var n=function(n,r){var a=i.point()(n),s=e.parent(),l=e.hilight()||(s?s.hilight():null),u=e.style();if(l&&!l.isEmpty()){var o=l.hiData();o.some(function(e){var t=i.point()(e);if(t&&!TTk.Utils.compare(t[0],a[0])&&!TTk.Utils.compare(t[1],a[1]))return!0})?u=e.styleHigh()||u:t.some(function(e,t){return e&&o.some(function(n){var r=i.point()(n);if(!TTk.Utils.compare(r[t],a[t]))return u=e||u,!0})})||(u=e.styleFade()||u)}return u?u(n,r):{}};i.style(n)}};return i.shape=function(t){return arguments.length?(e.shape(t),n(),i):e.shape()},i.styleSlice=function(e){return arguments.length?(t=e,n(),i):t},TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","data","index","genKey","context","hilight","size","autoScale","resizeRender","clip","grid","shape","style","styleHigh","styleFade","selection","enter","exit","sort"],i,e),i},TTk.Visual.Point=function(){var e=TTk.Visual.PointVisual().data([]).genKey(function(t){var i=e.shape().point()(t);return i[0]+":"+i[1]+":"+i[2]}).context(TTk.Context()).grid(TTk.Grid3D.Minimal()).shape(TTk.Shape.Circle());return e},TTk.Visual.Poly=function(){var e=TTk.Visual.SingleVisual().data([]).genKey(function(t){var i=e.shape().vertices()(t);return i[0][0]+":"+i[0][1]}).context(TTk.Context()).grid(TTk.Grid3D.Minimal()).shape(TTk.Shape.Poly()),t=function(t){return e(t)};return TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","data","index","genKey","context","hilight","size","autoScale","resizeRender","clip","grid","shape","style","styleHigh","styleFade","selection","enter","exit","sort"],t,e),t},TTk.Visual.Scatter3D=function(){var e=TTk.Visual.MultiVisual().data([]).genKey(function(e){return e[0]+":"+e[1]}).context(TTk.Context()).grid(TTk.Grid3D.Minimal()),t=TTk.Visual.PointVisual().shape(TTk.Shape.Circle()),i=TTk.Visual.PointVisual().shape(TTk.Shape.Stock()),n=function(t){return e(t)},r=function(){var n=[];i&&n.push(i),t&&n.push(t),e.visuals(n)};return r(),n.points=function(e){return arguments.length?(t=e,r(),n):t},n.stocks=function(e){return arguments.length?(i=e,r(),n):i},TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","data","index","genKey","context","hilight","size","autoScale","resizeRender","clip","grid"],n,e),n};
},{"../core/ttk.js":103,"./context.js":124,"./grid.js":125,"./shape-element.js":130,"./shape-poly.js":132,"./visual.js":136,"d3":5}],135:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("../core/math.js"),_dereq_("../core/utils.js"),_dereq_("../core/array.js"),_dereq_("../core/random.js"),TTk.Mesh=function(){var t=TTk.Mesh.Lattice3D(),r=["Forest","SunShine","Ember"],n=[{r:35,g:69,b:29},{r:209,g:198,b:69},{r:170,g:92,b:9}],e={r:139,g:2,b:2},o={r:207,g:134,b:44},u=!0,a=4,i=12,c=.6,s=100,l=50,f=3,h=40,d=-40,g=.05,p=.1,v=.3,m=.995,k=0,T=function(i){var s=i.node().getBoundingClientRect(),l=s.width,T=s.height,S=t(),R=TTk.Random().seed(k);S.nodes.forEach(function(t){t.x=l/2-(R()-.5)*l*.8,t.y=T/2-(R()-.5)*T*.8,t.px=t.x,t.py=t.y,t.col=n[t.group%n.length],t.name=r[t.group%r.length]}),S.links.forEach(function(t){t.col=o});var q=TTk.Mesh.CSS_PREFIX+"link",A=i.selectAll("."+q).data(S.links).enter().append("line").attr("class",q).attr("stroke",function(t){return w(t.col)}).style("stroke-opacity",c).style("stroke-width",function(t){return Math.sqrt(t.value)}),D=TTk.Mesh.CSS_PREFIX+"node",E=i.selectAll("."+D).data(S.nodes).enter().append("g").attr("class",D),F=E.append("circle").attr("r",a).attr("cx","0").attr("cy","0");if(u){var _=C(E,"yellow1","#FAB518","#444422",a).attr("id",function(t){return"grad1_"+t.id}),j=_.select(".stop1").attr("stop-color",function(t){return b(0,t.col,e)});_.select(".stop2");F.style("fill",function(t){return"url(#grad1_"+t.id+")"})}else F.style("fill",function(t){return w(t.col)});E.append("title").text(function(t){return t.name});var I=d3.layout.force().nodes(S.nodes).links(S.links).size([l,T]).charge(d).linkDistance(h).gravity(g).friction(1-p),P=v,X=I.resume;I.resume=function(){return P=v,X(),I},I.on("tick",function(){I.alpha(P*=m),A.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),E.attr("transform",function(t){return"translate("+t.x+","+t.y+")"})});var G,L,B,N=0,O=function(){return G||(G=d3.behavior.drag().origin(function(t){return t}).on("dragstart.force",function(t){N=0}).on("drag.force",function(t){var r=d3.mouse(i.node());Math.abs(L-r[0])<=f&&Math.abs(B-r[1])<=f||(N||(t.fixed|=2),N=1,t.px=r[0],t.py=r[1],I.resume())}).on("dragend.force",function(t){t.fixed&=-7})),arguments.length?void this.on("mousedown.force",function(t){var r=d3.mouse(i.node());L=r[0],B=r[1]}).on("mouseup.force",function(t){var r=d3.select(this);setTimeout(function(){return N?void(N=0):(U(r),void I.resume())})}).call(G):G};E.call(O),i.on("mousemove.nodeHeat",function(t){var r=d3.mouse(this),n=r[0],o=r[1],a=function(t){return x(y(n,o,t.x,t.y))};F.attr("r",a),u?(_.attr("r",a),j.attr("stop-color",function(t){return b(M(y(n,o,t.x,t.y)),t.col,e)})):F.style("fill",function(t){return b(M(y(n,o,t.x,t.y)),t.col,e)}),A.attr("stroke",function(t){var r=(t.source.x+t.target.x)/2,u=(t.source.y+t.target.y)/2;return b(M(y(n,o,r,u)),t.col,e)})});var U=function(t){t.each(function(t){A.filter(function(r){var n=r.source.id===t.id||r.target.id===t.id;return n&&TTk.Array.remove(S.links,r),n}).remove(),TTk.Array.remove(S.nodes,t)}),t.remove()};I.start()},y=function(t,r,n,e){return Math.sqrt(Math.pow(n-t,2)+Math.pow(e-r,2))},M=function(t){return TTk.Math.clamp((s-t)/s,0,1)},x=function(t){var r=TTk.Math.clamp((l-t)/l,0,1);return a+Math.pow(r,1.5)*(i-a)},b=function(t,r,n){var e=~~TTk.Math.clamp(r.r*(1-t)+n.r*t,0,255),o=~~TTk.Math.clamp(r.g*(1-t)+n.g*t,0,255),u=~~TTk.Math.clamp(r.b*(1-t)+n.b*t,0,255);return"rgb("+e+","+o+","+u+")"},w=function(t){return"rgb("+t.r+","+t.g+","+t.b+")"},C=function(t,r,n,e,o){var u=t.append("radialGradient").attr("id",r+"Sphere").attr("gradientUnits","userSpaceOnUse").attr("cx","0").attr("cy","0").attr("fx","-"+o/2).attr("fy","-"+o/2).attr("r",""+o);return u.append("stop").attr("offset","0%").attr("stop-color","white"),u.append("stop").attr("offset","75%").attr("stop-color",n).attr("class","stop1"),u.append("stop").attr("offset","100%").attr("stop-color",e).attr("class","stop2"),u};return T.mesh=function(r){return arguments.length?(t=r,T):t},T.nodeNames=function(t){return arguments.length?(r=t,T):r},T.nodeCols=function(t){return arguments.length?(n=t,T):n},T.heatCol=function(t){return arguments.length?(e=t,T):e},T.linkCol=function(t){return arguments.length?(o=t,T):o},T.spheres=function(t){return arguments.length?(u=t,T):u},T.nodeRadius=function(t){return arguments.length?(a=t,T):a},T.maxRadius=function(t){return arguments.length?(i=t,T):i},T.linkOpacity=function(t){return arguments.length?(c=t,T):c},T.maxDistCol=function(t){return arguments.length?(s=t,T):s},T.maxDistGrw=function(t){return arguments.length?(l=t,T):l},T.linkDist=function(t){return arguments.length?(h=t,T):h},T.forceCharge=function(t){return arguments.length?(d=t,T):d},T.forceGravity=function(t){return arguments.length?(g=t,T):g},T.forceFriction=function(t){return arguments.length?(p=t,T):p},T.forceAlpha=function(t){return arguments.length?(v=t,T):v},T.forceAlphaDecay=function(t){return arguments.length?(m=t,T):m},T.dragThreshold=function(t){return arguments.length?(f=t,T):f},T},TTk.Mesh.CSS_PREFIX=TTk.CSS_PREFIX+"mesh-",TTk.Mesh.Torus=function(t){var r=9,n=15,e=5,o=3,u=function(){for(var u={nodes:[],links:[]},i=TTk.Random().seed(t),c=0;c<r*n;c++)u.nodes.push({id:c,group:~~(i()*o)});for(var s=u.links,l=0;l<r;l++)for(var f=0;f<n;f++){var h=a(l,f),d=a(l,f+1);s.push({source:h,target:d,value:e});var d=a(l+1,f);s.push({source:h,target:d,value:e})}return u},a=function(t,e){return t%r*n+e%n};return u.rows=function(t){return arguments.length?(r=t,u):r},u.cols=function(t){return arguments.length?(n=t,u):n},u.value=function(t){return arguments.length?(e=t,u):e},u.nCats=function(t){return arguments.length?(o=t,u):o},u},TTk.Mesh.Lattice3D=function(){var t=1,r=3,n=3,e=5,o=3,u=function(){for(var u={nodes:[],links:[]},i=0;i<t*r*n;i++)u.nodes.push({id:i,group:~~(Math.random()*o)});for(var c=u.links,s=0;s<t;s++)for(var l=0;l<r;l++)for(var f=0;f<n;f++){var h=a(s,l,f);if(f<n-1){var d=a(s,l,f+1);c.push({source:h,target:d,value:e})}if(l<r-1){var d=a(s,l+1,f);c.push({source:h,target:d,value:e})}if(s<t-1){var d=a(s+1,l,f);c.push({source:h,target:d,value:e})}}return u},a=function(t,e,o){return t*r*n+e*n+o};return u.layers=function(r){return arguments.length?(t=r,u):t},u.rows=function(t){return arguments.length?(r=t,u):r},u.cols=function(t){return arguments.length?(n=t,u):n},u.value=function(t){return arguments.length?(e=t,u):e},u.nCats=function(t){return arguments.length?(o=t,u):o},u},TTk.Mesh.Random=function(){var t=20,r=2,n=2,e=4,o=3,u=function(){for(var u={nodes:[],links:[]},a=0;a<t;a++)u.nodes.push({id:a,group:~~(Math.random()*o)});for(var a=0;a<t*r;a++){var i,c=~~(Math.random()*t);do i=(t+~~(Math.pow(Math.random(),4)*t))%t;while(i===c);u.links.push({source:c,target:i,value:~~(Math.random()*(e-n))+n})}return u};return u.nNodes=function(r){return arguments.length?(t=r,u):t},u.avLnks=function(t){return arguments.length?(r=t,u):r},u.minVal=function(t){return arguments.length?(n=t,u):n},u.maxVal=function(t){return arguments.length?(e=t,u):e},u.nCats=function(t){return arguments.length?(o=t,u):o},u};
},{"../core/array.js":73,"../core/math.js":82,"../core/random.js":94,"../core/ttk.js":103,"../core/utils.js":106,"d3":5}],136:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("../core/math.js"),_dereq_("../core/utils.js"),_dereq_("../core/string.js"),_dereq_("../core/stylesheet.js"),_dereq_("./context.js"),_dereq_("./canvas.js"),_dereq_("./shape.js"),_dereq_("./shape-element.js"),_dereq_("./shape-poly.js"),_dereq_("./grid.js"),TTk.Visual=function(){var t=0,e=function(){return t++},n=function(){var t,n,i,r,a,s,c,o,u,l,f,d,h,g=e(),v=!1,T={top:50,bottom:50,left:50,right:50},p=!1,S=!1,m=!0,y=!1,k=TTk.Visual.CSS_PREFIX+"grid",x=function(e){h=null;var n=e?null:x.frame();if(n&&i!==!0||(n=C(e)),e=l=n,s){var r=x.size();S&&E(r),s.screen(r)}var a=x.context(),o=x.canvas()||e;a&&c&&(d=d||o.append("g").attr("class",k),d.call(c));var u=e;if(a&&y){u=e.select("g."+TTk.Visual.CSS_PREFIX+"clip"),f||(f=e.select("clipPath#"+TTk.Visual.CSS_PREFIX+"clipregion"),f.empty()&&(f=e.append("clipPath").attr("id",TTk.Visual.CSS_PREFIX+"clipregion").append("rect"))),u.empty()&&(u=e.append("g").attr("class",TTk.Visual.CSS_PREFIX+"clip").attr("clip-path","url(#"+TTk.Visual.CSS_PREFIX+"clipregion)"));var v=TTk.Scale.rangeExtent(a.x(),!0),T=TTk.Scale.rangeExtent(a.y(),!0),p=a.scale().xPad(),V=a.scale().yPad(),R=a.applyOffset([v[0],T[0]]);f.attr({x:R[0]-p[0],y:R[1]-V[0],width:v[1]-v[0]+p[0]+p[1],height:T[1]-T[0]+V[0]+V[1]})}return x.render&&x.render(u),d3.select(window).on("resize.visual"+g,t||!m?null:function(){"function"==typeof m?m():e.call(x)}),e},C=function(e){if(!e&&n)return n;e&&("string"==typeof e||e instanceof d3.selection)||(e="body"),e=d3.select(e),e.empty()&&(e=d3.select("body"));for(var r=e.node();!r.tagName;)e=r,r=e.node();var a=r.tagName.toLowerCase();if("svg"===a||"canvas"===a||"g"===a){if("svg"===a||"canvas"===a){var s=u||(t?t.size():{});if(TTk.Object.isEmpty(s)){var c=r.getBoundingClientRect();s={width:c.width,height:c.height}}(!e.attr("width")||"svg"===a&&!e.attr("width").match(/%/)||"canvas"===a&&+e.attr("width")!==s.width)&&e.attr("width",s.width),(!e.attr("height")||"svg"===a&&!e.attr("height").match(/%/)||"canvas"===a&&+e.attr("height")!==s.height)&&e.attr("height",s.height)}return("canvas"===a&&!i||i===!0)&&(i=TTk.CanvasSelection(e)),e}var o=TTk.Visual.CSS_PREFIX+"vis"+g,l=e.select("svg#"+o);return l.empty()?(l=e.select("canvas#"+o),l.empty()?(u=u||{width:800,height:600},n=e.append(i?"canvas":"svg").attr("id",o).attr(u),n.classed(TTk.Visual.CSS_CLASS,!0),n):l):l},V=function(){return l?h?h:h=l.node().getBoundingClientRect():{width:1,height:1}},E=function(t){var e=x.context(),n=e.space().getOffset({width:0,height:0})[1];if(n===-400){var i=Math.min(.7*t.width,.9*t.height),r=.4*t.height,a=Math.min(i,r),s=(t.width-i)/2,c=-n-t.height/2+(t.height-i)/2;e.scale().ranges(R([[s,s+i],[c,c+i],[r,0]])),e.scale(e.scale()),e.projection().focal&&e.projection().focal(3*a)}else{var o="function"==typeof x.margins()?x.margins()():x.margins(),i=t.width-o.left-o.right,r=t.height-o.top-o.bottom;e.scale().ranges(R([[o.left,o.left+i],[o.top,o.top+r]])),e.scale(e.scale())}},R=function(t){if("function"==typeof S)t=S(t);else if(Array.isArray(S)){var e=x.context().scale().ranges();t=t.map(function(n,i){return n[0]=S[i]===!0||S[i][0]?t[i][0]:e[i][0],n[1]=S[i]===!0||S[i][1]?t[i][1]:e[i][1],n})}return t},j=function(){var t=x.genKey();t&&r&&r.forEach(function(e,n){var i=typeof e;"object"!==i&&"function"!==i||"key"in e||(e.key=t(e,n))})},_=function(){d&&(d.remove(),d=null),c&&c.parent(x)},w=function(){if(l&&!l.empty()&&u){var t=l.node();if(t){var e=t.tagName.toLowerCase();"svg"!==e&&"canvas"!==e||l.attr("width",u.width).attr("height",u.height)}}};return x.parent=function(e){return arguments.length?(t=e,x):t},x.frame=function(e){return arguments.length?(n=e,l=null,x):n||(t?t.frame():void 0)},x.id=function(t){return arguments.length?(g=t,x):g},x.elements=function(t){return arguments.length?(v=t===!0?{}:t,x):v},x.canvas=function(e){return arguments.length?(i=e,x):i||(t?t.canvas():void 0)},x.margins=function(e){return arguments.length?(T=e,x):T||(t?t.margins():void 0)},x.data=function(e){return arguments.length?(r=e,j(),x):r||(t?t.data():void 0)},x.index=function(t){return arguments.length?(p=t===!0?{}:t,x):p},x.genKey=function(e){return arguments.length?(a=e,j(),x):a||(void 0===a&&t?t.genKey():void 0)},x.context=function(e){return arguments.length?(s=e,x):s||(t?t.context():void 0)},x.hilight=function(e){return arguments.length?(o=e,x):o||(t?t.hilight():void 0)},x.size=function(e){return arguments.length?(u=e,w(),x):u||(t?t.size():V())},x.autoScale=function(t){return arguments.length?(S=t,x):S},x.resizeRender=function(t){return arguments.length?(m=t,x):m},x.clip=function(t){return arguments.length?(y=t,x):y},x.grid=function(t){return arguments.length?(c=t,_(),x):c},x};return n.flattenData=function(t){for(var e=[t];t.d;)t=t.d,e.unshift(t);return e},n}(),TTk.Visual.CSS_CLASS=TTk.CSS_PREFIX+"vis",TTk.Visual.CSS_PREFIX=TTk.Visual.CSS_CLASS+"-",TTk.Visual.SingleVisual=function(){var t,e,n,i,r,a,s,c=!0,o=!1,u=TTk.Visual(),l=function(t){return u(t)};u.render=function(e){var n=u.context(),i=u.data(),o=u.hilight(),l=u.canvas()||e;if(t.context(n),c===!0){var d=n.transform().origin().slice();d[2]=-1e4,i.forEach(function(e){e.centroid=t.centroid()(e),e.dist=TTk.Vector.dist(d,e.centroid)})}r=l.selectAll("."+t.cls()).data(i,t.key());var h=r.enter().append(t.tag()).attr("class",t.cls()),g=r.exit();t.classes()&&("function"==typeof t.classes()?r.attr("class",function(e){return t.cls()+" "+(t.classes()(e)||"")}):r.attr("class",t.cls()+" "+(t.classes()||""))),a&&a(h),s&&s(g),g.remove(),o&&(h.empty()||o(h),g.empty()||o.removeSel(g)),c&&r.sort(c===!0?function(t,e){return e.dist-t.dist}:c);var v=t.transition(),T=t.style(),p=f(T);p&&t.style(p),t.transition(TTk.identity),h.call(t),t.transition(v),r.call(t),p&&t.style(T);var S=u.index(),m=u.elements();if(S||m){S=!!S&&{},m=!!m&&{};var y=t.key();r.each(function(t,e){var n=y(t,e);S&&(S[n]=t),m&&(m[n]=d3.select(this).node())}),u.index(S),u.elements(m)}};var f=function(t){var r=u.hilight();if(r||e)return function(a,s){var c=e;if(r&&!r.isEmpty()){var o=TTk.Visual.flattenData(a);c=r.isHigh(o[0])?n||c:i||c}var u=(c?"function"==typeof c?c(a,s):c:null)||null;if(t){var l="function"==typeof t?t(a,s):t;u=u&&l?Object.assign(u,l):u||l}return u||{}}},d=function(t,e){return"ordinal"===t?{set:{},order:[]}:new TTk.MinMax},h={linear:function(t,e){t.update(e)},ordinal:function(t,e){t.set[e]||(t.set[e]=!0,t.order.push(e))}};h.utc=h.linear,h.log=h.linear;var g={linear:function(t,e,n){var i=t.domain();void 0!==e.min&&(n===!0||"object"==typeof n&&n[0])&&(i[0]=e.min),void 0!==e.min&&(n===!0||"object"==typeof n&&n[1])&&(i[1]=e.max),t.domain(i)},ordinal:function(t,e){t.domain(e.order)}};g.utc=g.linear,g.log=g.linear;var v=function(){if(o&&t&&t.point()){var e="function"==typeof o?o():o;if(e&&(e===!0&&(e=[!0,!0,!0]),e.some(TTk.identity))){var n=u.context().scale(),i=n.getScales(),r=n.usedTypes(),a=r.map(d),s=function(t,e){h[r[e]](a[e],t)},c=t.point();u.data().forEach(function(t,e){var n=c(t,e);n.forEach(s)}),a.forEach(function(t,n){g[r[n]](i[n],t,e[n])})}}};return l.shape=function(e){return arguments.length?(t=e,l):t},l.data=function(t){return arguments.length?(u.data(t),v(),l):u.data()},l.autoDomain=function(t){return arguments.length?(o=t,l):o},l.style=function(t){return arguments.length?(e=t,l):e},l.styleHigh=function(t){return arguments.length?(n=t,l):n},l.styleFade=function(t){return arguments.length?(i=t,l):i},l.selection=function(t){return arguments.length?l:r},l.enter=function(t){return arguments.length?(a=t,l):a},l.exit=function(t){return arguments.length?(s=t,l):s},l.sort=function(t){return arguments.length?(c=t,l):c},TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","index","genKey","context","hilight","size","autoScale","resizeRender","clip","grid"],l,u),l},TTk.Visual.MultiVisual=function(){var t,e=TTk.Visual(),n=[],i=function(t){return e(t)};e.render=function(i){t=i.selectAll("g."+TTk.Visual.CSS_PREFIX+"id"+e.id()).data(n,function(t){return t.id()}),t.enter().append("g").attr("class",function(t,n){return TTk.Visual.CSS_CLASS+" "+TTk.Visual.CSS_PREFIX+"id"+e.id()+" "+TTk.Visual.CSS_PREFIX+"mvis "+TTk.Visual.CSS_PREFIX+"mvis"+n}),t.exit().remove(),t.each(function(t){var n=d3.select(this);if(t){if(t(n),e.index()){var i=t.index();i&&e.index(Object.assign(e.index(),i))}if(e.elements()){var r=t.elements();r&&e.elements(Object.assign(e.elements(),r))}}})};var r=function(){n.forEach(function(t){t&&t.parent(i)})};return i.visuals=function(t){return arguments.length?(n=t,r(),i):n},i.selection=function(e){return arguments.length?i:t},TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","data","index","genKey","context","hilight","size","autoScale","resizeRender","clip","grid"],i,e),i},TTk.Visual.GroupedVisual=function(){var t,e,n=TTk.Visual(),i={},r=function(t){return t.groupKey},a=TTk.Utils.compare,s=!1,c={},o=[],u=function(t){n(t)};n.render=function(t){e=t.selectAll("g."+TTk.Visual.CSS_PREFIX+"id"+n.id()).data(o,function(t){return t}),e.enter().append("g").attr("class",function(t){return TTk.Visual.CSS_CLASS+" "+TTk.Visual.CSS_PREFIX+"id"+n.id()+" "+TTk.Visual.CSS_PREFIX+"gvis "+TTk.Visual.CSS_PREFIX+"gvis"+TTk.String.toIdentifier(t)}),e.exit().remove(),e.sort(a),e.each(function(t,e){var r=d3.select(this),a=i[t];if(a){if(a(r),n.index()){var s=a.index();s&&n.index(Object.assign(n.index(),s))}if(n.elements()){var c=a.elements();c&&n.elements(Object.assign(n.elements(),c))}}})};var l=function(){f(),d()},f=function(){var t=n.data()||[];c={},t.forEach(function(t,e){var n=r(t,e);if(s)n in c||(c[n]=t);else{var i=c[n]||(c[n]=[]);i.push(t)}}),o=Object.keys(c).sort(a)},d=function(){o.forEach(function(e,n){if(!(e in i)){if(!t)return;i[e]=t(e,n)}i[e].parent(u),i[e].data(c[e])})};return u.visuals=function(t){return arguments.length?(i=t,d(),u):i},u.selection=function(t){return arguments.length?u:e},u.generate=function(e){return arguments.length?(t=e,d(),u):t},u.group=function(t){return arguments.length?(r=t,l(),u):r},u.compare=function(t){return arguments.length?(a=t,l(),u):a},u.singleData=function(t){return arguments.length?(s=t,l(),u):s},u.data=function(t){return arguments.length?(n.data(t),l(),u):n.data()},TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","index","genKey","context","hilight","size","autoScale","resizeRender","clip","grid"],u,n),u},TTk.StyleSheet.set("."+TTk.Visual.CSS_CLASS,{"font-family":'"Roboto", "Helvetica", "Arial", sans-serif'});
},{"../core/math.js":82,"../core/string.js":98,"../core/stylesheet.js":99,"../core/ttk.js":103,"../core/utils.js":106,"./canvas.js":117,"./context.js":124,"./grid.js":125,"./shape-element.js":130,"./shape-poly.js":132,"./shape.js":133,"d3":5}],137:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/type.js"),_dereq_("../core/config.js"),_dereq_("../core/action.js"),_dereq_("../core/event.js"),_dereq_("../core/object.js"),_dereq_("../core/utils.js"),_dereq_("../core/string.js"),_dereq_("../core/stylesheet.js"),TTk.Dropdown=TTk.Dropdown||function(){var e={},t={filter:!1,emClosest:!1,onItemClick:null,onTab:null},n=TTk.Object.privateStore(),o=function(){var t=n(this);t.state=e.HIDDEN};o.CSS_PREFIX=TTk.CSS_PREFIX+"dropdown-",o.CSS_ITEM_ACTIVE="ttk-dropdown-item-active",o.CSS_ITEM_EMPH="ttk-dropdown-item-emph";var i=function(){var e=n(this);if(!e.nodes){e.nodes={};var t=e.nodes.list=document.createElement("ul");document.body.appendChild(t),t.classList.add(o.CSS_PREFIX+"list")}return e.nodes},l=function(){var e=i.call(this),t=n(this);t.activeItem=null,e.list.style.display="none"},r=function(e,t){var i=n(v);i.activeItem&&(i.activeItem.classList.remove(o.CSS_ITEM_ACTIVE),i.activeItem=null),e&&(i.activeItem=e,e.classList.add(o.CSS_ITEM_ACTIVE),t&&(i.input.value=e.textContent))},s=function(e){var t=n(v),l=i.call(v),s=v,c=l.list.childNodes,d=38===e.keyCode,u=40===e.keyCode;9===e.keyCode;if(d||u){if(u&&!t.activeItem)r.call(s,c[0],!0);else if(t.activeItem){for(var p=null,f=null,m=0;m<c.length;m++){var h=c[m];if(h==t.activeItem){p=c[m-1],f=c[m+1];break}}t.activeItem.classList.remove(o.CSS_ITEM_ACTIVE),d&&(p?r.call(s,p,!0):r.call(s,c[c.length-1],!0)),u&&(f?r.call(s,f,!0):r.call(s,c[0],!0))}}else a.call(s)},c=function(e){var t=n(v),o=(i.call(v),9===e.keyCode),l=9===e.keyCode;if((o||l)&&(e.preventDefault(),t.emphItem&&(r.call(this,t.emphItem,!0),d.call(this))),o&&t.config.onTab){var s=t.activeItem.textContent||null,c=t.emphItem.textContent||null;t.config.onTab(s,c)}},a=function(){for(var e=n(this),t=i.call(this),o=t.list.childNodes,l={score:99,node:null},s=null,c=0;c<o.length;c++){var a=TTk.String.matchDist(e.input.value.toUpperCase(),o[c].textContent.toUpperCase());if(0===a){s=o[c],l.node=null;break}a<l.score&&(l.score=a,l.node=o[c])}e.config.emClosest&&d.call(this,l.node),r.call(this,s)},d=function(e){var t=n(this);t.emphItem&&(t.emphItem.classList.remove(o.CSS_ITEM_EMPH),t.emphItem=null),e&&(t.emphItem=e,e.classList.add(o.CSS_ITEM_EMPH))};o.prototype.showDropdown=function(e,o,a){var d=n(this);d.input=e;var u=i.call(this);d.config={};for(var p in t)d.config[p]=a&&a[p]?a[p]:t[p];var d=n(this),v=this;u.list.innerHTML="";var f=o.map(function(e){var t=document.createElement("li");return t.textContent=e,u.list.appendChild(t),t}),m=e.getBoundingClientRect(),h=m.bottom+document.body.scrollTop,I=m.left+document.body.scrollLeft;u.list.style.top=h+"px",u.list.style.left=I+"px",u.list.style.width=m.width+"px",u.list.style.display="",f.forEach(function(e){e.addEventListener("mouseover",function(t){f.forEach(function(t){e===t&&r.call(v,e,!1)})}),e.addEventListener("mouseout",function(e){r.call(v)}),e.addEventListener("mouseup",function(t){r.call(v,e,!0),l.call(v),d.config.onItemClick&&d.config.onItemClick(e.textContent)})}),e.addEventListener("keyup",s),e.addEventListener("keydown",c)};var u=function(t,o,i){var l=n(v);l.state!==e.HIDDEN&&l.state!==e.HOVER||v.showDropdown(t,o,i)},p={};o.addDropdown=function(e,t,n){p[e]||(p[e]=u.bind(v,e,t,n),e.addEventListener("focus",p[e]))},o.removeDropdown=function(e){if(p[e]){var t=n(v);e.removeEventListener("focus",p[e]),delete p[e],t.input===e&&l.call(v)}},o.getDiv=function(){var e=(n(v),i.call(v));return e.list};var v=new o;return o}(),TTk.StyleSheet.set(".ttk-dropdown-list li.ttk-dropdown-item-emph",{border:"1px dashed #ccc"}),TTk.StyleSheet.set(".ttk-dropdown-list",{position:"absolute",padding:"0",margin:"0","z-index":"10000","list-style-type":"none",border:"1px solid #ccc","border-top":"0",width:"100%"}),TTk.StyleSheet.set(".ttk-dropdown-list li",{"background-color":"#fff",padding:"1px 4px","font-size":"13px",border:"1px solid transparent"}),TTk.StyleSheet.set(".ttk-dropdown-list li.ttk-dropdown-item-active",{"background-color":"blue",color:"#fff"});
},{"../core/action.js":72,"../core/config.js":75,"../core/event.js":78,"../core/object.js":90,"../core/string.js":98,"../core/stylesheet.js":99,"../core/ttk.js":103,"../core/type.js":104,"../core/utils.js":106}],138:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/type.js"),_dereq_("../core/config.js"),_dereq_("../core/action.js"),_dereq_("../core/event.js"),_dereq_("../core/object.js"),_dereq_("../core/utils.js"),_dereq_("../core/utils-client.js"),_dereq_("../core/stylesheet.js"),_dereq_("./dropdown.js"),TTk.EditInPlace=TTk.EditInPlace||function(){var t={HIDDEN:1,HOVER:3,EDIT:5,SUBMITTING:6},e={minWidth:55,maxWidth:null,inputValueFn:null,resultFn:null,actionButtons:!1,dataList:[],emClosest:!1,multiLine:!1},i="        ",n=TTk.Object.privateStore(),o=function(){var e=n(this);e.state=t.HIDDEN};o.CSS_PREFIX=TTk.CSS_PREFIX+"edit-",o.CSS_HOVER=o.CSS_PREFIX+"hovering",o.CSS_EDIT=o.CSS_PREFIX+"editing",o.CSS_SUBMIT=o.CSS_PREFIX+"submitting";var d=function(){var e=n(this),i=this;if(!e.nodes){e.nodes={};var d=e.nodes.div=document.body.appendChild(document.createElement("div"));d.classList.add(o.CSS_PREFIX+"box"),d.addEventListener("mouseout",function(){e.state!==t.HOVER&&e.state!==t.SUBMITTING&&e.state!==t.CANCELLING||s.call(i)}),document.body.addEventListener("mousemove",function(n){e.bbox&&e.state!==t.HIDDEN&&(n.pageX<e.bbox.left-1||n.pageX>e.bbox.right+25||n.pageY<e.bbox.top-2||n.pageY>e.bbox.bottom+1)&&e.state!==t.EDIT&&s.call(i)}),d.addEventListener("click",function(){i.showEdit()});var l=e.nodes.editBox=d.appendChild(document.createElement("div"));l.style.display="none";var r=e.nodes.btnContainer=l.appendChild(document.createElement("div"));r.classList.add(o.CSS_PREFIX+"buttons");var c=r.appendChild(document.createElement("div"));c.classList.add(o.CSS_PREFIX+"btnSubmit"),c.classList.add(o.CSS_PREFIX+"btn");var u=r.appendChild(document.createElement("div"));u.classList.add(o.CSS_PREFIX+"btnCancel"),u.classList.add(o.CSS_PREFIX+"btn"),c.addEventListener("click",function(){a.call(i)}),u.addEventListener("click",function(){s.call(i)});var p=e.nodes.input=l.appendChild(document.createElement("input"));p.setAttribute("type","text"),p.classList.add(o.CSS_PREFIX+"input"),p.addEventListener("keydown",function(t){13===t.keyCode&&a.call(i),27===t.keyCode&&s.call(i)});var g=e.nodes.inputML=TTk.ClientUtils.appendElements(l,{T:"textarea",class:o.CSS_PREFIX+"inputML",style:"display:none"});g.addEventListener("keydown",function(t){9===t.keyCode&&a.call(i),27===t.keyCode&&s.call(i)}),e.nodes.inputCur=p,document.addEventListener("click",function(n){e.state===t.EDIT&&(d.contains(n.target)||e.config.dataList.length&&TTk.Dropdown.getDiv().contains(n.target)||a.call(i))})}return e.nodes};o.prototype.showEdit=function(){var e=n(this);if(e.state===t.HOVER||e.state===t.INVALID){e.state=t.EDIT;var s=d.call(this),c=(e.sourceNode.getBoundingClientRect(),{}),u=this,p=window.getComputedStyle(e.sourceNode);s.inputCur.style.display="none";var g=s.inputCur=e.config.multiLine?s.inputML:s.input;e.config.dataList.length&&TTk.Dropdown.addDropdown(g,e.config.dataList,{onItemClick:function(){a.call(u)},emClosest:e.config.emClosest});var S=TTk.ClientUtils.removeHTML(e.sourceNode.innerHTML);g.value=e.config.inputValueFn?e.config.inputValueFn(S):S,g.value===i&&(g.value=""),l.call(this),s.div.classList.add(o.CSS_EDIT),c["font-size"]=p.fontSize,c["font-weight"]=p.fontWeight,c["text-align"]=r(e.sourceNode),c.color=e.sourceNode instanceof SVGElement?p.fill:p.color,TTk.StyleSheet.set(".ttk-edit-input, .ttk-edit-inputML",c),e.sourceNode.style.visibility="hidden",s.editBox.style.display="block",g.style.display="block",g.focus(),g.select(),s.div.style.width=g.getBoundingClientRect().width+"px",e.config.actionButtons?(s.btnContainer.style.display="",e.config.dataList.length?s.btnContainer.style.bottom=window.getComputedStyle(g).height:s.btnContainer.style.top=window.getComputedStyle(s.editBox).height):s.btnContainer.style.display="none"}};var a=function(){var e=n(this);e.state=t.SUBMITTING,l.call(this);var a=d.call(this);a.div.classList.add(o.CSS_SUBMIT);var a=d.call(this),r=a.inputCur.value;e.config.resultFn?e.config.resultFn(r):(e.sourceNode.innerHTML=r,""===r&&e.sourceNode instanceof SVGElement&&(e.sourceNode.innerHTML="",e.sourceNode.appendChild(document.createTextNode(i)))),s.call(this)},s=function(){var e=n(this);e.state=t.HIDDEN;var i=d.call(this);i.div.style.display="none",l.call(this),i.dataList&&(i.dataList.parentNode.removeChild(i.dataList),i.dataList=null),e.config.dataList.length&&TTk.Dropdown.removeDropdown(i.inputCur,e.config.dataList),i.editBox.style.display="none",e.sourceNode.style.visibility=""},l=function(){var t=(n(this),d.call(this));t.div.classList.remove(o.CSS_HOVER),t.div.classList.remove(o.CSS_EDIT),t.div.classList.remove(o.CSS_SUBMIT)},r=function(t){var e=window.getComputedStyle(t),i=t.getAttribute("text-anchor")||e.textAlign||e.textAnchor;switch(i){case"start":return"left";case"middle":return"center";case"end":return"right";default:return i}};o.prototype.showOutline=function(i,a){var s=n(this);if(s.state!==t.HOVER||i!==s.sourceNode){s.sourceNode=i,s.state=t.HOVER,s.config={};for(var l in e)s.config[l]=a&&a[l]?a[l]:e[l];var c=d.call(this),u=i.getBoundingClientRect(),p=r(i),g=u.width+5,S={};g<s.config.minWidth&&(g=s.config.minWidth),s.config.maxWidth&&g>s.config.maxWidth&&(g=s.config.maxWidth);var S=s.bbox={top:u.top+document.body.scrollTop};if("right"===p)S.left=u.right+document.body.scrollLeft-g;else if("center"===p&&s.config.minWidth===g){var h=s.config.minWidth-u.width;S.left=u.left+document.body.scrollLeft-h/2}else S.left=u.left+document.body.scrollLeft;S.right=S.left+g,S.bottom=S.top+u.height,S.height=u.height,c.div.style.left=S.left+"px",c.div.style.top=S.top+"px",c.div.style.height=S.height+"px",c.div.style.width=g+"px",c.div.style.display="",c.div.classList.add(o.CSS_HOVER)}},o.setEditable=function(e,i){var o;if((o=e._ttkEditInPlaceHandler)&&(e.removeEventListener("mouseover",o,!1),e._ttkEditInPlaceHandler=null),i!==!1){var d=n(c),o=function(){d.state!==t.HIDDEN&&d.state!==t.HOVER||c.showOutline(e,i)};e.addEventListener("mouseover",o,!1),e._ttkEditInPlaceHandler=o}};var c=new o;return o}(),TTk.StyleSheet.set(".ttk-edit-box",{position:"absolute","border-radius":"3px 0 0 3px","z-index":"999"}),TTk.StyleSheet.set(".ttk-edit-input, .ttk-edit-inputML",{"background-color":"transparent",border:"1px solid #aaa",display:"block",width:"100%",height:"100%"}),TTk.StyleSheet.set(".ttk-edit-input:focus, .ttk-edit-inputML:focus",{outline:"none"}),TTk.StyleSheet.set(".ttk-edit-buttons",{position:"absolute",width:"60px",height:"32px",right:"-5px","background-color":"#ddd","border-radius":"0 0 3px 3px"}),TTk.StyleSheet.set(".ttk-edit-btn",{display:"inline-block",height:"25px",width:"25px","background-position":"50% 50%","background-repeat":"no-repeat","background-size":"90%","background-color":"#eee",margin:"3px 0 3px 3px","border-radius":"3px",border:"1px solid #bbb","box-sizing":"border-box",cursor:"pointer"}),TTk.StyleSheet.set(".ttk-datalist",{padding:"0",margin:"0","list-style-type":"none",border:"1px solid #ccc","border-top":"0",width:"100%"}),TTk.StyleSheet.set(".ttk-datalist li",{"background-color":"#fff",padding:"1px 4px","font-size":"13px"}),TTk.StyleSheet.set(".ttk-datalist li.ttk-datalist-item-active",{"background-color":"blue",color:"#fff"}),TTk.StyleSheet.set(".ttk-edit-btnSubmit",{"background-image":"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAAAXNSR0IArs4c6QAAAoNJREFUSA3tU81rU0EQn900KX5EBKkKUlEUDx5UtNSkB0EUPFjIS0qICCKCxB5EhCatRYSAJ5uIiAha0JtScrBJq0LVVALSpCHiyZN/Qb2pwTYv2TfOvrghSV9NY3IRnMObnd98/N7MzgL8lxYmwFqIbRo6kvOdgLIRdjq2ByJ9kz9VAleHdvVYzjNABK8AcPBHaellJB/cqGp2pJPRBa1fMHwLCFtUYWDw3mnfMSg7aruTcMZ3VADM1RFIJoSTBX0pLo9tkYSyQ4cQjDdUcassVis0ohXexe5J7K9JRrL+g2CId4i4rbb473PRZgNtoj+RWkUytug9HMFIl0VSHTS+6D3AUE8hYE+dgwzGmM45+O4cT84pX7WTUGbodNnATCH7KR757HeogEYdzmv7dMOYR4SdjT5iKHHg/qgr+brWZ5JIAgQxA4gbKNlb+FaarV1BlXAjo+1BHefpUncpTGm6gzL1cW7C/WJGYUqz0Zx2SgiYlQQKNDVjH5xs09mI69l3ad/MeXqLAtL0E3vr4irBgjE4H3MnzG1q9LPQgpag2XoaHZVc9tHB2Rlh7+4WxeU0dbC/MY7uwKAfvBAbSD5v9Cmb7+7pDVCr9FItBPGYLoy0WFlOrUXAkF36E4GsSvUBHueD9i+lr1O0jj5pr0sYIGf8ctQ1/bRZvHnxV/omS5tdRwI016lmCaafCGiThtdDIOPNTlThOPptuWzpCXV0UWFWmnN+lQgeWvmssDoSGUAELJTxPqJT0CqBc3Y96krct/KthVUfowqgbcGYe3qYxvFAYUrTSw63SiBzV5FIUBLddSeuMeAxaUuhEY3TS67aFbRD33BGux3Karc6VO4fL/MLzf/efFiztnkAAAAASUVORK5CYII=')"}),TTk.StyleSheet.set(".ttk-edit-btnCancel",{"background-image":"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAAAXNSR0IArs4c6QAAAlhJREFUSA3dVc2OEzEMtjNHxFtQXoR34NDOCsSygFYcEX+l00yXwgq0N4SAVQXVTvfQ04pn4VbOvAHHiXE8P/VM0kocYS5xPjv+Yo/tAPy3H9lRSpPR078JkNbrhLJhQTa9HTuHGvQE4GAJRAbAjPGkeKP1MZmsNVBuLgBoyPoSEjNEW6y1LTurvi6Bx9ycsnRSq6OLELjNt5rA2yRQust+RC0J3+FWFYHyR27GRFYhrVhHsOAzBy1YCQk4GmhsS5IMDgFxqZUik5tSNnqtcSJCcD+/cAR3NS4ygsXZaq7xlgStdWAG9wDhqzYQmWhM09FbLwvBNP0M5A4DO4QTnF3mfbzz47dODs7jTvA9X+I6p+NR3xFnYc4RvApwBgKSLZG/LR3FDgWYwVPMVy8CvAbadGkDRCTIi4dg8JPGo7LBd/sI/JloJI0zyb9NP3B6jhussyKecYqedLDIJhpJYycREfxu9sGKcE0uEii6wP5IfEU5et490tshnvvUyoV6qma7k0R6g0u3Mdy7olmAufFA2iBiGE0X90TOlRUSGPzIpXoW+PE9U24WMgUCJU/BPibzylHWx6XSbPFYfjRXVKD33c9zLEbUIaFJ+pKbcBY48Hm3xXGTdy7ZZ0x6Gtj5OcYT2Y9+rWtJqjfEdWaOGPp8R36s9AZ3uXZWyTzyf1wtNd6S8JD+xfl2WilzLL84aiLo6HgjY4TnVQ8vwZjvGmtJ0K4K/kN3WiI/kc3N+7sIGic8EDO+jK330UcrKGF5vPzbwqN/V0k2BHrlkh/zf9r0X0Vt8+/LfwAFz/PIJV5dhwAAAABJRU5ErkJggg==')"}),TTk.StyleSheet.set(".ttk-edit-btn:hover",{"background-color":"#fff"}),TTk.StyleSheet.set(".ttk-edit-hovering",{border:"1px solid #bbb"}),TTk.StyleSheet.set(".ttk-edit-hovering:after",{content:'"\\00a0"',position:"absolute",right:"-24px",top:"-1px",width:"24px",height:"calc(100% + 2px) ","border-radius":"0 3px 3px 0",background:"50% 50% no-repeat #bbb","background-image":'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAAAXNSR0IArs4c6QAAAPVJREFUWAntlU0KwjAQhZNCd+69gjs3LnsDL+MJvIZH6QG6rWdQEBTBnUuR+KYkMJRIIuZnMw+GDNOf9/GatkqJJIFKCRhjOlSPWlRCUMpCPLGSBlR5GJhSEg4C7aSyMLD0QViWQskEIMrAREI4mD7L5v0RgvZOlxxEIFykkoQk4RJwq+wJlkSLNE6oGGX7WDUEBII16hEgyQNhAQ4wX0XA5IOw5heA3AIw2SGW7FF8g8kLYdPYMhBq5zBnzNL/RcmcCyZ7cp+Jw7T8/BT99GZ4brTxzN6Y7QDXaK1fnuN/jbTvapiNmF9RRxT1I8zvWEWSQLUEPrCnkPI3T6ZSAAAAAElFTkSuQmCC")',"background-size":"contain"});
},{"../core/action.js":72,"../core/config.js":75,"../core/event.js":78,"../core/object.js":90,"../core/stylesheet.js":99,"../core/ttk.js":103,"../core/type.js":104,"../core/utils-client.js":105,"../core/utils.js":106,"./dropdown.js":137}],139:[function(_dereq_,module,exports){

},{}],140:[function(_dereq_,module,exports){
(function (global){
"use strict";function typedArraySupport(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Buffer(t){return this instanceof Buffer?(Buffer.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?fromNumber(this,t):"string"==typeof t?fromString(this,t,arguments.length>1?arguments[1]:"utf8"):fromObject(this,t)):arguments.length>1?new Buffer(t,arguments[1]):new Buffer(t)}function fromNumber(t,e){if(t=allocate(t,e<0?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;r++)t[r]=0;return t}function fromString(t,e,r){"string"==typeof r&&""!==r||(r="utf8");var n=0|byteLength(e,r);return t=allocate(t,n),t.write(e,r),t}function fromObject(t,e){if(Buffer.isBuffer(e))return fromBuffer(t,e);if(isArray(e))return fromArray(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return fromTypedArray(t,e);if(e instanceof ArrayBuffer)return fromArrayBuffer(t,e)}return e.length?fromArrayLike(t,e):fromJsonObject(t,e)}function fromBuffer(t,e){var r=0|checked(e.length);return t=allocate(t,r),e.copy(t,0,0,r),t}function fromArray(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function fromTypedArray(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function fromArrayBuffer(t,e){return Buffer.TYPED_ARRAY_SUPPORT?(e.byteLength,t=Buffer._augment(new Uint8Array(e))):t=fromTypedArray(t,new Uint8Array(e)),t}function fromArrayLike(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function fromJsonObject(t,e){var r,n=0;"Buffer"===e.type&&isArray(e.data)&&(r=e.data,n=0|checked(r.length)),t=allocate(t,n);for(var f=0;f<n;f+=1)t[f]=255&r[f];return t}function allocate(t,e){Buffer.TYPED_ARRAY_SUPPORT?(t=Buffer._augment(new Uint8Array(e)),t.__proto__=Buffer.prototype):(t.length=e,t._isBuffer=!0);var r=0!==e&&e<=Buffer.poolSize>>>1;return r&&(t.parent=rootParent),t}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function SlowBuffer(t,e){if(!(this instanceof SlowBuffer))return new SlowBuffer(t,e);var r=new Buffer(t,e);return delete r.parent,r}function byteLength(t,e){"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(n)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),n=!0}}function slowToString(t,e,r){var n=!1;if(e|=0,r=void 0===r||r===1/0?this.length:0|r,t||(t="utf8"),e<0&&(e=0),r>this.length&&(r=this.length),r<=e)return"";for(;;)switch(t){case"hex":return hexSlice(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return asciiSlice(this,e,r);case"binary":return binarySlice(this,e,r);case"base64":return base64Slice(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function hexWrite(t,e,r,n){r=Number(r)||0;var f=t.length-r;n?(n=Number(n),n>f&&(n=f)):n=f;var i=e.length;if(i%2!==0)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;o++){var u=parseInt(e.substr(2*o,2),16);if(isNaN(u))throw new Error("Invalid hex string");t[r+o]=u}return o}function utf8Write(t,e,r,n){return blitBuffer(utf8ToBytes(e,t.length-r),t,r,n)}function asciiWrite(t,e,r,n){return blitBuffer(asciiToBytes(e),t,r,n)}function binaryWrite(t,e,r,n){return asciiWrite(t,e,r,n)}function base64Write(t,e,r,n){return blitBuffer(base64ToBytes(e),t,r,n)}function ucs2Write(t,e,r,n){return blitBuffer(utf16leToBytes(e,t.length-r),t,r,n)}function base64Slice(t,e,r){return 0===e&&r===t.length?base64.fromByteArray(t):base64.fromByteArray(t.slice(e,r))}function utf8Slice(t,e,r){r=Math.min(t.length,r);for(var n=[],f=e;f<r;){var i=t[f],o=null,u=i>239?4:i>223?3:i>191?2:1;if(f+u<=r){var s,a,h,c;switch(u){case 1:i<128&&(o=i);break;case 2:s=t[f+1],128===(192&s)&&(c=(31&i)<<6|63&s,c>127&&(o=c));break;case 3:s=t[f+1],a=t[f+2],128===(192&s)&&128===(192&a)&&(c=(15&i)<<12|(63&s)<<6|63&a,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:s=t[f+1],a=t[f+2],h=t[f+3],128===(192&s)&&128===(192&a)&&128===(192&h)&&(c=(15&i)<<18|(63&s)<<12|(63&a)<<6|63&h,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),f+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(t){var e=t.length;if(e<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(t,e,r){var n="";r=Math.min(t.length,r);for(var f=e;f<r;f++)n+=String.fromCharCode(127&t[f]);return n}function binarySlice(t,e,r){var n="";r=Math.min(t.length,r);for(var f=e;f<r;f++)n+=String.fromCharCode(t[f]);return n}function hexSlice(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=e;i<r;i++)f+=toHex(t[i]);return f}function utf16leSlice(t,e,r){for(var n=t.slice(e,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,n,f,i){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>f||e<i)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range")}function objectWriteUInt16(t,e,r,n){e<0&&(e=65535+e+1);for(var f=0,i=Math.min(t.length-r,2);f<i;f++)t[r+f]=(e&255<<8*(n?f:1-f))>>>8*(n?f:1-f)}function objectWriteUInt32(t,e,r,n){e<0&&(e=4294967295+e+1);for(var f=0,i=Math.min(t.length-r,4);f<i;f++)t[r+f]=e>>>8*(n?f:3-f)&255}function checkIEEE754(t,e,r,n,f,i){if(e>f||e<i)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range");if(r<0)throw new RangeError("index out of range")}function writeFloat(t,e,r,n,f){return f||checkIEEE754(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(t,e,r,n,23,4),r+4}function writeDouble(t,e,r,n,f){return f||checkIEEE754(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(t,e,r,n,52,8),r+8}function base64clean(t){if(t=stringtrim(t).replace(INVALID_BASE64_RE,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){e=e||1/0;for(var r,n=t.length,f=null,i=[],o=0;o<n;o++){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!f){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),f=r;continue}r=(f-55296<<10|r-56320)+65536}else f&&(e-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function utf16leToBytes(t,e){for(var r,n,f,i=[],o=0;o<t.length&&!((e-=2)<0);o++)r=t.charCodeAt(o),n=r>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(t){return base64.toByteArray(base64clean(t))}function blitBuffer(t,e,r,n){for(var f=0;f<n&&!(f+r>=e.length||f>=t.length);f++)e[f+r]=t[f];return f}var base64=_dereq_("base64-js"),ieee754=_dereq_("ieee754"),isArray=_dereq_("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT?(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array):(Buffer.prototype.length=void 0,Buffer.prototype.parent=void 0),Buffer.isBuffer=function(t){return!(null==t||!t._isBuffer)},Buffer.compare=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,f=0,i=Math.min(r,n);f<i&&t[f]===e[f];)++f;return f!==i&&(r=t[f],n=e[f]),r<n?-1:n<r?1:0},Buffer.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(t,e){if(!isArray(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new Buffer(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;r++)e+=t[r].length;var n=new Buffer(e),f=0;for(r=0;r<t.length;r++){var i=t[r];i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function(){var t="",e=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:Buffer.compare(this,t)},Buffer.prototype.indexOf=function(t,e){function r(t,e,r){for(var n=-1,f=0;r+f<t.length;f++)if(t[r+f]===e[n===-1?0:f-n]){if(n===-1&&(n=f),f-n+1===e.length)return r+n}else n=-1;return-1}if(e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(e<0&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(Buffer.isBuffer(t))return r(this,t,e);if("number"==typeof t)return Buffer.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):r(this,[t],e);throw new TypeError("val must be string, number or Buffer")},Buffer.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},Buffer.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},Buffer.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var f=n;n=e,e=0|r,r=f}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return hexWrite(this,t,e,r);case"utf8":case"utf-8":return utf8Write(this,t,e,r);case"ascii":return asciiWrite(this,t,e,r);case"binary":return binaryWrite(this,t,e,r);case"base64":return base64Write(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var n;if(Buffer.TYPED_ARRAY_SUPPORT)n=Buffer._augment(this.subarray(t,e));else{var f=e-t;n=new Buffer(f,void 0);for(var i=0;i<f;i++)n[i]=this[i+t]}return n.length&&(n.parent=this.parent||this),n},Buffer.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t],f=1,i=0;++i<e&&(f*=256);)n+=this[t+i]*f;return n},Buffer.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t+--e],f=1;e>0&&(f*=256);)n+=this[t+--e]*f;return n},Buffer.prototype.readUInt8=function(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t],f=1,i=0;++i<e&&(f*=256);)n+=this[t+i]*f;return f*=128,n>=f&&(n-=Math.pow(2,8*e)),n},Buffer.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=e,f=1,i=this[t+--n];n>0&&(f*=256);)i+=this[t+--n]*f;return f*=128,i>=f&&(i-=Math.pow(2,8*e)),i},Buffer.prototype.readInt8=function(t,e){return e||checkOffset(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},Buffer.prototype.readInt16LE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||checkInt(this,t,e,r,Math.pow(2,8*r),0);var f=1,i=0;for(this[e]=255&t;++i<r&&(f*=256);)this[e+i]=t/f&255;return e+r},Buffer.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||checkInt(this,t,e,r,Math.pow(2,8*r),0);var f=r-1,i=1;for(this[e+f]=255&t;--f>=0&&(i*=256);)this[e+f]=t/i&255;return e+r},Buffer.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,t,e,r,f-1,-f)}var i=0,o=1,u=t<0?1:0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,t,e,r,f-1,-f)}var i=r-1,o=1,u=t<0?1:0;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var f,i=n-r;if(this===t&&r<e&&e<n)for(f=i-1;f>=0;f--)t[f+e]=this[f+r];else if(i<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(f=0;f<i;f++)t[f+e]=this[f+r];else t._set(this.subarray(r,r+i),e);return i},Buffer.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),r<e)throw new RangeError("end < start");if(r!==e&&0!==this.length){if(e<0||e>=this.length)throw new RangeError("start out of bounds");if(r<0||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=e;n<r;n++)this[n]=t;else{var f=utf8ToBytes(t.toString()),i=f.length;for(n=e;n<r;n++)this[n]=f[n%i]}return this}},Buffer.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(Buffer.TYPED_ARRAY_SUPPORT)return new Buffer(this).buffer;for(var t=new Uint8Array(this.length),e=0,r=t.length;e<r;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype;Buffer._augment=function(t){return t.constructor=Buffer,t._isBuffer=!0,t._set=t.set,t.get=BP.get,t.set=BP.set,t.write=BP.write,t.toString=BP.toString,t.toLocaleString=BP.toString,t.toJSON=BP.toJSON,t.equals=BP.equals,t.compare=BP.compare,t.indexOf=BP.indexOf,t.copy=BP.copy,t.slice=BP.slice,t.readUIntLE=BP.readUIntLE,t.readUIntBE=BP.readUIntBE,t.readUInt8=BP.readUInt8,t.readUInt16LE=BP.readUInt16LE,t.readUInt16BE=BP.readUInt16BE,t.readUInt32LE=BP.readUInt32LE,t.readUInt32BE=BP.readUInt32BE,t.readIntLE=BP.readIntLE,t.readIntBE=BP.readIntBE,t.readInt8=BP.readInt8,t.readInt16LE=BP.readInt16LE,t.readInt16BE=BP.readInt16BE,t.readInt32LE=BP.readInt32LE,t.readInt32BE=BP.readInt32BE,t.readFloatLE=BP.readFloatLE,t.readFloatBE=BP.readFloatBE,t.readDoubleLE=BP.readDoubleLE,t.readDoubleBE=BP.readDoubleBE,t.writeUInt8=BP.writeUInt8,t.writeUIntLE=BP.writeUIntLE,t.writeUIntBE=BP.writeUIntBE,t.writeUInt16LE=BP.writeUInt16LE,t.writeUInt16BE=BP.writeUInt16BE,t.writeUInt32LE=BP.writeUInt32LE,t.writeUInt32BE=BP.writeUInt32BE,t.writeIntLE=BP.writeIntLE,t.writeIntBE=BP.writeIntBE,t.writeInt8=BP.writeInt8,t.writeInt16LE=BP.writeInt16LE,t.writeInt16BE=BP.writeInt16BE,t.writeInt32LE=BP.writeInt32LE,t.writeInt32BE=BP.writeInt32BE,t.writeFloatLE=BP.writeFloatLE,t.writeFloatBE=BP.writeFloatBE,t.writeDoubleLE=BP.writeDoubleLE,t.writeDoubleBE=BP.writeDoubleBE,t.fill=BP.fill,t.inspect=BP.inspect,t.toArrayBuffer=BP.toArrayBuffer,t};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"base64-js":141,"ieee754":142,"isarray":143}],141:[function(_dereq_,module,exports){
var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function r(t){var r=t.charCodeAt(0);return r===h||r===u?62:r===c||r===f?63:r<o?-1:r<o+10?r-o+26+26:r<i+26?r-i:r<A+26?r-A+26:void 0}function e(t){function e(t){i[f++]=t}var n,h,c,o,A,i;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=t.length;A="="===t.charAt(u-2)?2:"="===t.charAt(u-1)?1:0,i=new a(3*t.length/4-A),c=A>0?t.length-4:t.length;var f=0;for(n=0,h=0;n<c;n+=4,h+=3)o=r(t.charAt(n))<<18|r(t.charAt(n+1))<<12|r(t.charAt(n+2))<<6|r(t.charAt(n+3)),e((16711680&o)>>16),e((65280&o)>>8),e(255&o);return 2===A?(o=r(t.charAt(n))<<2|r(t.charAt(n+1))>>4,e(255&o)):1===A&&(o=r(t.charAt(n))<<10|r(t.charAt(n+1))<<4|r(t.charAt(n+2))>>2,e(o>>8&255),e(255&o)),i}function n(t){function r(t){return lookup.charAt(t)}function e(t){return r(t>>18&63)+r(t>>12&63)+r(t>>6&63)+r(63&t)}var n,a,h,c=t.length%3,o="";for(n=0,h=t.length-c;n<h;n+=3)a=(t[n]<<16)+(t[n+1]<<8)+t[n+2],o+=e(a);switch(c){case 1:a=t[t.length-1],o+=r(a>>2),o+=r(a<<4&63),o+="==";break;case 2:a=(t[t.length-2]<<8)+t[t.length-1],o+=r(a>>10),o+=r(a>>4&63),o+=r(a<<2&63),o+="="}return o}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,h="+".charCodeAt(0),c="/".charCodeAt(0),o="0".charCodeAt(0),A="a".charCodeAt(0),i="A".charCodeAt(0),u="-".charCodeAt(0),f="_".charCodeAt(0);t.toByteArray=e,t.fromByteArray=n}("undefined"==typeof exports?this.base64js={}:exports);
},{}],142:[function(_dereq_,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:(s?-1:1)*(1/0);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],143:[function(_dereq_,module,exports){
var toString={}.toString;module.exports=Array.isArray||function(r){return"[object Array]"==toString.call(r)};
},{}],144:[function(_dereq_,module,exports){
"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=_dereq_("randombytes"),exports.createHash=exports.Hash=_dereq_("create-hash"),exports.createHmac=exports.Hmac=_dereq_("create-hmac");var hashes=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(_dereq_("browserify-sign/algos")));exports.getHashes=function(){return hashes};var p=_dereq_("pbkdf2");exports.pbkdf2=p.pbkdf2,exports.pbkdf2Sync=p.pbkdf2Sync;var aes=_dereq_("browserify-cipher");["Cipher","createCipher","Cipheriv","createCipheriv","Decipher","createDecipher","Decipheriv","createDecipheriv","getCiphers","listCiphers"].forEach(function(e){exports[e]=aes[e]});var dh=_dereq_("diffie-hellman");["DiffieHellmanGroup","createDiffieHellmanGroup","getDiffieHellman","createDiffieHellman","DiffieHellman"].forEach(function(e){exports[e]=dh[e]});var sign=_dereq_("browserify-sign");["createSign","Sign","createVerify","Verify"].forEach(function(e){exports[e]=sign[e]}),exports.createECDH=_dereq_("create-ecdh");var publicEncrypt=_dereq_("public-encrypt");["publicEncrypt","privateEncrypt","publicDecrypt","privateDecrypt"].forEach(function(e){exports[e]=publicEncrypt[e]}),["createCredentials"].forEach(function(e){exports[e]=function(){throw new Error(["sorry, "+e+" is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))}});
},{"browserify-cipher":145,"browserify-sign":175,"browserify-sign/algos":174,"create-ecdh":242,"create-hash":268,"create-hmac":281,"diffie-hellman":282,"pbkdf2":289,"public-encrypt":291,"randombytes":336}],145:[function(_dereq_,module,exports){
function createCipher(e,r){var s,i;if(e=e.toLowerCase(),aesModes[e])s=aesModes[e].key,i=aesModes[e].iv;else{if(!desModes[e])throw new TypeError("invalid suite type");s=8*desModes[e].key,i=desModes[e].iv}var t=ebtk(r,!1,s,i);return createCipheriv(e,t.key,t.iv)}function createDecipher(e,r){var s,i;if(e=e.toLowerCase(),aesModes[e])s=aesModes[e].key,i=aesModes[e].iv;else{if(!desModes[e])throw new TypeError("invalid suite type");s=8*desModes[e].key,i=desModes[e].iv}var t=ebtk(r,!1,s,i);return createDecipheriv(e,t.key,t.iv)}function createCipheriv(e,r,s){if(e=e.toLowerCase(),aesModes[e])return aes.createCipheriv(e,r,s);if(desModes[e])return new DES({key:r,iv:s,mode:e});throw new TypeError("invalid suite type")}function createDecipheriv(e,r,s){if(e=e.toLowerCase(),aesModes[e])return aes.createDecipheriv(e,r,s);if(desModes[e])return new DES({key:r,iv:s,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(desModes).concat(aes.getCiphers())}var ebtk=_dereq_("evp_bytestokey"),aes=_dereq_("browserify-aes/browser"),DES=_dereq_("browserify-des"),desModes=_dereq_("browserify-des/modes"),aesModes=_dereq_("browserify-aes/modes");exports.createCipher=exports.Cipher=createCipher,exports.createCipheriv=exports.Cipheriv=createCipheriv,exports.createDecipher=exports.Decipher=createDecipher,exports.createDecipheriv=exports.Decipheriv=createDecipheriv,exports.listCiphers=exports.getCiphers=getCiphers;
},{"browserify-aes/browser":148,"browserify-aes/modes":152,"browserify-des":163,"browserify-des/modes":164,"evp_bytestokey":173}],146:[function(_dereq_,module,exports){
(function (Buffer){
function fixup_uint32(t){var e,i;return e=t>uint_max||t<0?(i=Math.abs(t)%uint_max,t<0?uint_max-i:i):t}function scrub_vec(t){for(var e=0;e<t.length;t++)t[e]=0;return!1}function Global(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=[[],[],[],[]],this.INV_SUB_MIX=[[],[],[],[]],this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function bufferToArray(t){for(var e=t.length/4,i=new Array(e),r=-1;++r<e;)i[r]=t.readUInt32BE(4*r);return i}function AES(t){this._key=bufferToArray(t),this._doReset()}var uint_max=Math.pow(2,32);Global.prototype.init=function(){var t,e,i,r,n,S,u,_,o,h;for(t=function(){var t,i;for(i=[],e=t=0;t<256;e=++t)e<128?i.push(e<<1):i.push(e<<1^283);return i}(),n=0,o=0,e=h=0;h<256;e=++h)i=o^o<<1^o<<2^o<<3^o<<4,i=i>>>8^255&i^99,this.SBOX[n]=i,this.INV_SBOX[i]=n,S=t[n],u=t[S],_=t[u],r=257*t[i]^16843008*i,this.SUB_MIX[0][n]=r<<24|r>>>8,this.SUB_MIX[1][n]=r<<16|r>>>16,this.SUB_MIX[2][n]=r<<8|r>>>24,this.SUB_MIX[3][n]=r,r=16843009*_^65537*u^257*S^16843008*n,this.INV_SUB_MIX[0][i]=r<<24|r>>>8,this.INV_SUB_MIX[1][i]=r<<16|r>>>16,this.INV_SUB_MIX[2][i]=r<<8|r>>>24,this.INV_SUB_MIX[3][i]=r,0===n?n=o=1:(n=S^t[t[t[_^S]]],o^=t[t[o]]);return!0};var G=new Global;AES.blockSize=16,AES.prototype.blockSize=AES.blockSize,AES.keySize=32,AES.prototype.keySize=AES.keySize,AES.prototype._doReset=function(){var t,e,i,r,n,S;for(i=this._key,e=i.length,this._nRounds=e+6,n=4*(this._nRounds+1),this._keySchedule=[],r=0;r<n;r++)this._keySchedule[r]=r<e?i[r]:(S=this._keySchedule[r-1],r%e===0?(S=S<<8|S>>>24,S=G.SBOX[S>>>24]<<24|G.SBOX[S>>>16&255]<<16|G.SBOX[S>>>8&255]<<8|G.SBOX[255&S],S^=G.RCON[r/e|0]<<24):e>6&&r%e===4?S=G.SBOX[S>>>24]<<24|G.SBOX[S>>>16&255]<<16|G.SBOX[S>>>8&255]<<8|G.SBOX[255&S]:void 0,this._keySchedule[r-e]^S);for(this._invKeySchedule=[],t=0;t<n;t++)r=n-t,S=this._keySchedule[r-(t%4?0:4)],this._invKeySchedule[t]=t<4||r<=4?S:G.INV_SUB_MIX[0][G.SBOX[S>>>24]]^G.INV_SUB_MIX[1][G.SBOX[S>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[S>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[255&S]];return!0},AES.prototype.encryptBlock=function(t){t=bufferToArray(new Buffer(t));var e=this._doCryptBlock(t,this._keySchedule,G.SUB_MIX,G.SBOX),i=new Buffer(16);return i.writeUInt32BE(e[0],0),i.writeUInt32BE(e[1],4),i.writeUInt32BE(e[2],8),i.writeUInt32BE(e[3],12),i},AES.prototype.decryptBlock=function(t){t=bufferToArray(new Buffer(t));var e=[t[3],t[1]];t[1]=e[0],t[3]=e[1];var i=this._doCryptBlock(t,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX),r=new Buffer(16);return r.writeUInt32BE(i[0],0),r.writeUInt32BE(i[3],4),r.writeUInt32BE(i[2],8),r.writeUInt32BE(i[1],12),r},AES.prototype.scrub=function(){scrub_vec(this._keySchedule),scrub_vec(this._invKeySchedule),scrub_vec(this._key)},AES.prototype._doCryptBlock=function(t,e,i,r){var n,S,u,_,o,h,B,s,c;S=t[0]^e[0],u=t[1]^e[1],_=t[2]^e[2],o=t[3]^e[3],n=4;for(var f=1;f<this._nRounds;f++)h=i[0][S>>>24]^i[1][u>>>16&255]^i[2][_>>>8&255]^i[3][255&o]^e[n++],B=i[0][u>>>24]^i[1][_>>>16&255]^i[2][o>>>8&255]^i[3][255&S]^e[n++],s=i[0][_>>>24]^i[1][o>>>16&255]^i[2][S>>>8&255]^i[3][255&u]^e[n++],c=i[0][o>>>24]^i[1][S>>>16&255]^i[2][u>>>8&255]^i[3][255&_]^e[n++],S=h,u=B,_=s,o=c;return h=(r[S>>>24]<<24|r[u>>>16&255]<<16|r[_>>>8&255]<<8|r[255&o])^e[n++],B=(r[u>>>24]<<24|r[_>>>16&255]<<16|r[o>>>8&255]<<8|r[255&S])^e[n++],s=(r[_>>>24]<<24|r[o>>>16&255]<<16|r[S>>>8&255]<<8|r[255&u])^e[n++],c=(r[o>>>24]<<24|r[S>>>16&255]<<16|r[u>>>8&255]<<8|r[255&_])^e[n++],[fixup_uint32(h),fixup_uint32(B),fixup_uint32(s),fixup_uint32(c)]},exports.AES=AES;
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],147:[function(_dereq_,module,exports){
(function (Buffer){
function StreamCipher(t,e,r,h){if(!(this instanceof StreamCipher))return new StreamCipher(t,e,r);Transform.call(this),this._finID=Buffer.concat([r,new Buffer([0,0,0,1])]),r=Buffer.concat([r,new Buffer([0,0,0,2])]),this._cipher=new aes.AES(e),this._prev=new Buffer(r.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=h,this._alen=0,this._len=0,r.copy(this._prev),this._mode=t;var i=new Buffer(4);i.fill(0),this._ghash=new GHASH(this._cipher.encryptBlock(i)),this._authTag=null,this._called=!1}function xorTest(t,e){var r=0;t.length!==e.length&&r++;for(var h=Math.min(t.length,e.length),i=-1;++i<h;)r+=t[i]^e[i];return r}var aes=_dereq_("./aes"),Transform=_dereq_("cipher-base"),inherits=_dereq_("inherits"),GHASH=_dereq_("./ghash"),xor=_dereq_("buffer-xor");inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=new Buffer(e),e.fill(0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=xor(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(xorTest(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=t;this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function(){if(!this._decrypt&&Buffer.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},StreamCipher.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},StreamCipher.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length};
}).call(this,_dereq_("buffer").Buffer)

},{"./aes":146,"./ghash":151,"buffer":140,"buffer-xor":160,"cipher-base":161,"inherits":338}],148:[function(_dereq_,module,exports){
function getCiphers(){return Object.keys(modes)}var ciphers=_dereq_("./encrypter");exports.createCipher=exports.Cipher=ciphers.createCipher,exports.createCipheriv=exports.Cipheriv=ciphers.createCipheriv;var deciphers=_dereq_("./decrypter");exports.createDecipher=exports.Decipher=deciphers.createDecipher,exports.createDecipheriv=exports.Decipheriv=deciphers.createDecipheriv;var modes=_dereq_("./modes");exports.listCiphers=exports.getCiphers=getCiphers;
},{"./decrypter":149,"./encrypter":150,"./modes":152}],149:[function(_dereq_,module,exports){
(function (Buffer){
function Decipher(e,r,t){return this instanceof Decipher?(Transform.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes.AES(r),this._prev=new Buffer(t.length),t.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new Decipher(e,r,t)}function Splitter(){return this instanceof Splitter?void(this.cache=new Buffer("")):new Splitter}function unpad(e){for(var r=e[15],t=-1;++t<r;)if(e[t+(16-r)]!==r)throw new Error("unable to decrypt data");if(16!==r)return e.slice(0,16-r)}function createDecipheriv(e,r,t){var i=modes[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=new Buffer(t)),"string"==typeof r&&(r=new Buffer(r)),r.length!==i.key/8)throw new TypeError("invalid key length "+r.length);if(t.length!==i.iv)throw new TypeError("invalid iv length "+t.length);return"stream"===i.type?new StreamCipher(modelist[i.mode],r,t,!0):"auth"===i.type?new AuthCipher(modelist[i.mode],r,t,!0):new Decipher(modelist[i.mode],r,t)}function createDecipher(e,r){var t=modes[e.toLowerCase()];if(!t)throw new TypeError("invalid suite type");var i=ebtk(r,!1,t.key,t.iv);return createDecipheriv(e,i.key,i.iv)}var aes=_dereq_("./aes"),Transform=_dereq_("cipher-base"),inherits=_dereq_("inherits"),modes=_dereq_("./modes"),StreamCipher=_dereq_("./streamCipher"),AuthCipher=_dereq_("./authCipher"),ebtk=_dereq_("evp_bytestokey");inherits(Decipher,Transform),Decipher.prototype._update=function(e){this._cache.add(e);for(var r,t,i=[];r=this._cache.get(this._autopadding);)t=this._mode.decrypt(this,r),i.push(t);return Buffer.concat(i)},Decipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},Splitter.prototype.add=function(e){this.cache=Buffer.concat([this.cache,e])},Splitter.prototype.get=function(e){var r;if(e){if(this.cache.length>16)return r=this.cache.slice(0,16),this.cache=this.cache.slice(16),r}else if(this.cache.length>=16)return r=this.cache.slice(0,16),this.cache=this.cache.slice(16),r;return null},Splitter.prototype.flush=function(){if(this.cache.length)return this.cache};var modelist={ECB:_dereq_("./modes/ecb"),CBC:_dereq_("./modes/cbc"),CFB:_dereq_("./modes/cfb"),CFB8:_dereq_("./modes/cfb8"),CFB1:_dereq_("./modes/cfb1"),OFB:_dereq_("./modes/ofb"),CTR:_dereq_("./modes/ctr"),GCM:_dereq_("./modes/ctr")};exports.createDecipher=createDecipher,exports.createDecipheriv=createDecipheriv;
}).call(this,_dereq_("buffer").Buffer)

},{"./aes":146,"./authCipher":147,"./modes":152,"./modes/cbc":153,"./modes/cfb":154,"./modes/cfb1":155,"./modes/cfb8":156,"./modes/ctr":157,"./modes/ecb":158,"./modes/ofb":159,"./streamCipher":162,"buffer":140,"cipher-base":161,"evp_bytestokey":173,"inherits":338}],150:[function(_dereq_,module,exports){
(function (Buffer){
function Cipher(e,r,t){return this instanceof Cipher?(Transform.call(this),this._cache=new Splitter,this._cipher=new aes.AES(r),this._prev=new Buffer(t.length),t.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new Cipher(e,r,t)}function Splitter(){return this instanceof Splitter?void(this.cache=new Buffer("")):new Splitter}function createCipheriv(e,r,t){var i=modes[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=new Buffer(t)),"string"==typeof r&&(r=new Buffer(r)),r.length!==i.key/8)throw new TypeError("invalid key length "+r.length);if(t.length!==i.iv)throw new TypeError("invalid iv length "+t.length);return"stream"===i.type?new StreamCipher(modelist[i.mode],r,t):"auth"===i.type?new AuthCipher(modelist[i.mode],r,t):new Cipher(modelist[i.mode],r,t)}function createCipher(e,r){var t=modes[e.toLowerCase()];if(!t)throw new TypeError("invalid suite type");var i=ebtk(r,!1,t.key,t.iv);return createCipheriv(e,i.key,i.iv)}var aes=_dereq_("./aes"),Transform=_dereq_("cipher-base"),inherits=_dereq_("inherits"),modes=_dereq_("./modes"),ebtk=_dereq_("evp_bytestokey"),StreamCipher=_dereq_("./streamCipher"),AuthCipher=_dereq_("./authCipher");inherits(Cipher,Transform),Cipher.prototype._update=function(e){this._cache.add(e);for(var r,t,i=[];r=this._cache.get();)t=this._mode.encrypt(this,r),i.push(t);return Buffer.concat(i)},Cipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if("10101010101010101010101010101010"!==e.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},Splitter.prototype.add=function(e){this.cache=Buffer.concat([this.cache,e])},Splitter.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},Splitter.prototype.flush=function(){for(var e=16-this.cache.length,r=new Buffer(e),t=-1;++t<e;)r.writeUInt8(e,t);var i=Buffer.concat([this.cache,r]);return i};var modelist={ECB:_dereq_("./modes/ecb"),CBC:_dereq_("./modes/cbc"),CFB:_dereq_("./modes/cfb"),CFB8:_dereq_("./modes/cfb8"),CFB1:_dereq_("./modes/cfb1"),OFB:_dereq_("./modes/ofb"),CTR:_dereq_("./modes/ctr"),GCM:_dereq_("./modes/ctr")};exports.createCipheriv=createCipheriv,exports.createCipher=createCipher;
}).call(this,_dereq_("buffer").Buffer)

},{"./aes":146,"./authCipher":147,"./modes":152,"./modes/cbc":153,"./modes/cfb":154,"./modes/cfb1":155,"./modes/cfb8":156,"./modes/ctr":157,"./modes/ecb":158,"./modes/ofb":159,"./streamCipher":162,"buffer":140,"cipher-base":161,"evp_bytestokey":173,"inherits":338}],151:[function(_dereq_,module,exports){
(function (Buffer){
function GHASH(t){this.h=t,this.state=new Buffer(16),this.state.fill(0),this.cache=new Buffer("")}function toArray(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function fromArray(t){t=t.map(fixup_uint32);var r=new Buffer(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r}function fixup_uint32(t){var r,e;return r=t>uint_max||t<0?(e=Math.abs(t)%uint_max,t<0?uint_max-e:e):t}function xor(t,r){return[t[0]^r[0],t[1]^r[1],t[2]^r[2],t[3]^r[3]]}var zeros=new Buffer(16);zeros.fill(0),module.exports=GHASH,GHASH.prototype.ghash=function(t){for(var r=-1;++r<t.length;)this.state[r]^=t[r];this._multiply()},GHASH.prototype._multiply=function(){for(var t,r,e,i=toArray(this.h),a=[0,0,0,0],n=-1;++n<128;){for(r=0!==(this.state[~~(n/8)]&1<<7-n%8),r&&(a=xor(a,i)),e=0!==(1&i[3]),t=3;t>0;t--)i[t]=i[t]>>>1|(1&i[t-1])<<31;i[0]=i[0]>>>1,e&&(i[0]=i[0]^225<<24)}this.state=fromArray(a)},GHASH.prototype.update=function(t){this.cache=Buffer.concat([this.cache,t]);for(var r;this.cache.length>=16;)r=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(r)},GHASH.prototype.final=function(t,r){return this.cache.length&&this.ghash(Buffer.concat([this.cache,zeros],16)),this.ghash(fromArray([0,t,0,r])),this.state};var uint_max=Math.pow(2,32);
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],152:[function(_dereq_,module,exports){
exports["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},exports["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},exports["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},exports["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},exports["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},exports["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},exports.aes128=exports["aes-128-cbc"],exports.aes192=exports["aes-192-cbc"],exports.aes256=exports["aes-256-cbc"],exports["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},exports["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},exports["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},exports["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},exports["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},exports["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},exports["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},exports["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},exports["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},exports["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},exports["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},exports["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},exports["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},exports["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},exports["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},exports["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},exports["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},exports["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"};
},{}],153:[function(_dereq_,module,exports){
var xor=_dereq_("buffer-xor");exports.encrypt=function(r,e){var p=xor(e,r._prev);return r._prev=r._cipher.encryptBlock(p),r._prev},exports.decrypt=function(r,e){var p=r._prev;r._prev=e;var c=r._cipher.decryptBlock(e);return xor(c,p)};
},{"buffer-xor":160}],154:[function(_dereq_,module,exports){
(function (Buffer){
function encryptStart(e,r,c){var t=r.length,n=xor(r,e._cache);return e._cache=e._cache.slice(t),e._prev=Buffer.concat([e._prev,c?r:n]),n}var xor=_dereq_("buffer-xor");exports.encrypt=function(e,r,c){for(var t,n=new Buffer("");r.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=new Buffer("")),!(e._cache.length<=r.length)){n=Buffer.concat([n,encryptStart(e,r,c)]);break}t=e._cache.length,n=Buffer.concat([n,encryptStart(e,r.slice(0,t),c)]),r=r.slice(t)}return n};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"buffer-xor":160}],155:[function(_dereq_,module,exports){
(function (Buffer){
function encryptByte(r,e,n){for(var t,f,c,u=-1,o=8,p=0;++u<o;)t=r._cipher.encryptBlock(r._prev),f=e&1<<7-u?128:0,c=t[0]^f,p+=(128&c)>>u%8,r._prev=shiftIn(r._prev,n?f:c);return p}function shiftIn(r,e){var n=r.length,t=-1,f=new Buffer(r.length);for(r=Buffer.concat([r,new Buffer([e])]);++t<n;)f[t]=r[t]<<1|r[t+1]>>7;return f}exports.encrypt=function(r,e,n){for(var t=e.length,f=new Buffer(t),c=-1;++c<t;)f[c]=encryptByte(r,e[c],n);return f};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],156:[function(_dereq_,module,exports){
(function (Buffer){
function encryptByte(e,r,n){var t=e._cipher.encryptBlock(e._prev),c=t[0]^r;return e._prev=Buffer.concat([e._prev.slice(1),new Buffer([n?r:c])]),c}exports.encrypt=function(e,r,n){for(var t=r.length,c=new Buffer(t),f=-1;++f<t;)c[f]=encryptByte(e,r[f],n);return c};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],157:[function(_dereq_,module,exports){
(function (Buffer){
function incr32(e){for(var r,c=e.length;c--;){if(r=e.readUInt8(c),255!==r){r++,e.writeUInt8(r,c);break}e.writeUInt8(0,c)}}function getBlock(e){var r=e._cipher.encryptBlock(e._prev);return incr32(e._prev),r}var xor=_dereq_("buffer-xor");exports.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=Buffer.concat([e._cache,getBlock(e)]);var c=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),xor(r,c)};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"buffer-xor":160}],158:[function(_dereq_,module,exports){
exports.encrypt=function(r,c){return r._cipher.encryptBlock(c)},exports.decrypt=function(r,c){return r._cipher.decryptBlock(c)};
},{}],159:[function(_dereq_,module,exports){
(function (Buffer){
function getBlock(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var xor=_dereq_("buffer-xor");exports.encrypt=function(e,c){for(;e._cache.length<c.length;)e._cache=Buffer.concat([e._cache,getBlock(e)]);var r=e._cache.slice(0,c.length);return e._cache=e._cache.slice(c.length),xor(c,r)};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"buffer-xor":160}],160:[function(_dereq_,module,exports){
(function (Buffer){
module.exports=function(e,n){for(var r=Math.min(e.length,n.length),t=new Buffer(r),f=0;f<r;++f)t[f]=e[f]^n[f];return t};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],161:[function(_dereq_,module,exports){
(function (Buffer){
function CipherBase(t){Transform.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._decoder=null,this._encoding=null}var Transform=_dereq_("stream").Transform,inherits=_dereq_("inherits"),StringDecoder=_dereq_("string_decoder").StringDecoder;module.exports=CipherBase,inherits(CipherBase,Transform),CipherBase.prototype.update=function(t,e,r){"string"==typeof t&&(t=new Buffer(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){i=t}finally{r(i)}},CipherBase.prototype._flush=function(t){var e;try{this.push(this._final())}catch(t){e=t}finally{t(e)}},CipherBase.prototype._finalOrDigest=function(t){var e=this._final()||new Buffer("");return t&&(e=this._toString(e,t,!0)),e},CipherBase.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new StringDecoder(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"inherits":338,"stream":357,"string_decoder":358}],162:[function(_dereq_,module,exports){
(function (Buffer){
function StreamCipher(e,r,t,i){return this instanceof StreamCipher?(Transform.call(this),this._cipher=new aes.AES(r),this._prev=new Buffer(t.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=i,t.copy(this._prev),void(this._mode=e)):new StreamCipher(e,r,t)}var aes=_dereq_("./aes"),Transform=_dereq_("cipher-base"),inherits=_dereq_("inherits");inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()};
}).call(this,_dereq_("buffer").Buffer)

},{"./aes":146,"buffer":140,"cipher-base":161,"inherits":338}],163:[function(_dereq_,module,exports){
(function (Buffer){
function DES(e){CipherBase.call(this);var s,d=e.mode.toLowerCase(),t=modes[d];s=e.decrypt?"decrypt":"encrypt";var r=e.key;"des-ede"!==d&&"des-ede-cbc"!==d||(r=Buffer.concat([r,r.slice(0,8)]));var i=e.iv;this._des=t.create({key:r,iv:i,type:s})}var CipherBase=_dereq_("cipher-base"),des=_dereq_("des.js"),inherits=_dereq_("inherits"),modes={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes.des=modes["des-cbc"],modes.des3=modes["des-ede3-cbc"],module.exports=DES,inherits(DES,CipherBase),DES.prototype._update=function(e){return new Buffer(this._des.update(e))},DES.prototype._final=function(){return new Buffer(this._des.final())};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"cipher-base":165,"des.js":166,"inherits":338}],164:[function(_dereq_,module,exports){
exports["des-ecb"]={key:8,iv:0},exports["des-cbc"]=exports.des={key:8,iv:8},exports["des-ede3-cbc"]=exports.des3={key:24,iv:8},exports["des-ede3"]={key:24,iv:0},exports["des-ede-cbc"]={key:16,iv:8},exports["des-ede"]={key:16,iv:0};
},{}],165:[function(_dereq_,module,exports){
(function (Buffer){
function CipherBase(t){Transform.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._decoder=null,this._encoding=null}var Transform=_dereq_("stream").Transform,inherits=_dereq_("inherits"),StringDecoder=_dereq_("string_decoder").StringDecoder;module.exports=CipherBase,inherits(CipherBase,Transform),CipherBase.prototype.update=function(t,e,r){"string"==typeof t&&(t=new Buffer(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){i=t}finally{r(i)}},CipherBase.prototype._flush=function(t){var e;try{this.push(this._final())}catch(t){e=t}finally{t(e)}},CipherBase.prototype._finalOrDigest=function(t){var e=this._final()||new Buffer("");return t&&(e=this._toString(e,t,!0)),e},CipherBase.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new StringDecoder(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"inherits":338,"stream":357,"string_decoder":358}],166:[function(_dereq_,module,exports){
"use strict";exports.utils=_dereq_("./des/utils"),exports.Cipher=_dereq_("./des/cipher"),exports.DES=_dereq_("./des/des"),exports.CBC=_dereq_("./des/cbc"),exports.EDE=_dereq_("./des/ede");
},{"./des/cbc":167,"./des/cipher":168,"./des/des":169,"./des/ede":170,"./des/utils":171}],167:[function(_dereq_,module,exports){
"use strict";function CBCState(t){assert.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=t[i]}function instantiate(t){function i(i){t.call(this,i),this._cbcInit()}inherits(i,t);for(var e=Object.keys(proto),r=0;r<e.length;r++){var n=e[r];i.prototype[n]=proto[n]}return i.create=function(t){return new i(t)},i}var assert=_dereq_("minimalistic-assert"),inherits=_dereq_("inherits"),proto={};exports.instantiate=instantiate,proto._cbcInit=function(){var t=new CBCState(this.options.iv);this._cbcState=t},proto._update=function(t,i,e,r){var n=this._cbcState,s=this.constructor.super_.prototype,o=n.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=t[i+a];s._update.call(this,o,0,e,r);for(var a=0;a<this.blockSize;a++)o[a]=e[r+a]}else{s._update.call(this,t,i,e,r);for(var a=0;a<this.blockSize;a++)e[r+a]^=o[a];for(var a=0;a<this.blockSize;a++)o[a]=t[i+a]}};
},{"inherits":338,"minimalistic-assert":172}],168:[function(_dereq_,module,exports){
"use strict";function Cipher(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var assert=_dereq_("minimalistic-assert");module.exports=Cipher,Cipher.prototype._init=function(){},Cipher.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},Cipher.prototype._buffer=function(t,e){for(var r=Math.min(this.buffer.length-this.bufferOff,t.length-e),i=0;i<r;i++)this.buffer[this.bufferOff+i]=t[e+i];return this.bufferOff+=r,r},Cipher.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},Cipher.prototype._updateEncrypt=function(t){var e=0,r=0,i=(this.bufferOff+t.length)/this.blockSize|0,f=new Array(i*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(f,r)));for(var h=t.length-(t.length-e)%this.blockSize;e<h;e+=this.blockSize)this._update(t,e,f,r),r+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return f},Cipher.prototype._updateDecrypt=function(t){for(var e=0,r=0,i=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,f=new Array(i*this.blockSize);i>0;i--)e+=this._buffer(t,e),r+=this._flushBuffer(f,r);return e+=this._buffer(t,e),f},Cipher.prototype.final=function(t){var e;t&&(e=this.update(t));var r;return r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(r):r},Cipher.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},Cipher.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},Cipher.prototype._unpad=function(t){return t},Cipher.prototype._finalDecrypt=function(){assert.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)};
},{"minimalistic-assert":172}],169:[function(_dereq_,module,exports){
"use strict";function DESState(){this.tmp=new Array(2),this.keys=null}function DES(t){Cipher.call(this,t);var e=new DESState;this._desState=e,this.deriveKeys(e,t.key)}var assert=_dereq_("minimalistic-assert"),inherits=_dereq_("inherits"),des=_dereq_("../des"),utils=des.utils,Cipher=des.Cipher;inherits(DES,Cipher),module.exports=DES,DES.create=function(t){return new DES(t)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function(t,e){t.keys=new Array(32),assert.equal(e.length,this.blockSize,"Invalid key length");var r=utils.readUInt32BE(e,0),s=utils.readUInt32BE(e,4);utils.pc1(r,s,t.tmp,0),r=t.tmp[0],s=t.tmp[1];for(var i=0;i<t.keys.length;i+=2){var n=shiftTable[i>>>1];r=utils.r28shl(r,n),s=utils.r28shl(s,n),utils.pc2(r,s,t.keys,i)}},DES.prototype._update=function(t,e,r,s){var i=this._desState,n=utils.readUInt32BE(t,e),p=utils.readUInt32BE(t,e+4);utils.ip(n,p,i.tmp,0),n=i.tmp[0],p=i.tmp[1],"encrypt"===this.type?this._encrypt(i,n,p,i.tmp,0):this._decrypt(i,n,p,i.tmp,0),n=i.tmp[0],p=i.tmp[1],utils.writeUInt32BE(r,n,s),utils.writeUInt32BE(r,p,s+4)},DES.prototype._pad=function(t,e){for(var r=t.length-e,s=e;s<t.length;s++)t[s]=r;return!0},DES.prototype._unpad=function(t){for(var e=t[t.length-1],r=t.length-e;r<t.length;r++)assert.equal(t[r],e);return t.slice(0,t.length-e)},DES.prototype._encrypt=function(t,e,r,s,i){for(var n=e,p=r,u=0;u<t.keys.length;u+=2){var l=t.keys[u],a=t.keys[u+1];utils.expand(p,t.tmp,0),l^=t.tmp[0],a^=t.tmp[1];var h=utils.substitute(l,a),o=utils.permute(h),y=p;p=(n^o)>>>0,n=y}utils.rip(p,n,s,i)},DES.prototype._decrypt=function(t,e,r,s,i){for(var n=r,p=e,u=t.keys.length-2;u>=0;u-=2){var l=t.keys[u],a=t.keys[u+1];utils.expand(n,t.tmp,0),l^=t.tmp[0],a^=t.tmp[1];var h=utils.substitute(l,a),o=utils.permute(h),y=n;n=(p^o)>>>0,p=y}utils.rip(n,p,s,i)};
},{"../des":166,"inherits":338,"minimalistic-assert":172}],170:[function(_dereq_,module,exports){
"use strict";function EDEState(e,t){assert.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),p=t.slice(8,16),i=t.slice(16,24);"encrypt"===e?this.ciphers=[DES.create({type:"encrypt",key:r}),DES.create({type:"decrypt",key:p}),DES.create({type:"encrypt",key:i})]:this.ciphers=[DES.create({type:"decrypt",key:i}),DES.create({type:"encrypt",key:p}),DES.create({type:"decrypt",key:r})]}function EDE(e){Cipher.call(this,e);var t=new EDEState(this.type,this.options.key);this._edeState=t}var assert=_dereq_("minimalistic-assert"),inherits=_dereq_("inherits"),des=_dereq_("../des"),Cipher=des.Cipher,DES=des.DES;inherits(EDE,Cipher),module.exports=EDE,EDE.create=function(e){return new EDE(e)},EDE.prototype._update=function(e,t,r,p){var i=this._edeState;i.ciphers[0]._update(e,t,r,p),i.ciphers[1]._update(r,p,r,p),i.ciphers[2]._update(r,p,r,p)},EDE.prototype._pad=DES.prototype._pad,EDE.prototype._unpad=DES.prototype._unpad;
},{"../des":166,"inherits":338,"minimalistic-assert":172}],171:[function(_dereq_,module,exports){
"use strict";exports.readUInt32BE=function(r,o){var t=r[0+o]<<24|r[1+o]<<16|r[2+o]<<8|r[3+o];return t>>>0},exports.writeUInt32BE=function(r,o,t){r[0+t]=o>>>24,r[1+t]=o>>>16&255,r[2+t]=o>>>8&255,r[3+t]=255&o},exports.ip=function(r,o,t,a){for(var e=0,f=0,n=6;n>=0;n-=2){for(var v=0;v<=24;v+=8)e<<=1,e|=o>>>v+n&1;for(var v=0;v<=24;v+=8)e<<=1,e|=r>>>v+n&1}for(var n=6;n>=0;n-=2){for(var v=1;v<=25;v+=8)f<<=1,f|=o>>>v+n&1;for(var v=1;v<=25;v+=8)f<<=1,f|=r>>>v+n&1}t[a+0]=e>>>0,t[a+1]=f>>>0},exports.rip=function(r,o,t,a){for(var e=0,f=0,n=0;n<4;n++)for(var v=24;v>=0;v-=8)e<<=1,e|=o>>>v+n&1,e<<=1,e|=r>>>v+n&1;for(var n=4;n<8;n++)for(var v=24;v>=0;v-=8)f<<=1,f|=o>>>v+n&1,f<<=1,f|=r>>>v+n&1;t[a+0]=e>>>0,t[a+1]=f>>>0},exports.pc1=function(r,o,t,a){for(var e=0,f=0,n=7;n>=5;n--){for(var v=0;v<=24;v+=8)e<<=1,e|=o>>v+n&1;for(var v=0;v<=24;v+=8)e<<=1,e|=r>>v+n&1}for(var v=0;v<=24;v+=8)e<<=1,e|=o>>v+n&1;for(var n=1;n<=3;n++){for(var v=0;v<=24;v+=8)f<<=1,f|=o>>v+n&1;for(var v=0;v<=24;v+=8)f<<=1,f|=r>>v+n&1}for(var v=0;v<=24;v+=8)f<<=1,f|=r>>v+n&1;t[a+0]=e>>>0,t[a+1]=f>>>0},exports.r28shl=function(r,o){return r<<o&268435455|r>>>28-o};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function(r,o,t,a){for(var e=0,f=0,n=pc2table.length>>>1,v=0;v<n;v++)e<<=1,e|=r>>>pc2table[v]&1;for(var v=n;v<pc2table.length;v++)f<<=1,f|=o>>>pc2table[v]&1;t[a+0]=e>>>0,t[a+1]=f>>>0},exports.expand=function(r,o,t){var a=0,e=0;a=(1&r)<<5|r>>>27;for(var f=23;f>=15;f-=4)a<<=6,a|=r>>>f&63;for(var f=11;f>=3;f-=4)e|=r>>>f&63,e<<=6;e|=(31&r)<<1|r>>>31,o[t+0]=a>>>0,o[t+1]=e>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];exports.substitute=function(r,o){for(var t=0,a=0;a<4;a++){var e=r>>>18-6*a&63,f=sTable[64*a+e];t<<=4,t|=f}for(var a=0;a<4;a++){var e=o>>>18-6*a&63,f=sTable[256+64*a+e];t<<=4,t|=f}return t>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function(r){for(var o=0,t=0;t<permuteTable.length;t++)o<<=1,o|=r>>>permuteTable[t]&1;return o>>>0},exports.padSplit=function(r,o,t){for(var a=r.toString(2);a.length<o;)a="0"+a;for(var e=[],f=0;f<o;f+=t)e.push(a.slice(f,f+t));return e.join(" ")};
},{}],172:[function(_dereq_,module,exports){
function assert(r,e){if(!r)throw new Error(e||"Assertion failed")}module.exports=assert,assert.equal=function(r,e,s){if(r!=e)throw new Error(s||"Assertion failed: "+r+" != "+e)};
},{}],173:[function(_dereq_,module,exports){
(function (Buffer){
function EVP_BytesToKey(e,f,r,u){Buffer.isBuffer(e)||(e=new Buffer(e,"binary")),f&&!Buffer.isBuffer(f)&&(f=new Buffer(f,"binary")),r/=8,u=u||0;for(var i,n,a=0,t=0,B=new Buffer(r),o=new Buffer(u),h=0,s=[];;){if(h++>0&&s.push(i),s.push(e),f&&s.push(f),i=md5(Buffer.concat(s)),s=[],n=0,r>0)for(;;){if(0===r)break;if(n===i.length)break;B[a++]=i[n],r--,n++}if(u>0&&n!==i.length)for(;;){if(0===u)break;if(n===i.length)break;o[t++]=i[n],u--,n++}if(0===r&&0===u)break}for(n=0;n<i.length;n++)i[n]=0;return{key:B,iv:o}}var md5=_dereq_("create-hash/md5");module.exports=EVP_BytesToKey;
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"create-hash/md5":270}],174:[function(_dereq_,module,exports){
(function (Buffer){
"use strict";exports["RSA-SHA224"]=exports.sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:new Buffer("302d300d06096086480165030402040500041c","hex")},exports["RSA-SHA256"]=exports.sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:new Buffer("3031300d060960864801650304020105000420","hex")},exports["RSA-SHA384"]=exports.sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:new Buffer("3041300d060960864801650304020205000430","hex")},exports["RSA-SHA512"]=exports.sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:new Buffer("3051300d060960864801650304020305000440","hex")},exports["RSA-SHA1"]={sign:"rsa",hash:"sha1",id:new Buffer("3021300906052b0e03021a05000414","hex")},exports["ecdsa-with-SHA1"]={sign:"ecdsa",hash:"sha1",id:new Buffer("","hex")},exports.DSA=exports["DSA-SHA1"]=exports["DSA-SHA"]={sign:"dsa",hash:"sha1",id:new Buffer("","hex")},exports["DSA-SHA224"]=exports["DSA-WITH-SHA224"]={sign:"dsa",hash:"sha224",id:new Buffer("","hex")},exports["DSA-SHA256"]=exports["DSA-WITH-SHA256"]={sign:"dsa",hash:"sha256",id:new Buffer("","hex")},exports["DSA-SHA384"]=exports["DSA-WITH-SHA384"]={sign:"dsa",hash:"sha384",id:new Buffer("","hex")},exports["DSA-SHA512"]=exports["DSA-WITH-SHA512"]={sign:"dsa",hash:"sha512",id:new Buffer("","hex")},exports["DSA-RIPEMD160"]={sign:"dsa",hash:"rmd160",id:new Buffer("","hex")},exports["RSA-RIPEMD160"]=exports.ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:new Buffer("3021300906052b2403020105000414","hex")},exports["RSA-MD5"]=exports.md5WithRSAEncryption={sign:"rsa",hash:"md5",id:new Buffer("3020300c06082a864886f70d020505000410","hex")};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],175:[function(_dereq_,module,exports){
(function (Buffer){
function Sign(e){stream.Writable.call(this);var t=algos[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=createHash(t.hash),this._tag=t.id,this._signType=t.sign}function Verify(e){stream.Writable.call(this);var t=algos[e];if(!t)throw new Error("Unknown message digest");this._hash=createHash(t.hash),this._tag=t.id,this._signType=t.sign}function createSign(e){return new Sign(e)}function createVerify(e){return new Verify(e)}var _algos=_dereq_("./algos"),createHash=_dereq_("create-hash"),inherits=_dereq_("inherits"),sign=_dereq_("./sign"),stream=_dereq_("stream"),verify=_dereq_("./verify"),algos={};Object.keys(_algos).forEach(function(e){algos[e]=algos[e.toLowerCase()]=_algos[e]}),inherits(Sign,stream.Writable),Sign.prototype._write=function(e,t,i){this._hash.update(e),i()},Sign.prototype.update=function(e,t){return"string"==typeof e&&(e=new Buffer(e,t)),this._hash.update(e),this},Sign.prototype.sign=function(e,t){this.end();var i=this._hash.digest(),r=sign(Buffer.concat([this._tag,i]),e,this._hashType,this._signType);return t?r.toString(t):r},inherits(Verify,stream.Writable),Verify.prototype._write=function(e,t,i){this._hash.update(e),i()},Verify.prototype.update=function(e,t){return"string"==typeof e&&(e=new Buffer(e,t)),this._hash.update(e),this},Verify.prototype.verify=function(e,t,i){"string"==typeof t&&(t=new Buffer(t,i)),this.end();var r=this._hash.digest();return verify(t,Buffer.concat([this._tag,r]),e,this._signType)},module.exports={Sign:createSign,Verify:createVerify,createSign:createSign,createVerify:createVerify};
}).call(this,_dereq_("buffer").Buffer)

},{"./algos":174,"./sign":240,"./verify":241,"buffer":140,"create-hash":268,"inherits":338,"stream":357}],176:[function(_dereq_,module,exports){
"use strict";exports["1.3.132.0.10"]="secp256k1",exports["1.3.132.0.33"]="p224",exports["1.2.840.10045.3.1.1"]="p192",exports["1.2.840.10045.3.1.7"]="p256",exports["1.3.132.0.34"]="p384",exports["1.3.132.0.35"]="p521";
},{}],177:[function(_dereq_,module,exports){
!function(t,i){"use strict";function r(t,i){if(!t)throw new Error(i||"Assertion failed")}function h(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,i,r){return n.isBN(t)?t:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==t&&("le"!==i&&"be"!==i||(r=i,i=10),this._init(t||0,i||10,r||"be"))))}function e(t,i,r){for(var h=0,n=Math.min(t.length,r),e=i;e<n;e++){var o=t.charCodeAt(e)-48;h<<=4,h|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return h}function o(t,i,r,h){for(var n=0,e=Math.min(t.length,r),o=i;o<e;o++){var s=t.charCodeAt(o)-48;n*=h,n+=s>=49?s-49+10:s>=17?s-17+10:s}return n}function s(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var h=r/26|0,n=r%26;i[r]=(t.words[h]&1<<n)>>>n}return i}function u(t,i,r){r.negative=i.negative^t.negative;var h=t.length+i.length|0;r.length=h,h=h-1|0;var n=0|t.words[0],e=0|i.words[0],o=n*e,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var a=1;a<h;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),d=Math.max(0,a-t.length+1);d<=f;d++){var p=a-d|0;n=0|t.words[p],e=0|i.words[d],o=n*e+m,l+=o/67108864|0,m=67108863&o}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r.strip()}function a(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var h=0,n=0,e=0;e<r.length-1;e++){var o=n;n=0;for(var s=67108863&h,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);a<=u;a++){var l=e-a,m=0|t.words[l],f=0|i.words[a],d=m*f,p=67108863&d;o=o+(d/67108864|0)|0,p=p+s|0,s=67108863&p,o=o+(p>>>26)|0,n+=o>>>26,o&=67108863}r.words[e]=s,h=o,o=n}return 0!==h?r.words[e]=h:r.length--,r.strip()}function l(t,i,r){var h=new m;return h.mulp(t,i,r)}function m(t,i){this.x=t,this.y=i}function f(t,i){this.name=t,this.p=new n(i,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function d(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function p(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function g(t){if("string"==typeof t){var i=n._prime(t);this.m=i.p,this.prime=i}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function c(t){g.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof t?t.exports=n:i.BN=n,n.BN=n,n.wordSize=26;var w;try{w=_dereq_("buffer").Buffer}catch(t){}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,i){return t.cmp(i)>0?t:i},n.min=function(t,i){return t.cmp(i)<0?t:i},n.prototype._init=function(t,i,h){if("number"==typeof t)return this._initNumber(t,i,h);if("object"==typeof t)return this._initArray(t,i,h);"hex"===i&&(i=16),r(i===(0|i)&&i>=2&&i<=36),t=t.toString().replace(/\s+/g,"");var n=0;"-"===t[0]&&n++,16===i?this._parseHex(t,n):this._parseBase(t,i,n),"-"===t[0]&&(this.negative=1),this.strip(),"le"===h&&this._initArray(this.toArray(),i,h)},n.prototype._initNumber=function(t,i,h){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),i,h)},n.prototype._initArray=function(t,i,h){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var e,o,s=0;if("be"===h)for(n=t.length-1,e=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,s+=24,s>=26&&(s-=26,e++);else if("le"===h)for(n=0,e=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,s+=24,s>=26&&(s-=26,e++);return this.strip()},n.prototype._parseHex=function(t,i){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var h,n,o=0;for(r=t.length-6,h=0;r>=i;r-=6)n=e(t,r,r+6),this.words[h]|=n<<o&67108863,this.words[h+1]|=n>>>26-o&4194303,o+=24,o>=26&&(o-=26,h++);r+6!==i&&(n=e(t,i,r+6),this.words[h]|=n<<o&67108863,this.words[h+1]|=n>>>26-o&4194303),this.strip()},n.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var h=0,n=1;n<=67108863;n*=i)h++;h--,n=n/i|0;for(var e=t.length-r,s=e%h,u=Math.min(e,e-s)+r,a=0,l=r;l<u;l+=h)a=o(t,l,l+h,i),this.imuln(n),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==s){var m=1;for(a=o(t,l,t.length,i),l=0;l<s;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}},n.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(t,i){t=t||10,i=0|i||1;var h;if(16===t||"hex"===t){h="";for(var n=0,e=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<n|e)).toString(16);e=s>>>24-n&16777215,h=0!==e||o!==this.length-1?y[6-u.length]+u+h:u+h,n+=2,n>=26&&(n-=26,o--)}for(0!==e&&(h=e.toString(16)+h);h.length%i!==0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(t===(0|t)&&t>=2&&t<=36){var a=b[t],l=_[t];h="";var m=this.clone();for(m.negative=0;!m.isZero();){var f=m.modn(l).toString(t);m=m.idivn(l),h=m.isZero()?f+h:y[a-f.length]+f+h}for(this.isZero()&&(h="0"+h);h.length%i!==0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,i){return r("undefined"!=typeof w),this.toArrayLike(w,t,i)},n.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},n.prototype.toArrayLike=function(t,i,h){var n=this.byteLength(),e=h||Math.max(1,n);r(n<=e,"byte array longer than desired length"),r(e>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===i,a=new t(e),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[s]=o;for(;s<e;s++)a[s]=0}else{for(s=0;s<e-n;s++)a[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[e-s-1]=o}return a},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},n.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0===(8191&i)&&(r+=13,i>>>=13),0===(127&i)&&(r+=7,i>>>=7),0===(15&i)&&(r+=4,i>>>=4),0===(3&i)&&(r+=2,i>>>=2),0===(1&i)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},n.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this.strip()},n.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var h=0;h<r.length;h++)this.words[h]=i.words[h]^r.words[h];if(this!==i)for(;h<i.length;h++)this.words[h]=i.words[h];return this.length=i.length,this.strip()},n.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var i=0|Math.ceil(t/26),h=t%26;this._expand(i),h>0&&i--;for(var n=0;n<i;n++)this.words[n]=67108863&~this.words[n];return h>0&&(this.words[n]=~this.words[n]&67108863>>26-h),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,i){r("number"==typeof t&&t>=0);var h=t/26|0,n=t%26;return this._expand(h+1),i?this.words[h]=this.words[h]|1<<n:this.words[h]=this.words[h]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var i;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();var r,h;this.length>t.length?(r=this,h=t):(r=t,h=this);for(var n=0,e=0;e<h.length;e++)i=(0|r.words[e])+(0|h.words[e])+n,this.words[e]=67108863&i,n=i>>>26;for(;0!==n&&e<r.length;e++)i=(0|r.words[e])+n,this.words[e]=67108863&i,n=i>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},n.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;var h,n;r>0?(h=this,n=t):(h=t,n=this);for(var e=0,o=0;o<n.length;o++)i=(0|h.words[o])-(0|n.words[o])+e,e=i>>26,this.words[o]=67108863&i;for(;0!==e&&o<h.length;o++)i=(0|h.words[o])+e,e=i>>26,this.words[o]=67108863&i;if(0===e&&o<h.length&&h!==this)for(;o<h.length;o++)this.words[o]=h.words[o];return this.length=Math.max(this.length,o),h!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var k=function(t,i,r){var h,n,e,o=t.words,s=i.words,u=r.words,a=0,l=0|o[0],m=8191&l,f=l>>>13,d=0|o[1],p=8191&d,M=d>>>13,v=0|o[2],g=8191&v,c=v>>>13,w=0|o[3],y=8191&w,b=w>>>13,_=0|o[4],k=8191&_,A=_>>>13,x=0|o[5],S=8191&x,Z=x>>>13,q=0|o[6],R=8191&q,B=q>>>13,N=0|o[7],L=8191&N,I=N>>>13,z=0|o[8],T=8191&z,E=z>>>13,O=0|o[9],j=8191&O,K=O>>>13,P=0|s[0],F=8191&P,C=P>>>13,D=0|s[1],H=8191&D,J=D>>>13,U=0|s[2],G=8191&U,Q=U>>>13,V=0|s[3],W=8191&V,X=V>>>13,Y=0|s[4],$=8191&Y,tt=Y>>>13,it=0|s[5],rt=8191&it,ht=it>>>13,nt=0|s[6],et=8191&nt,ot=nt>>>13,st=0|s[7],ut=8191&st,at=st>>>13,lt=0|s[8],mt=8191&lt,ft=lt>>>13,dt=0|s[9],pt=8191&dt,Mt=dt>>>13;r.negative=t.negative^i.negative,r.length=19,h=Math.imul(m,F),n=Math.imul(m,C),n=n+Math.imul(f,F)|0,e=Math.imul(f,C);var vt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,h=Math.imul(p,F),n=Math.imul(p,C),n=n+Math.imul(M,F)|0,e=Math.imul(M,C),h=h+Math.imul(m,H)|0,n=n+Math.imul(m,J)|0,n=n+Math.imul(f,H)|0,e=e+Math.imul(f,J)|0;var gt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,h=Math.imul(g,F),n=Math.imul(g,C),n=n+Math.imul(c,F)|0,e=Math.imul(c,C),h=h+Math.imul(p,H)|0,n=n+Math.imul(p,J)|0,n=n+Math.imul(M,H)|0,e=e+Math.imul(M,J)|0,h=h+Math.imul(m,G)|0,n=n+Math.imul(m,Q)|0,n=n+Math.imul(f,G)|0,e=e+Math.imul(f,Q)|0;var ct=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(ct>>>26)|0,ct&=67108863,h=Math.imul(y,F),n=Math.imul(y,C),n=n+Math.imul(b,F)|0,e=Math.imul(b,C),h=h+Math.imul(g,H)|0,n=n+Math.imul(g,J)|0,n=n+Math.imul(c,H)|0,e=e+Math.imul(c,J)|0,h=h+Math.imul(p,G)|0,n=n+Math.imul(p,Q)|0,n=n+Math.imul(M,G)|0,e=e+Math.imul(M,Q)|0,h=h+Math.imul(m,W)|0,n=n+Math.imul(m,X)|0,n=n+Math.imul(f,W)|0,e=e+Math.imul(f,X)|0;var wt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,h=Math.imul(k,F),n=Math.imul(k,C),n=n+Math.imul(A,F)|0,e=Math.imul(A,C),h=h+Math.imul(y,H)|0,n=n+Math.imul(y,J)|0,n=n+Math.imul(b,H)|0,e=e+Math.imul(b,J)|0,h=h+Math.imul(g,G)|0,n=n+Math.imul(g,Q)|0,n=n+Math.imul(c,G)|0,e=e+Math.imul(c,Q)|0,h=h+Math.imul(p,W)|0,n=n+Math.imul(p,X)|0,n=n+Math.imul(M,W)|0,e=e+Math.imul(M,X)|0,h=h+Math.imul(m,$)|0,n=n+Math.imul(m,tt)|0,n=n+Math.imul(f,$)|0,e=e+Math.imul(f,tt)|0;var yt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,h=Math.imul(S,F),n=Math.imul(S,C),n=n+Math.imul(Z,F)|0,e=Math.imul(Z,C),h=h+Math.imul(k,H)|0,n=n+Math.imul(k,J)|0,n=n+Math.imul(A,H)|0,e=e+Math.imul(A,J)|0,h=h+Math.imul(y,G)|0,n=n+Math.imul(y,Q)|0,n=n+Math.imul(b,G)|0,e=e+Math.imul(b,Q)|0,h=h+Math.imul(g,W)|0,n=n+Math.imul(g,X)|0,n=n+Math.imul(c,W)|0,e=e+Math.imul(c,X)|0,h=h+Math.imul(p,$)|0,n=n+Math.imul(p,tt)|0,n=n+Math.imul(M,$)|0,e=e+Math.imul(M,tt)|0,h=h+Math.imul(m,rt)|0,n=n+Math.imul(m,ht)|0,n=n+Math.imul(f,rt)|0,e=e+Math.imul(f,ht)|0;var bt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,h=Math.imul(R,F),n=Math.imul(R,C),n=n+Math.imul(B,F)|0,e=Math.imul(B,C),h=h+Math.imul(S,H)|0,n=n+Math.imul(S,J)|0,n=n+Math.imul(Z,H)|0,e=e+Math.imul(Z,J)|0,h=h+Math.imul(k,G)|0,n=n+Math.imul(k,Q)|0,n=n+Math.imul(A,G)|0,e=e+Math.imul(A,Q)|0,h=h+Math.imul(y,W)|0,n=n+Math.imul(y,X)|0,n=n+Math.imul(b,W)|0,e=e+Math.imul(b,X)|0,h=h+Math.imul(g,$)|0,n=n+Math.imul(g,tt)|0,n=n+Math.imul(c,$)|0,e=e+Math.imul(c,tt)|0,h=h+Math.imul(p,rt)|0,n=n+Math.imul(p,ht)|0,n=n+Math.imul(M,rt)|0,e=e+Math.imul(M,ht)|0,h=h+Math.imul(m,et)|0,n=n+Math.imul(m,ot)|0,n=n+Math.imul(f,et)|0,e=e+Math.imul(f,ot)|0;var _t=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,h=Math.imul(L,F),n=Math.imul(L,C),n=n+Math.imul(I,F)|0,e=Math.imul(I,C),h=h+Math.imul(R,H)|0,n=n+Math.imul(R,J)|0,n=n+Math.imul(B,H)|0,e=e+Math.imul(B,J)|0,h=h+Math.imul(S,G)|0,n=n+Math.imul(S,Q)|0,n=n+Math.imul(Z,G)|0,e=e+Math.imul(Z,Q)|0,h=h+Math.imul(k,W)|0,n=n+Math.imul(k,X)|0,n=n+Math.imul(A,W)|0,e=e+Math.imul(A,X)|0,h=h+Math.imul(y,$)|0,n=n+Math.imul(y,tt)|0,n=n+Math.imul(b,$)|0,e=e+Math.imul(b,tt)|0,h=h+Math.imul(g,rt)|0,n=n+Math.imul(g,ht)|0,n=n+Math.imul(c,rt)|0,e=e+Math.imul(c,ht)|0,h=h+Math.imul(p,et)|0,n=n+Math.imul(p,ot)|0,n=n+Math.imul(M,et)|0,e=e+Math.imul(M,ot)|0,h=h+Math.imul(m,ut)|0,n=n+Math.imul(m,at)|0,n=n+Math.imul(f,ut)|0,e=e+Math.imul(f,at)|0;var kt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,h=Math.imul(T,F),n=Math.imul(T,C),n=n+Math.imul(E,F)|0,e=Math.imul(E,C),h=h+Math.imul(L,H)|0,n=n+Math.imul(L,J)|0,n=n+Math.imul(I,H)|0,e=e+Math.imul(I,J)|0,h=h+Math.imul(R,G)|0,n=n+Math.imul(R,Q)|0,n=n+Math.imul(B,G)|0,e=e+Math.imul(B,Q)|0,h=h+Math.imul(S,W)|0,n=n+Math.imul(S,X)|0,n=n+Math.imul(Z,W)|0,e=e+Math.imul(Z,X)|0,h=h+Math.imul(k,$)|0,n=n+Math.imul(k,tt)|0,n=n+Math.imul(A,$)|0,e=e+Math.imul(A,tt)|0,h=h+Math.imul(y,rt)|0,n=n+Math.imul(y,ht)|0,n=n+Math.imul(b,rt)|0,e=e+Math.imul(b,ht)|0,h=h+Math.imul(g,et)|0,n=n+Math.imul(g,ot)|0,n=n+Math.imul(c,et)|0,e=e+Math.imul(c,ot)|0,h=h+Math.imul(p,ut)|0,n=n+Math.imul(p,at)|0,n=n+Math.imul(M,ut)|0,e=e+Math.imul(M,at)|0,h=h+Math.imul(m,mt)|0,n=n+Math.imul(m,ft)|0,n=n+Math.imul(f,mt)|0,e=e+Math.imul(f,ft)|0;var At=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(At>>>26)|0,At&=67108863,h=Math.imul(j,F),n=Math.imul(j,C),n=n+Math.imul(K,F)|0,e=Math.imul(K,C),h=h+Math.imul(T,H)|0,n=n+Math.imul(T,J)|0,n=n+Math.imul(E,H)|0,e=e+Math.imul(E,J)|0,h=h+Math.imul(L,G)|0,n=n+Math.imul(L,Q)|0,n=n+Math.imul(I,G)|0,e=e+Math.imul(I,Q)|0,h=h+Math.imul(R,W)|0,n=n+Math.imul(R,X)|0,n=n+Math.imul(B,W)|0,e=e+Math.imul(B,X)|0,h=h+Math.imul(S,$)|0,n=n+Math.imul(S,tt)|0,n=n+Math.imul(Z,$)|0,e=e+Math.imul(Z,tt)|0,h=h+Math.imul(k,rt)|0,n=n+Math.imul(k,ht)|0,n=n+Math.imul(A,rt)|0,e=e+Math.imul(A,ht)|0,h=h+Math.imul(y,et)|0,n=n+Math.imul(y,ot)|0,n=n+Math.imul(b,et)|0,e=e+Math.imul(b,ot)|0,h=h+Math.imul(g,ut)|0,n=n+Math.imul(g,at)|0,n=n+Math.imul(c,ut)|0,e=e+Math.imul(c,at)|0,h=h+Math.imul(p,mt)|0,n=n+Math.imul(p,ft)|0,n=n+Math.imul(M,mt)|0,e=e+Math.imul(M,ft)|0,h=h+Math.imul(m,pt)|0,n=n+Math.imul(m,Mt)|0,n=n+Math.imul(f,pt)|0,e=e+Math.imul(f,Mt)|0;var xt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,h=Math.imul(j,H),n=Math.imul(j,J),n=n+Math.imul(K,H)|0,e=Math.imul(K,J),h=h+Math.imul(T,G)|0,n=n+Math.imul(T,Q)|0,n=n+Math.imul(E,G)|0,e=e+Math.imul(E,Q)|0,h=h+Math.imul(L,W)|0,n=n+Math.imul(L,X)|0,n=n+Math.imul(I,W)|0,e=e+Math.imul(I,X)|0,h=h+Math.imul(R,$)|0,n=n+Math.imul(R,tt)|0,n=n+Math.imul(B,$)|0,e=e+Math.imul(B,tt)|0,h=h+Math.imul(S,rt)|0,n=n+Math.imul(S,ht)|0,n=n+Math.imul(Z,rt)|0,e=e+Math.imul(Z,ht)|0,h=h+Math.imul(k,et)|0,n=n+Math.imul(k,ot)|0,n=n+Math.imul(A,et)|0,e=e+Math.imul(A,ot)|0,h=h+Math.imul(y,ut)|0,n=n+Math.imul(y,at)|0,n=n+Math.imul(b,ut)|0,e=e+Math.imul(b,at)|0,h=h+Math.imul(g,mt)|0,n=n+Math.imul(g,ft)|0,n=n+Math.imul(c,mt)|0,e=e+Math.imul(c,ft)|0,h=h+Math.imul(p,pt)|0,n=n+Math.imul(p,Mt)|0,n=n+Math.imul(M,pt)|0,e=e+Math.imul(M,Mt)|0;var St=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(St>>>26)|0,St&=67108863,h=Math.imul(j,G),n=Math.imul(j,Q),n=n+Math.imul(K,G)|0,e=Math.imul(K,Q),h=h+Math.imul(T,W)|0,n=n+Math.imul(T,X)|0,n=n+Math.imul(E,W)|0,e=e+Math.imul(E,X)|0,h=h+Math.imul(L,$)|0,n=n+Math.imul(L,tt)|0,n=n+Math.imul(I,$)|0,e=e+Math.imul(I,tt)|0,h=h+Math.imul(R,rt)|0,n=n+Math.imul(R,ht)|0,n=n+Math.imul(B,rt)|0,e=e+Math.imul(B,ht)|0,h=h+Math.imul(S,et)|0,n=n+Math.imul(S,ot)|0,n=n+Math.imul(Z,et)|0,e=e+Math.imul(Z,ot)|0,h=h+Math.imul(k,ut)|0,n=n+Math.imul(k,at)|0,n=n+Math.imul(A,ut)|0,e=e+Math.imul(A,at)|0,h=h+Math.imul(y,mt)|0,n=n+Math.imul(y,ft)|0,n=n+Math.imul(b,mt)|0,e=e+Math.imul(b,ft)|0,h=h+Math.imul(g,pt)|0,n=n+Math.imul(g,Mt)|0,n=n+Math.imul(c,pt)|0,e=e+Math.imul(c,Mt)|0;var Zt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,h=Math.imul(j,W),n=Math.imul(j,X),n=n+Math.imul(K,W)|0,e=Math.imul(K,X),h=h+Math.imul(T,$)|0,n=n+Math.imul(T,tt)|0,n=n+Math.imul(E,$)|0,e=e+Math.imul(E,tt)|0,h=h+Math.imul(L,rt)|0,n=n+Math.imul(L,ht)|0,n=n+Math.imul(I,rt)|0,e=e+Math.imul(I,ht)|0,h=h+Math.imul(R,et)|0,n=n+Math.imul(R,ot)|0,n=n+Math.imul(B,et)|0,e=e+Math.imul(B,ot)|0,h=h+Math.imul(S,ut)|0,n=n+Math.imul(S,at)|0,n=n+Math.imul(Z,ut)|0,e=e+Math.imul(Z,at)|0,h=h+Math.imul(k,mt)|0,n=n+Math.imul(k,ft)|0,n=n+Math.imul(A,mt)|0,e=e+Math.imul(A,ft)|0,h=h+Math.imul(y,pt)|0,n=n+Math.imul(y,Mt)|0,n=n+Math.imul(b,pt)|0,e=e+Math.imul(b,Mt)|0;var qt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(qt>>>26)|0,qt&=67108863,h=Math.imul(j,$),n=Math.imul(j,tt),n=n+Math.imul(K,$)|0,e=Math.imul(K,tt),h=h+Math.imul(T,rt)|0,n=n+Math.imul(T,ht)|0,n=n+Math.imul(E,rt)|0,e=e+Math.imul(E,ht)|0,h=h+Math.imul(L,et)|0,n=n+Math.imul(L,ot)|0,n=n+Math.imul(I,et)|0,e=e+Math.imul(I,ot)|0,h=h+Math.imul(R,ut)|0,n=n+Math.imul(R,at)|0,n=n+Math.imul(B,ut)|0,e=e+Math.imul(B,at)|0,h=h+Math.imul(S,mt)|0,n=n+Math.imul(S,ft)|0,n=n+Math.imul(Z,mt)|0,e=e+Math.imul(Z,ft)|0,h=h+Math.imul(k,pt)|0,n=n+Math.imul(k,Mt)|0,n=n+Math.imul(A,pt)|0,e=e+Math.imul(A,Mt)|0;var Rt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,h=Math.imul(j,rt),n=Math.imul(j,ht),n=n+Math.imul(K,rt)|0,e=Math.imul(K,ht),h=h+Math.imul(T,et)|0,n=n+Math.imul(T,ot)|0,n=n+Math.imul(E,et)|0,e=e+Math.imul(E,ot)|0,h=h+Math.imul(L,ut)|0,n=n+Math.imul(L,at)|0,n=n+Math.imul(I,ut)|0,e=e+Math.imul(I,at)|0,h=h+Math.imul(R,mt)|0,n=n+Math.imul(R,ft)|0,n=n+Math.imul(B,mt)|0,e=e+Math.imul(B,ft)|0,h=h+Math.imul(S,pt)|0,n=n+Math.imul(S,Mt)|0,n=n+Math.imul(Z,pt)|0,e=e+Math.imul(Z,Mt)|0;var Bt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,h=Math.imul(j,et),n=Math.imul(j,ot),n=n+Math.imul(K,et)|0,e=Math.imul(K,ot),h=h+Math.imul(T,ut)|0,n=n+Math.imul(T,at)|0,n=n+Math.imul(E,ut)|0,e=e+Math.imul(E,at)|0,h=h+Math.imul(L,mt)|0,n=n+Math.imul(L,ft)|0,n=n+Math.imul(I,mt)|0,e=e+Math.imul(I,ft)|0,h=h+Math.imul(R,pt)|0,n=n+Math.imul(R,Mt)|0,n=n+Math.imul(B,pt)|0,e=e+Math.imul(B,Mt)|0;var Nt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,h=Math.imul(j,ut),n=Math.imul(j,at),n=n+Math.imul(K,ut)|0,e=Math.imul(K,at),h=h+Math.imul(T,mt)|0,n=n+Math.imul(T,ft)|0,n=n+Math.imul(E,mt)|0,e=e+Math.imul(E,ft)|0,h=h+Math.imul(L,pt)|0,n=n+Math.imul(L,Mt)|0,n=n+Math.imul(I,pt)|0,e=e+Math.imul(I,Mt)|0;var Lt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h=Math.imul(j,mt),n=Math.imul(j,ft),n=n+Math.imul(K,mt)|0,e=Math.imul(K,ft),h=h+Math.imul(T,pt)|0,n=n+Math.imul(T,Mt)|0,n=n+Math.imul(E,pt)|0,e=e+Math.imul(E,Mt)|0;var It=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(It>>>26)|0,It&=67108863,h=Math.imul(j,pt),n=Math.imul(j,Mt),n=n+Math.imul(K,pt)|0,e=Math.imul(K,Mt);var zt=(a+h|0)+((8191&n)<<13)|0;return a=(e+(n>>>13)|0)+(zt>>>26)|0,zt&=67108863,u[0]=vt,u[1]=gt,u[2]=ct,u[3]=wt,u[4]=yt,u[5]=bt,u[6]=_t,u[7]=kt,u[8]=At,u[9]=xt,u[10]=St,u[11]=Zt,u[12]=qt,u[13]=Rt,u[14]=Bt,u[15]=Nt,u[16]=Lt,u[17]=It,u[18]=zt,0!==a&&(u[19]=a,r.length++),r};Math.imul||(k=u),n.prototype.mulTo=function(t,i){var r,h=this.length+t.length;return r=10===this.length&&10===t.length?k(this,t,i):h<63?u(this,t,i):h<1024?a(this,t,i):l(this,t,i)},m.prototype.makeRBT=function(t){for(var i=new Array(t),r=n.prototype._countBits(t)-1,h=0;h<t;h++)i[h]=this.revBin(h,r,t);return i},m.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var h=0,n=0;n<i;n++)h|=(1&t)<<i-n-1,t>>=1;return h},m.prototype.permute=function(t,i,r,h,n,e){for(var o=0;o<e;o++)h[o]=i[t[o]],n[o]=r[t[o]]},m.prototype.transform=function(t,i,r,h,n,e){this.permute(e,t,i,r,h,n);for(var o=1;o<n;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),l=0;l<n;l+=s)for(var m=u,f=a,d=0;d<o;d++){var p=r[l+d],M=h[l+d],v=r[l+d+o],g=h[l+d+o],c=m*v-f*g;g=m*g+f*v,v=c,r[l+d]=p+v,h[l+d]=M+g,r[l+d+o]=p-v,h[l+d+o]=M-g,d!==s&&(c=u*m-a*f,f=u*f+a*m,m=c)}},m.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),h=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+h},m.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var h=0;h<r/2;h++){var n=t[h];t[h]=t[r-h-1],t[r-h-1]=n,n=i[h],i[h]=-i[r-h-1],i[r-h-1]=-n}},m.prototype.normalize13b=function(t,i){for(var r=0,h=0;h<i/2;h++){var n=8192*Math.round(t[2*h+1]/i)+Math.round(t[2*h]/i)+r;t[h]=67108863&n,r=n<67108864?0:n/67108864|0}return t},m.prototype.convert13b=function(t,i,h,n){for(var e=0,o=0;o<i;o++)e+=0|t[o],h[2*o]=8191&e,e>>>=13,h[2*o+1]=8191&e,e>>>=13;for(o=2*i;o<n;++o)h[o]=0;r(0===e),r(0===(e&-8192))},m.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},m.prototype.mulp=function(t,i,r){var h=2*this.guessLen13b(t.length,i.length),n=this.makeRBT(h),e=this.stub(h),o=new Array(h),s=new Array(h),u=new Array(h),a=new Array(h),l=new Array(h),m=new Array(h),f=r.words;f.length=h,this.convert13b(t.words,t.length,o,h),this.convert13b(i.words,i.length,a,h),this.transform(o,e,s,u,h,n),this.transform(a,e,l,m,h,n);for(var d=0;d<h;d++){var p=s[d]*l[d]-u[d]*m[d];u[d]=s[d]*m[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,h),this.transform(s,u,f,e,h,n),this.conjugate(f,e,h),this.normalize13b(f,h),r.negative=t.negative^i.negative,r.length=t.length+i.length,r.strip()},n.prototype.mul=function(t){var i=new n(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},n.prototype.mulf=function(t){var i=new n(null);return i.words=new Array(this.length+t.length),l(this,t,i)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var i=0,h=0;h<this.length;h++){var n=(0|this.words[h])*t,e=(67108863&n)+(67108863&i);i>>=26,i+=n/67108864|0,i+=e>>>26,this.words[h]=67108863&e}return 0!==i&&(this.words[h]=i,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var i=s(t);if(0===i.length)return new n(1);for(var r=this,h=0;h<i.length&&0===i[h];h++,r=r.sqr());if(++h<i.length)for(var e=r.sqr();h<i.length;h++,e=e.sqr())0!==i[h]&&(r=r.mul(e));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var i,h=t%26,n=(t-h)/26,e=67108863>>>26-h<<26-h;if(0!==h){var o=0;for(i=0;i<this.length;i++){var s=this.words[i]&e,u=(0|this.words[i])-s<<h;this.words[i]=u|o,o=s>>>26-h}o&&(this.words[i]=o,this.length++)}if(0!==n){for(i=this.length-1;i>=0;i--)this.words[i+n]=this.words[i];for(i=0;i<n;i++)this.words[i]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,i,h){r("number"==typeof t&&t>=0);var n;n=i?(i-i%26)/26:0;var e=t%26,o=Math.min((t-e)/26,this.length),s=67108863^67108863>>>e<<e,u=h;if(n-=o,n=Math.max(0,n),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=n);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,i,h){return r(0===this.negative),this.iushrn(t,i,h)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var i=t%26,h=(t-i)/26,n=1<<i;if(this.length<=h)return!1;var e=this.words[h];return!!(e&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var i=t%26,h=(t-i)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=h)return this;if(0!==i&&h++,this.length=Math.min(h,this.length),0!==i){var n=67108863^67108863>>>i<<i;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,i,h){var n,e=t.length+h;this._expand(e);var o,s=0;for(n=0;n<t.length;n++){o=(0|this.words[n+h])+s;var u=(0|t.words[n])*i;o-=67108863&u,s=(o>>26)-(u/67108864|0),this.words[n+h]=67108863&o}for(;n<this.length-h;n++)o=(0|this.words[n+h])+s,s=o>>26,this.words[n+h]=67108863&o;if(0===s)return this.strip();for(r(s===-1),s=0,n=0;n<this.length;n++)o=-(0|this.words[n])+s,s=o>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,i){var r=this.length-t.length,h=this.clone(),e=t,o=0|e.words[e.length-1],s=this._countBits(o);r=26-s,0!==r&&(e=e.ushln(r),h.iushln(r),o=0|e.words[e.length-1]);var u,a=h.length-e.length;if("mod"!==i){u=new n(null),u.length=a+1,u.words=new Array(u.length);for(var l=0;l<u.length;l++)u.words[l]=0}var m=h.clone()._ishlnsubmul(e,1,a);0===m.negative&&(h=m,u&&(u.words[a]=1));for(var f=a-1;f>=0;f--){var d=67108864*(0|h.words[e.length+f])+(0|h.words[e.length+f-1]);for(d=Math.min(d/o|0,67108863),h._ishlnsubmul(e,d,f);0!==h.negative;)d--,h.negative=0,h._ishlnsubmul(e,1,f),h.isZero()||(h.negative^=1);u&&(u.words[f]=d)}return u&&u.strip(),h.strip(),"div"!==i&&0!==r&&h.iushrn(r),{div:u||null,mod:h}},n.prototype.divmod=function(t,i,h){if(r(!t.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var e,o,s;return 0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,i),"mod"!==i&&(e=s.div.neg()),"div"!==i&&(o=s.mod.neg(),h&&0!==o.negative&&o.iadd(t)),{div:e,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),i),"mod"!==i&&(e=s.div.neg()),{div:e,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),i),"div"!==i&&(o=s.mod.neg(),h&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===i?{div:this.divn(t.words[0]),mod:null}:"mod"===i?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,i)},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,h=t.ushrn(1),n=t.andln(1),e=r.cmp(h);
return e<0||1===n&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var i=(1<<26)%t,h=0,n=this.length-1;n>=0;n--)h=(i*h+(0|this.words[n]))%t;return h},n.prototype.idivn=function(t){r(t<=67108863);for(var i=0,h=this.length-1;h>=0;h--){var n=(0|this.words[h])+67108864*i;this.words[h]=n/t|0,i=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,h=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new n(1),o=new n(0),s=new n(0),u=new n(1),a=0;i.isEven()&&h.isEven();)i.iushrn(1),h.iushrn(1),++a;for(var l=h.clone(),m=i.clone();!i.isZero();){for(var f=0,d=1;0===(i.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||o.isOdd())&&(e.iadd(l),o.isub(m)),e.iushrn(1),o.iushrn(1);for(var p=0,M=1;0===(h.words[0]&M)&&p<26;++p,M<<=1);if(p>0)for(h.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(m)),s.iushrn(1),u.iushrn(1);i.cmp(h)>=0?(i.isub(h),e.isub(s),o.isub(u)):(h.isub(i),s.isub(e),u.isub(o))}return{a:s,b:u,gcd:h.iushln(a)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,h=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new n(1),o=new n(0),s=h.clone();i.cmpn(1)>0&&h.cmpn(1)>0;){for(var u=0,a=1;0===(i.words[0]&a)&&u<26;++u,a<<=1);if(u>0)for(i.iushrn(u);u-- >0;)e.isOdd()&&e.iadd(s),e.iushrn(1);for(var l=0,m=1;0===(h.words[0]&m)&&l<26;++l,m<<=1);if(l>0)for(h.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);i.cmp(h)>=0?(i.isub(h),e.isub(o)):(h.isub(i),o.isub(e))}var f;return f=0===i.cmpn(1)?e:o,f.cmpn(0)<0&&f.iadd(t),f},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var h=0;i.isEven()&&r.isEven();h++)i.iushrn(1),r.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=i.cmp(r);if(n<0){var e=i;i=r,r=e}else if(0===n||0===r.cmpn(1))break;i.isub(r)}return r.iushln(h)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0===(1&this.words[0])},n.prototype.isOdd=function(){return 1===(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var i=t%26,h=(t-i)/26,n=1<<i;if(this.length<=h)return this._expand(h+1),this.words[h]|=n,this;for(var e=n,o=h;0!==e&&o<this.length;o++){var s=0|this.words[o];s+=e,e=s>>>26,s&=67108863,this.words[o]=s}return 0!==e&&(this.words[o]=e,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;this.strip();var h;if(this.length>1)h=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];h=n===t?0:n<t?-1:1}return 0!==this.negative?0|-h:h},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var h=0|this.words[r],n=0|t.words[r];if(h!==n){h<n?i=-1:h>n&&(i=1);break}}return i},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return this.cmpn(t)===-1},n.prototype.lt=function(t){return this.cmp(t)===-1},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new g(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var A={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},f.prototype.ireduce=function(t){var i,r=t;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),i=r.bitLength();while(i>this.n);var h=i<this.n?-1:r.ucmp(this.p);return 0===h?(r.words[0]=0,r.length=1):h>0?r.isub(this.p):r.strip(),r},f.prototype.split=function(t,i){t.iushrn(this.n,0,i)},f.prototype.imulK=function(t){return t.imul(this.k)},h(d,f),d.prototype.split=function(t,i){for(var r=4194303,h=Math.min(t.length,9),n=0;n<h;n++)i.words[n]=t.words[n];if(i.length=h,t.length<=9)return t.words[0]=0,void(t.length=1);var e=t.words[9];for(i.words[i.length++]=e&r,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&r)<<4|e>>>22,e=o}e>>>=22,t.words[n-10]=e,0===e&&t.length>10?t.length-=10:t.length-=9},d.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var h=0|t.words[r];i+=977*h,t.words[r]=67108863&i,i=64*h+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},h(p,f),h(M,f),h(v,f),v.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var h=19*(0|t.words[r])+i,n=67108863&h;h>>>=26,t.words[r]=n,i=h}return 0!==i&&(t.words[t.length++]=i),t},n._prime=function t(i){if(A[i])return A[i];var t;if("k256"===i)t=new d;else if("p224"===i)t=new p;else if("p192"===i)t=new M;else{if("p25519"!==i)throw new Error("Unknown prime "+i);t=new v}return A[i]=t,t},g.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},g.prototype._verify2=function(t,i){r(0===(t.negative|i.negative),"red works only with positives"),r(t.red&&t.red===i.red,"red works only with red numbers")},g.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},g.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},g.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},g.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},g.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},g.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},g.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},g.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},g.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},g.prototype.isqr=function(t){return this.imul(t,t.clone())},g.prototype.sqr=function(t){return this.mul(t,t)},g.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2===1),3===i){var h=this.m.add(new n(1)).iushrn(2);return this.pow(t,h)}for(var e=this.m.subn(1),o=0;!e.isZero()&&0===e.andln(1);)o++,e.iushrn(1);r(!e.isZero());var s=new n(1).toRed(this),u=s.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),d=this.pow(t,e),p=o;0!==d.cmp(s);){for(var M=d,v=0;0!==M.cmp(s);v++)M=M.redSqr();r(v<p);var g=this.pow(m,new n(1).iushln(p-v-1));f=f.redMul(g),m=g.redSqr(),d=d.redMul(m),p=v}return f},g.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},g.prototype.pow=function(t,i){if(i.isZero())return new n(1);if(0===i.cmpn(1))return t.clone();var r=4,h=new Array(1<<r);h[0]=new n(1).toRed(this),h[1]=t;for(var e=2;e<h.length;e++)h[e]=this.mul(h[e-1],t);var o=h[0],s=0,u=0,a=i.bitLength()%26;for(0===a&&(a=26),e=i.length-1;e>=0;e--){for(var l=i.words[e],m=a-1;m>=0;m--){var f=l>>m&1;o!==h[0]&&(o=this.sqr(o)),0!==f||0!==s?(s<<=1,s|=f,u++,(u===r||0===e&&0===m)&&(o=this.mul(o,h[s]),u=0,s=0)):u=0}a=26}return o},g.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},g.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},n.mont=function(t){return new c(t)},h(c,g),c.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},c.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},c.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),h=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(h).iushrn(this.shift),e=n;return n.cmp(this.m)>=0?e=n.isub(this.m):n.cmpn(0)<0&&(e=n.iadd(this.m)),e._forceRed(this)},c.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new n(0)._forceRed(this);var r=t.mul(i),h=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(h).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o._forceRed(this)},c.prototype.invm=function(t){var i=this.imod(t._invmp(this.m).mul(this.r2));return i._forceRed(this)}}("undefined"==typeof module||module,this);
},{"buffer":140}],178:[function(_dereq_,module,exports){
(function (Buffer){
function blind(e){var n=getr(e),r=n.toRed(bn.mont(e.modulus)).redPow(new bn(e.publicExponent)).fromRed();return{blinder:r,unblinder:n.invm(e.modulus)}}function crt(e,n){var r=blind(n),o=n.modulus.byteLength(),u=(bn.mont(n.modulus),new bn(e).mul(r.blinder).umod(n.modulus)),m=u.toRed(bn.mont(n.prime1)),d=u.toRed(bn.mont(n.prime2)),t=n.coefficient,i=n.prime1,b=n.prime2,l=m.redPow(n.exponent1),s=d.redPow(n.exponent2);l=l.fromRed(),s=s.fromRed();var p=l.isub(s).imul(t).umod(i);return p.imul(b),s.iadd(p),new Buffer(s.imul(r.unblinder).umod(n.modulus).toArray(!1,o))}function getr(e){for(var n=e.modulus.byteLength(),r=new bn(randomBytes(n));r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2);)r=new bn(randomBytes(n));return r}var bn=_dereq_("bn.js"),randomBytes=_dereq_("randombytes");module.exports=crt,crt.getr=getr;
}).call(this,_dereq_("buffer").Buffer)

},{"bn.js":177,"buffer":140,"randombytes":336}],179:[function(_dereq_,module,exports){
"use strict";var elliptic=exports;elliptic.version=_dereq_("../package.json").version,elliptic.utils=_dereq_("./elliptic/utils"),elliptic.rand=_dereq_("brorand"),elliptic.hmacDRBG=_dereq_("./elliptic/hmac-drbg"),elliptic.curve=_dereq_("./elliptic/curve"),elliptic.curves=_dereq_("./elliptic/curves"),elliptic.ec=_dereq_("./elliptic/ec"),elliptic.eddsa=_dereq_("./elliptic/eddsa");
},{"../package.json":202,"./elliptic/curve":182,"./elliptic/curves":185,"./elliptic/ec":186,"./elliptic/eddsa":189,"./elliptic/hmac-drbg":192,"./elliptic/utils":194,"brorand":195}],180:[function(_dereq_,module,exports){
"use strict";function BaseCurve(t,e){this.type=t,this.p=new BN(e.p,16),this.red=e.prime?BN.red(e.prime):BN.mont(this.p),this.zero=new BN(0).toRed(this.red),this.one=new BN(1).toRed(this.red),this.two=new BN(2).toRed(this.red),this.n=e.n&&new BN(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(t,e){this.curve=t,this.type=e,this.precomputed=null}var BN=_dereq_("bn.js"),elliptic=_dereq_("../../elliptic"),utils=elliptic.utils,getNAF=utils.getNAF,getJSF=utils.getJSF,assert=utils.assert;module.exports=BaseCurve,BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(t,e){assert(t.precomputed);var r=t._getDoubles(),n=getNAF(e,1),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;for(var o=[],s=0;s<n.length;s+=r.step){for(var a=0,e=s+r.step-1;e>=s;e--)a=(a<<1)+n[e];o.push(a)}for(var p=this.jpoint(null,null,null),u=this.jpoint(null,null,null),d=i;d>0;d--){for(var s=0;s<o.length;s++){var a=o[s];a===d?u=u.mixedAdd(r.points[s]):a===-d&&(u=u.mixedAdd(r.points[s].neg()))}p=p.add(u)}return p.toP()},BaseCurve.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=getNAF(e,r),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var e=0;a>=0&&0===o[a];a--)e++;if(a>=0&&e++,s=s.dblp(e),a<0)break;var p=o[a];assert(0!==p),s="affine"===t.type?p>0?s.mixedAdd(i[p-1>>1]):s.mixedAdd(i[-p-1>>1].neg()):p>0?s.add(i[p-1>>1]):s.add(i[-p-1>>1].neg())}return"affine"===t.type?s.toP():s},BaseCurve.prototype._wnafMulAdd=function(t,e,r,n,i){for(var o=this._wnafT1,s=this._wnafT2,a=this._wnafT3,p=0,u=0;u<n;u++){var d=e[u],l=d._getNAFPoints(t);o[u]=l.wnd,s[u]=l.points}for(var u=n-1;u>=1;u-=2){var h=u-1,f=u;if(1===o[h]&&1===o[f]){var c=[e[h],null,null,e[f]];0===e[h].y.cmp(e[f].y)?(c[1]=e[h].add(e[f]),c[2]=e[h].toJ().mixedAdd(e[f].neg())):0===e[h].y.cmp(e[f].y.redNeg())?(c[1]=e[h].toJ().mixedAdd(e[f]),c[2]=e[h].add(e[f].neg())):(c[1]=e[h].toJ().mixedAdd(e[f]),c[2]=e[h].toJ().mixedAdd(e[f].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],g=getJSF(r[h],r[f]);p=Math.max(g[0].length,p),a[h]=new Array(p),a[f]=new Array(p);for(var m=0;m<p;m++){var y=0|g[0][m],w=0|g[1][m];a[h][m]=v[3*(y+1)+(w+1)],a[f][m]=0,s[h]=c}}else a[h]=getNAF(r[h],o[h]),a[f]=getNAF(r[f],o[f]),p=Math.max(a[h].length,p),p=Math.max(a[f].length,p)}for(var B=this.jpoint(null,null,null),A=this._wnafT4,u=p;u>=0;u--){for(var b=0;u>=0;){for(var N=!0,m=0;m<n;m++)A[m]=0|a[m][u],0!==A[m]&&(N=!1);if(!N)break;b++,u--}if(u>=0&&b++,B=B.dblp(b),u<0)break;for(var m=0;m<n;m++){var d,_=A[m];0!==_&&(_>0?d=s[m][_-1>>1]:_<0&&(d=s[m][-_-1>>1].neg()),B="affine"===d.type?B.mixedAdd(d):B.add(d))}}for(var u=0;u<n;u++)s[u]=null;return i?B:B.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(t,e){t=utils.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r){6===t[0]?assert(t[t.length-1]%2===0):7===t[0]&&assert(t[t.length-1]%2===1);var n=this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));return n}if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(t){return this.encode(t,!0)},BasePoint.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},BasePoint.prototype.encode=function(t,e){return utils.encode(this._encode(e),t)},BasePoint.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},BasePoint.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},BasePoint.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},BasePoint.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};
},{"../../elliptic":179,"bn.js":177}],181:[function(_dereq_,module,exports){
"use strict";function EdwardsCurve(t){this.twisted=1!==(0|t.a),this.mOneA=this.twisted&&(0|t.a)===-1,this.extended=this.mOneA,Base.call(this,"edwards",t),this.a=new BN(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|t.c)}function Point(t,r,e,i,d){Base.BasePoint.call(this,t,"projective"),null===r&&null===e&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN(r,16),this.y=new BN(e,16),this.z=i?new BN(i,16):this.curve.one,this.t=d&&new BN(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var curve=_dereq_("../curve"),elliptic=_dereq_("../../elliptic"),BN=_dereq_("bn.js"),inherits=_dereq_("inherits"),Base=curve.base,assert=elliptic.utils.assert;inherits(EdwardsCurve,Base),module.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},EdwardsCurve.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},EdwardsCurve.prototype.jpoint=function(t,r,e,i){return this.point(t,r,e,i)},EdwardsCurve.prototype.pointFromX=function(t,r){t=new BN(t,16),t.red||(t=t.toRed(this.red));var e=t.redSqr(),i=this.c2.redSub(this.a.redMul(e)),d=this.one.redSub(this.c2.redMul(this.d).redMul(e)),s=i.redMul(d.redInvm()),u=s.redSqrt();if(0!==u.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var n=u.fromRed().isOdd();return(r&&!n||!r&&n)&&(u=u.redNeg()),this.point(t,u)},EdwardsCurve.prototype.pointFromY=function(t,r){t=new BN(t,16),t.red||(t=t.toRed(this.red));var e=t.redSqr(),i=e.redSub(this.one),d=e.redMul(this.d).redAdd(this.one),s=i.redMul(d.redInvm());if(0===s.cmp(this.zero)){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var u=s.redSqrt();if(0!==u.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return u.isOdd()!==r&&(u=u.redNeg()),this.point(u,t)},EdwardsCurve.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),e=t.y.redSqr(),i=r.redMul(this.a).redAdd(e),d=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(e)));return 0===i.cmp(d)},inherits(Point,Base.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(t){return Point.fromJSON(this,t)},EdwardsCurve.prototype.point=function(t,r,e,i){return new Point(this,t,r,e,i)},Point.fromJSON=function(t,r){return new Point(t,r[0],r[1],r[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},Point.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),e=this.z.redSqr();e=e.redIAdd(e);var i=this.curve._mulA(t),d=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),s=i.redAdd(r),u=s.redSub(e),n=i.redSub(r),h=d.redMul(u),o=s.redMul(n),l=d.redMul(n),c=u.redMul(s);return this.curve.point(h,o,c,l)},Point.prototype._projDbl=function(){var t,r,e,i=this.x.redAdd(this.y).redSqr(),d=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var u=this.curve._mulA(d),n=u.redAdd(s);if(this.zOne)t=i.redSub(d).redSub(s).redMul(n.redSub(this.curve.two)),r=n.redMul(u.redSub(s)),e=n.redSqr().redSub(n).redSub(n);else{var h=this.z.redSqr(),o=n.redSub(h).redISub(h);t=i.redSub(d).redISub(s).redMul(o),r=n.redMul(u.redSub(s)),e=n.redMul(o)}}else{var u=d.redAdd(s),h=this.curve._mulC(this.c.redMul(this.z)).redSqr(),o=u.redSub(h).redSub(h);t=this.curve._mulC(i.redISub(u)).redMul(o),r=this.curve._mulC(u).redMul(d.redISub(s)),e=u.redMul(o)}return this.curve.point(t,r,e)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),e=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),d=this.z.redMul(t.z.redAdd(t.z)),s=e.redSub(r),u=d.redSub(i),n=d.redAdd(i),h=e.redAdd(r),o=s.redMul(u),l=n.redMul(h),c=s.redMul(h),p=u.redMul(n);return this.curve.point(o,l,p,c)},Point.prototype._projAdd=function(t){var r,e,i=this.z.redMul(t.z),d=i.redSqr(),s=this.x.redMul(t.x),u=this.y.redMul(t.y),n=this.curve.d.redMul(s).redMul(u),h=d.redSub(n),o=d.redAdd(n),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(u),c=i.redMul(h).redMul(l);return this.curve.twisted?(r=i.redMul(o).redMul(u.redSub(this.curve._mulA(s))),e=h.redMul(o)):(r=i.redMul(o).redMul(u.redSub(s)),e=this.curve._mulC(h).redMul(o)),this.curve.point(c,r,e)},Point.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},Point.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},Point.prototype.mulAdd=function(t,r,e){return this.curve._wnafMulAdd(1,[this,r],[t,e],2,!1)},Point.prototype.jmulAdd=function(t,r,e){return this.curve._wnafMulAdd(1,[this,r],[t,e],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},Point.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(r))return!0;for(var e=t.clone(),i=this.curve.redN.redMul(this.z);;){if(e.iadd(this.curve.n),e.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}return!1},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add;
},{"../../elliptic":179,"../curve":182,"bn.js":177,"inherits":338}],182:[function(_dereq_,module,exports){
"use strict";var curve=exports;curve.base=_dereq_("./base"),curve.short=_dereq_("./short"),curve.mont=_dereq_("./mont"),curve.edwards=_dereq_("./edwards");
},{"./base":180,"./edwards":181,"./mont":183,"./short":184}],183:[function(_dereq_,module,exports){
"use strict";function MontCurve(t){Base.call(this,"mont",t),this.a=new BN(t.a,16).toRed(this.red),this.b=new BN(t.b,16).toRed(this.red),this.i4=new BN(4).toRed(this.red).redInvm(),this.two=new BN(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(t,r,e){Base.BasePoint.call(this,t,"projective"),null===r&&null===e?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN(r,16),this.z=new BN(e,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var curve=_dereq_("../curve"),BN=_dereq_("bn.js"),inherits=_dereq_("inherits"),Base=curve.base,elliptic=_dereq_("../../elliptic"),utils=elliptic.utils;inherits(MontCurve,Base),module.exports=MontCurve,MontCurve.prototype.validate=function(t){var r=t.normalize().x,e=r.redSqr(),i=e.redMul(r).redAdd(e.redMul(this.a)).redAdd(r),o=i.redSqrt();return 0===o.redSqr().cmp(i)},inherits(Point,Base.BasePoint),MontCurve.prototype.decodePoint=function(t,r){return this.point(utils.toArray(t,r),1)},MontCurve.prototype.point=function(t,r){return new Point(this,t,r)},MontCurve.prototype.pointFromJSON=function(t){return Point.fromJSON(this,t)},Point.prototype.precompute=function(){},Point.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function(t,r){return new Point(t,r[0],r[1]||t.one)},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),e=this.x.redSub(this.z),i=e.redSqr(),o=r.redSub(i),n=r.redMul(i),u=o.redMul(i.redAdd(this.curve.a24.redMul(o)));return this.curve.point(n,u)},Point.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function(t,r){var e=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=t.x.redAdd(t.z),n=t.x.redSub(t.z),u=n.redMul(e),d=o.redMul(i),s=r.z.redMul(u.redAdd(d).redSqr()),h=r.x.redMul(u.redISub(d).redSqr());return this.curve.point(s,h)},Point.prototype.mul=function(t){for(var r=t.clone(),e=this,i=this.curve.point(null,null),o=this,n=[];0!==r.cmpn(0);r.iushrn(1))n.push(r.andln(1));for(var u=n.length-1;u>=0;u--)0===n[u]?(e=e.diffAdd(i,o),i=i.dbl()):(i=e.diffAdd(i,o),e=e.dbl());return i},Point.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},Point.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()};
},{"../../elliptic":179,"../curve":182,"bn.js":177,"inherits":338}],184:[function(_dereq_,module,exports){
"use strict";function ShortCurve(r){Base.call(this,"short",r),this.a=new BN(r.a,16).toRed(this.red),this.b=new BN(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(r,e,t,d){Base.BasePoint.call(this,r,"affine"),null===e&&null===t?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN(e,16),this.y=new BN(t,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(r,e,t,d){Base.BasePoint.call(this,r,"jacobian"),null===e&&null===t&&null===d?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN(0)):(this.x=new BN(e,16),this.y=new BN(t,16),this.z=new BN(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var curve=_dereq_("../curve"),elliptic=_dereq_("../../elliptic"),BN=_dereq_("bn.js"),inherits=_dereq_("inherits"),Base=curve.base,assert=elliptic.utils.assert;inherits(ShortCurve,Base),module.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function(r){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,t;if(r.beta)e=new BN(r.beta,16).toRed(this.red);else{var d=this._getEndoRoots(this.p);e=d[0].cmp(d[1])<0?d[0]:d[1],e=e.toRed(this.red)}if(r.lambda)t=new BN(r.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?t=i[0]:(t=i[1],assert(0===this.g.mul(t).x.cmp(this.g.x.redMul(e))))}var n;return n=r.basis?r.basis.map(function(r){return{a:new BN(r.a,16),b:new BN(r.b,16)}}):this._getEndoBasis(t),{beta:e,lambda:t,basis:n}}},ShortCurve.prototype._getEndoRoots=function(r){var e=r===this.p?this.red:BN.mont(r),t=new BN(2).toRed(e).redInvm(),d=t.redNeg(),i=new BN(3).toRed(e).redNeg().redSqrt().redMul(t),n=d.redAdd(i).fromRed(),u=d.redSub(i).fromRed();return[n,u]},ShortCurve.prototype._getEndoBasis=function(r){for(var e,t,d,i,n,u,s,o,h,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),p=r,a=this.n.clone(),c=new BN(1),f=new BN(0),v=new BN(0),S=new BN(1),b=0;0!==p.cmpn(0);){var I=a.div(p);o=a.sub(I.mul(p)),h=v.sub(I.mul(c));var y=S.sub(I.mul(f));if(!d&&o.cmp(l)<0)e=s.neg(),t=c,d=o.neg(),i=h;else if(d&&2===++b)break;s=o,a=p,p=o,v=c,c=h,S=f,f=y}n=o.neg(),u=h;var A=d.sqr().add(i.sqr()),m=n.sqr().add(u.sqr());return m.cmp(A)>=0&&(n=e,u=t),d.negative&&(d=d.neg(),i=i.neg()),n.negative&&(n=n.neg(),u=u.neg()),[{a:d,b:i},{a:n,b:u}]},ShortCurve.prototype._endoSplit=function(r){var e=this.endo.basis,t=e[0],d=e[1],i=d.b.mul(r).divRound(this.n),n=t.b.neg().mul(r).divRound(this.n),u=i.mul(t.a),s=n.mul(d.a),o=i.mul(t.b),h=n.mul(d.b),l=r.sub(u).sub(s),p=o.add(h).neg();return{k1:l,k2:p}},ShortCurve.prototype.pointFromX=function(r,e){r=new BN(r,16),r.red||(r=r.toRed(this.red));var t=r.redSqr().redMul(r).redIAdd(r.redMul(this.a)).redIAdd(this.b),d=t.redSqrt();if(0!==d.redSqr().redSub(t).cmp(this.zero))throw new Error("invalid point");var i=d.fromRed().isOdd();return(e&&!i||!e&&i)&&(d=d.redNeg()),this.point(r,d)},ShortCurve.prototype.validate=function(r){if(r.inf)return!0;var e=r.x,t=r.y,d=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(d).redIAdd(this.b);return 0===t.redSqr().redISub(i).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(r,e,t){for(var d=this._endoWnafT1,i=this._endoWnafT2,n=0;n<r.length;n++){var u=this._endoSplit(e[n]),s=r[n],o=s._getBeta();u.k1.negative&&(u.k1.ineg(),s=s.neg(!0)),u.k2.negative&&(u.k2.ineg(),o=o.neg(!0)),d[2*n]=s,d[2*n+1]=o,i[2*n]=u.k1,i[2*n+1]=u.k2}for(var h=this._wnafMulAdd(1,d,i,2*n,t),l=0;l<2*n;l++)d[l]=null,i[l]=null;return h},inherits(Point,Base.BasePoint),ShortCurve.prototype.point=function(r,e,t){return new Point(this,r,e,t)},ShortCurve.prototype.pointFromJSON=function(r,e){return Point.fromJSON(this,r,e)},Point.prototype._getBeta=function(){if(this.curve.endo){var r=this.precomputed;if(r&&r.beta)return r.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(r){var t=this.curve,d=function(r){return t.point(r.x.redMul(t.endo.beta),r.y)};r.beta=e,e.precomputed={beta:null,naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(d)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(d)}}}return e}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(r,e,t){function d(e){return r.point(e[0],e[1],t)}"string"==typeof e&&(e=JSON.parse(e));var i=r.point(e[0],e[1],t);if(!e[2])return i;var n=e[2];return i.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[i].concat(n.doubles.points.map(d))},naf:n.naf&&{wnd:n.naf.wnd,points:[i].concat(n.naf.points.map(d))}},i},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(r){if(this.inf)return r;if(r.inf)return this;if(this.eq(r))return this.dbl();if(this.neg().eq(r))return this.curve.point(null,null);if(0===this.x.cmp(r.x))return this.curve.point(null,null);var e=this.y.redSub(r.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(r.x).redInvm()));var t=e.redSqr().redISub(this.x).redISub(r.x),d=e.redMul(this.x.redSub(t)).redISub(this.y);return this.curve.point(t,d)},Point.prototype.dbl=function(){if(this.inf)return this;var r=this.y.redAdd(this.y);if(0===r.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,t=this.x.redSqr(),d=r.redInvm(),i=t.redAdd(t).redIAdd(t).redIAdd(e).redMul(d),n=i.redSqr().redISub(this.x.redAdd(this.x)),u=i.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,u)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(r){return r=new BN(r,16),this._hasDoubles(r)?this.curve._fixedNafMul(this,r):this.curve.endo?this.curve._endoWnafMulAdd([this],[r]):this.curve._wnafMul(this,r)},Point.prototype.mulAdd=function(r,e,t){var d=[this,e],i=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(d,i):this.curve._wnafMulAdd(1,d,i,2)},Point.prototype.jmulAdd=function(r,e,t){var d=[this,e],i=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(d,i,!0):this.curve._wnafMulAdd(1,d,i,2,!0)},Point.prototype.eq=function(r){return this===r||this.inf===r.inf&&(this.inf||0===this.x.cmp(r.x)&&0===this.y.cmp(r.y))},Point.prototype.neg=function(r){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(r&&this.precomputed){var t=this.precomputed,d=function(r){return r.neg()};e.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(d)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(d)}}}return e},Point.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var r=this.curve.jpoint(this.x,this.y,this.curve.one);return r},inherits(JPoint,Base.BasePoint),ShortCurve.prototype.jpoint=function(r,e,t){return new JPoint(this,r,e,t)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var r=this.z.redInvm(),e=r.redSqr(),t=this.x.redMul(e),d=this.y.redMul(e).redMul(r);return this.curve.point(t,d)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;var e=r.z.redSqr(),t=this.z.redSqr(),d=this.x.redMul(e),i=r.x.redMul(t),n=this.y.redMul(e.redMul(r.z)),u=r.y.redMul(t.redMul(this.z)),s=d.redSub(i),o=n.redSub(u);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=s.redSqr(),l=h.redMul(s),p=d.redMul(h),a=o.redSqr().redIAdd(l).redISub(p).redISub(p),c=o.redMul(p.redISub(a)).redISub(n.redMul(l)),f=this.z.redMul(r.z).redMul(s);return this.curve.jpoint(a,c,f)},JPoint.prototype.mixedAdd=function(r){if(this.isInfinity())return r.toJ();if(r.isInfinity())return this;var e=this.z.redSqr(),t=this.x,d=r.x.redMul(e),i=this.y,n=r.y.redMul(e).redMul(this.z),u=t.redSub(d),s=i.redSub(n);if(0===u.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var o=u.redSqr(),h=o.redMul(u),l=t.redMul(o),p=s.redSqr().redIAdd(h).redISub(l).redISub(l),a=s.redMul(l.redISub(p)).redISub(i.redMul(h)),c=this.z.redMul(u);return this.curve.jpoint(p,a,c)},JPoint.prototype.dblp=function(r){if(0===r)return this;if(this.isInfinity())return this;if(!r)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,t=0;t<r;t++)e=e.dbl();return e}for(var d=this.curve.a,i=this.curve.tinv,n=this.x,u=this.y,s=this.z,o=s.redSqr().redSqr(),h=u.redAdd(u),t=0;t<r;t++){var l=n.redSqr(),p=h.redSqr(),a=p.redSqr(),c=l.redAdd(l).redIAdd(l).redIAdd(d.redMul(o)),f=n.redMul(p),v=c.redSqr().redISub(f.redAdd(f)),S=f.redISub(v),b=c.redMul(S);b=b.redIAdd(b).redISub(a);var I=h.redMul(s);t+1<r&&(o=o.redMul(a)),n=v,s=I,h=b}return this.curve.jpoint(n,h.redMul(i),s)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var r,e,t;if(this.zOne){var d=this.x.redSqr(),i=this.y.redSqr(),n=i.redSqr(),u=this.x.redAdd(i).redSqr().redISub(d).redISub(n);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d),o=s.redSqr().redISub(u).redISub(u),h=n.redIAdd(n);h=h.redIAdd(h),h=h.redIAdd(h),r=o,e=s.redMul(u.redISub(o)).redISub(h),t=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),p=this.y.redSqr(),a=p.redSqr(),c=this.x.redAdd(p).redSqr().redISub(l).redISub(a);c=c.redIAdd(c);var f=l.redAdd(l).redIAdd(l),v=f.redSqr(),S=a.redIAdd(a);S=S.redIAdd(S),S=S.redIAdd(S),r=v.redISub(c).redISub(c),e=f.redMul(c.redISub(r)).redISub(S),t=this.y.redMul(this.z),t=t.redIAdd(t)}return this.curve.jpoint(r,e,t)},JPoint.prototype._threeDbl=function(){var r,e,t;if(this.zOne){var d=this.x.redSqr(),i=this.y.redSqr(),n=i.redSqr(),u=this.x.redAdd(i).redSqr().redISub(d).redISub(n);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),o=s.redSqr().redISub(u).redISub(u);r=o;var h=n.redIAdd(n);h=h.redIAdd(h),h=h.redIAdd(h),e=s.redMul(u.redISub(o)).redISub(h),t=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),p=this.y.redSqr(),a=this.x.redMul(p),c=this.x.redSub(l).redMul(this.x.redAdd(l));c=c.redAdd(c).redIAdd(c);var f=a.redIAdd(a);f=f.redIAdd(f);var v=f.redAdd(f);r=c.redSqr().redISub(v),t=this.y.redAdd(this.z).redSqr().redISub(p).redISub(l);var S=p.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S),e=c.redMul(f.redISub(r)).redISub(S)}return this.curve.jpoint(r,e,t)},JPoint.prototype._dbl=function(){var r=this.curve.a,e=this.x,t=this.y,d=this.z,i=d.redSqr().redSqr(),n=e.redSqr(),u=t.redSqr(),s=n.redAdd(n).redIAdd(n).redIAdd(r.redMul(i)),o=e.redAdd(e);o=o.redIAdd(o);var h=o.redMul(u),l=s.redSqr().redISub(h.redAdd(h)),p=h.redISub(l),a=u.redSqr();a=a.redIAdd(a),a=a.redIAdd(a),a=a.redIAdd(a);var c=s.redMul(p).redISub(a),f=t.redAdd(t).redMul(d);return this.curve.jpoint(l,c,f)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var r=this.x.redSqr(),e=this.y.redSqr(),t=this.z.redSqr(),d=e.redSqr(),i=r.redAdd(r).redIAdd(r),n=i.redSqr(),u=this.x.redAdd(e).redSqr().redISub(r).redISub(d);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(n);var s=u.redSqr(),o=d.redIAdd(d);o=o.redIAdd(o),o=o.redIAdd(o),o=o.redIAdd(o);var h=i.redIAdd(u).redSqr().redISub(n).redISub(s).redISub(o),l=e.redMul(h);l=l.redIAdd(l),l=l.redIAdd(l);var p=this.x.redMul(s).redISub(l);p=p.redIAdd(p),p=p.redIAdd(p);var a=this.y.redMul(h.redMul(o.redISub(h)).redISub(u.redMul(s)));a=a.redIAdd(a),a=a.redIAdd(a),a=a.redIAdd(a);var c=this.z.redAdd(u).redSqr().redISub(t).redISub(s);return this.curve.jpoint(p,a,c)},JPoint.prototype.mul=function(r,e){return r=new BN(r,e),this.curve._wnafMul(this,r)},JPoint.prototype.eq=function(r){if("affine"===r.type)return this.eq(r.toJ());if(this===r)return!0;var e=this.z.redSqr(),t=r.z.redSqr();if(0!==this.x.redMul(t).redISub(r.x.redMul(e)).cmpn(0))return!1;var d=e.redMul(this.z),i=t.redMul(r.z);return 0===this.y.redMul(i).redISub(r.y.redMul(d)).cmpn(0)},JPoint.prototype.eqXToP=function(r){var e=this.z.redSqr(),t=r.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(t))return!0;for(var d=r.clone(),i=this.curve.redN.redMul(e);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}return!1},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};
},{"../../elliptic":179,"../curve":182,"bn.js":177,"inherits":338}],185:[function(_dereq_,module,exports){
"use strict";function PresetCurve(f){"short"===f.type?this.curve=new elliptic.curve.short(f):"edwards"===f.type?this.curve=new elliptic.curve.edwards(f):this.curve=new elliptic.curve.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,assert(this.g.validate(),"Invalid curve"),assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(f,e){Object.defineProperty(curves,f,{configurable:!0,enumerable:!0,get:function(){var a=new PresetCurve(e);return Object.defineProperty(curves,f,{configurable:!0,enumerable:!0,value:a}),a}})}var curves=exports,hash=_dereq_("hash.js"),elliptic=_dereq_("../elliptic"),assert=elliptic.utils.assert;curves.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"0",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var pre;try{pre=_dereq_("./precomputed/secp256k1")}catch(f){pre=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]});
},{"../elliptic":179,"./precomputed/secp256k1":193,"hash.js":196}],186:[function(_dereq_,module,exports){
"use strict";function EC(e){return this instanceof EC?("string"==typeof e&&(assert(elliptic.curves.hasOwnProperty(e),"Unknown curve "+e),e=elliptic.curves[e]),e instanceof elliptic.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),void(this.hash=e.hash||e.curve.hash)):new EC(e)}var BN=_dereq_("bn.js"),elliptic=_dereq_("../../elliptic"),utils=elliptic.utils,assert=utils.assert,KeyPair=_dereq_("./key"),Signature=_dereq_("./signature");module.exports=EC,EC.prototype.keyPair=function(e){return new KeyPair(this,e)},EC.prototype.keyFromPrivate=function(e,t){return KeyPair.fromPrivate(this,e,t)},EC.prototype.keyFromPublic=function(e,t){return KeyPair.fromPublic(this,e,t)},EC.prototype.genKeyPair=function(e){e||(e={});for(var t=new elliptic.hmacDRBG({hash:this.hash,pers:e.pers,entropy:e.entropy||elliptic.rand(this.hash.hmacStrength),nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new BN(2));;){var n=new BN(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},EC.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},EC.prototype.sign=function(e,t,r,i){"object"==typeof r&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new BN(e,16));for(var n=this.n.byteLength(),s=t.getPrivate().toArray("be",n),u=e.toArray("be",n),o=new elliptic.hmacDRBG({hash:this.hash,entropy:s,nonce:u,pers:i.pers,persEnc:i.persEnc}),h=this.n.sub(new BN(1)),c=0;!0;c++){var a=i.k?i.k(c):new BN(o.generate(this.n.byteLength()));if(a=this._truncateToN(a,!0),!(a.cmpn(1)<=0||a.cmp(h)>=0)){var p=this.g.mul(a);if(!p.isInfinity()){var v=p.getX(),m=v.umod(this.n);if(0!==m.cmpn(0)){var y=a.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(y=y.umod(this.n),0!==y.cmpn(0)){var l=(p.getY().isOdd()?1:0)|(0!==v.cmp(m)?2:0);return i.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),l^=1),new Signature({r:m,s:y,recoveryParam:l})}}}}}},EC.prototype.verify=function(e,t,r,i){e=this._truncateToN(new BN(e,16)),r=this.keyFromPublic(r,i),t=new Signature(t,"hex");var n=t.r,s=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var u=s.invm(this.n),o=u.mul(e).umod(this.n),h=u.mul(n).umod(this.n);if(!this.curve._maxwellTrick){var c=this.g.mulAdd(o,r.getPublic(),h);return!c.isInfinity()&&0===c.getX().umod(this.n).cmp(n)}var c=this.g.jmulAdd(o,r.getPublic(),h);return!c.isInfinity()&&c.eqXToP(n)},EC.prototype.recoverPubKey=function(e,t,r,i){assert((3&r)===r,"The recovery param is more than two bits"),t=new Signature(t,i);var n=this.n,s=new BN(e),u=t.r,o=t.s,h=1&r,c=r>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");u=c?this.curve.pointFromX(u.add(this.curve.n),h):this.curve.pointFromX(u,h);var a=t.r.invm(n),p=n.sub(s).mul(a).umod(n),v=o.mul(a).umod(n);return this.g.mulAdd(p,u,v)},EC.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new Signature(t,i),null!==t.recoveryParam)return t.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(e,t,n)}catch(e){continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")};
},{"../../elliptic":179,"./key":187,"./signature":188,"bn.js":177}],187:[function(_dereq_,module,exports){
"use strict";function KeyPair(i,t){this.ec=i,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var BN=_dereq_("bn.js");module.exports=KeyPair,KeyPair.fromPublic=function(i,t,r){return t instanceof KeyPair?t:new KeyPair(i,{pub:t,pubEnc:r})},KeyPair.fromPrivate=function(i,t,r){return t instanceof KeyPair?t:new KeyPair(i,{priv:t,privEnc:r})},KeyPair.prototype.validate=function(){var i=this.getPublic();return i.isInfinity()?{result:!1,reason:"Invalid public key"}:i.validate()?i.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(i,t){return"string"==typeof i&&(t=i,i=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,i):this.pub},KeyPair.prototype.getPrivate=function(i){return"hex"===i?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(i,t){this.priv=new BN(i,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(i,t){return i.x||i.y?void(this.pub=this.ec.curve.point(i.x,i.y)):void(this.pub=this.ec.curve.decodePoint(i,t))},KeyPair.prototype.derive=function(i){return i.mul(this.priv).getX()},KeyPair.prototype.sign=function(i,t,r){return this.ec.sign(i,this,t,r)},KeyPair.prototype.verify=function(i,t){return this.ec.verify(i,t,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};
},{"bn.js":177}],188:[function(_dereq_,module,exports){
"use strict";function Signature(t,r){return t instanceof Signature?t:void(this._importDER(t,r)||(assert(t.r&&t.s,"Signature without r or s"),this.r=new BN(t.r,16),this.s=new BN(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam))}function Position(){this.place=0}function getLength(t,r){var e=t[r.place++];if(!(128&e))return e;for(var n=15&e,i=0,a=0,c=r.place;a<n;a++,c++)i<<=8,i|=t[c];return r.place=c,i}function rmPadding(t){for(var r=0,e=t.length-1;!t[r]&&!(128&t[r+1])&&r<e;)r++;return 0===r?t:t.slice(r)}function constructLength(t,r){if(r<128)return void t.push(r);var e=1+(Math.log(r)/Math.LN2>>>3);for(t.push(128|e);--e;)t.push(r>>>(e<<3)&255);t.push(r)}var BN=_dereq_("bn.js"),elliptic=_dereq_("../../elliptic"),utils=elliptic.utils,assert=utils.assert;module.exports=Signature,Signature.prototype._importDER=function(t,r){t=utils.toArray(t,r);var e=new Position;if(48!==t[e.place++])return!1;var n=getLength(t,e);if(n+e.place!==t.length)return!1;if(2!==t[e.place++])return!1;var i=getLength(t,e),a=t.slice(e.place,i+e.place);if(e.place+=i,2!==t[e.place++])return!1;var c=getLength(t,e);if(t.length!==c+e.place)return!1;var s=t.slice(e.place,c+e.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===s[0]&&128&s[1]&&(s=s.slice(1)),this.r=new BN(a),this.s=new BN(s),this.recoveryParam=null,!0},Signature.prototype.toDER=function(t){var r=this.r.toArray(),e=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&e[0]&&(e=[0].concat(e)),r=rmPadding(r),e=rmPadding(e);!(e[0]||128&e[1]);)e=e.slice(1);var n=[2];constructLength(n,r.length),n=n.concat(r),n.push(2),constructLength(n,e.length);var i=n.concat(e),a=[48];return constructLength(a,i.length),a=a.concat(i),utils.encode(a,t)};
},{"../../elliptic":179,"bn.js":177}],189:[function(_dereq_,module,exports){
"use strict";function EDDSA(t){if(assert("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(t);var t=elliptic.curves[t].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=hash.sha512}var hash=_dereq_("hash.js"),elliptic=_dereq_("../../elliptic"),utils=elliptic.utils,assert=utils.assert,parseBytes=utils.parseBytes,KeyPair=_dereq_("./key"),Signature=_dereq_("./signature");module.exports=EDDSA,EDDSA.prototype.sign=function(t,e){t=parseBytes(t);var i=this.keyFromSecret(e),r=this.hashInt(i.messagePrefix(),t),n=this.g.mul(r),s=this.encodePoint(n),o=this.hashInt(s,i.pubBytes(),t).mul(i.priv()),u=r.add(o).umod(this.curve.n);return this.makeSignature({R:n,S:u,Rencoded:s})},EDDSA.prototype.verify=function(t,e,i){t=parseBytes(t),e=this.makeSignature(e);var r=this.keyFromPublic(i),n=this.hashInt(e.Rencoded(),r.pubBytes(),t),s=this.g.mul(e.S()),o=e.R().add(r.pub().mul(n));return o.eq(s)},EDDSA.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return utils.intFromLE(t.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(t){return KeyPair.fromPublic(this,t)},EDDSA.prototype.keyFromSecret=function(t){return KeyPair.fromSecret(this,t)},EDDSA.prototype.makeSignature=function(t){return t instanceof Signature?t:new Signature(this,t)},EDDSA.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},EDDSA.prototype.decodePoint=function(t){t=utils.parseBytes(t);var e=t.length-1,i=t.slice(0,e).concat(t[e]&-129),r=0!==(128&t[e]),n=utils.intFromLE(i);return this.curve.pointFromY(n,r)},EDDSA.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(t){return utils.intFromLE(t)},EDDSA.prototype.isPoint=function(t){return t instanceof this.pointClass};
},{"../../elliptic":179,"./key":190,"./signature":191,"hash.js":196}],190:[function(_dereq_,module,exports){
"use strict";function KeyPair(e,t){this.eddsa=e,this._secret=parseBytes(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=parseBytes(t.pub)}var elliptic=_dereq_("../../elliptic"),utils=elliptic.utils,assert=utils.assert,parseBytes=utils.parseBytes,cachedProperty=utils.cachedProperty;KeyPair.fromPublic=function(e,t){return t instanceof KeyPair?t:new KeyPair(e,{pub:t})},KeyPair.fromSecret=function(e,t){return t instanceof KeyPair?t:new KeyPair(e,{secret:t})},KeyPair.prototype.secret=function(){return this._secret},cachedProperty(KeyPair,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),cachedProperty(KeyPair,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),cachedProperty(KeyPair,"privBytes",function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[i]&=127,r[i]|=64,r}),cachedProperty(KeyPair,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),cachedProperty(KeyPair,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),cachedProperty(KeyPair,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair.prototype.sign=function(e){return assert(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},KeyPair.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},KeyPair.prototype.getSecret=function(e){return assert(this._secret,"KeyPair is public only"),utils.encode(this.secret(),e)},KeyPair.prototype.getPublic=function(e){return utils.encode(this.pubBytes(),e)},module.exports=KeyPair;
},{"../../elliptic":179}],191:[function(_dereq_,module,exports){
"use strict";function Signature(e,t){this.eddsa=e,"object"!=typeof t&&(t=parseBytes(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),assert(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof BN&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}var BN=_dereq_("bn.js"),elliptic=_dereq_("../../elliptic"),utils=elliptic.utils,assert=utils.assert,cachedProperty=utils.cachedProperty,parseBytes=utils.parseBytes;cachedProperty(Signature,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),cachedProperty(Signature,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),cachedProperty(Signature,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),cachedProperty(Signature,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Signature.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function(){return utils.encode(this.toBytes(),"hex").toUpperCase()},module.exports=Signature;
},{"../../elliptic":179,"bn.js":177}],192:[function(_dereq_,module,exports){
"use strict";function HmacDRBG(t){if(!(this instanceof HmacDRBG))return new HmacDRBG(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this.reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=utils.toArray(t.entropy,t.entropyEnc),s=utils.toArray(t.nonce,t.nonceEnc),i=utils.toArray(t.pers,t.persEnc);assert(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,s,i)}var hash=_dereq_("hash.js"),elliptic=_dereq_("../elliptic"),utils=elliptic.utils,assert=utils.assert;module.exports=HmacDRBG,HmacDRBG.prototype._init=function(t,e,s){var i=t.concat(e).concat(s);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(i),this.reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new hash.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(t,e,s,i){"string"!=typeof e&&(i=s,s=e,e=null),t=utils.toBuffer(t,e),s=utils.toBuffer(s,i),assert(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(s||[])),this.reseed=1},HmacDRBG.prototype.generate=function(t,e,s,i){if(this.reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=s,s=e,e=null),s&&(s=utils.toArray(s,i),this._update(s));for(var h=[];h.length<t;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var r=h.slice(0,t);return this._update(s),this.reseed++,utils.encode(r,e)};
},{"../elliptic":179,"hash.js":196}],193:[function(_dereq_,module,exports){
module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}};
},{}],194:[function(_dereq_,module,exports){
"use strict";function toArray(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var e=[];if("string"!=typeof r){for(var n=0;n<r.length;n++)e[n]=0|r[n];return e}if(t){if("hex"===t){r=r.replace(/[^a-z0-9]+/gi,""),r.length%2!==0&&(r="0"+r);for(var n=0;n<r.length;n+=2)e.push(parseInt(r[n]+r[n+1],16))}}else for(var n=0;n<r.length;n++){var i=r.charCodeAt(n),o=i>>8,s=255&i;o?e.push(o,s):e.push(s)}return e}function zero2(r){return 1===r.length?"0"+r:r}function toHex(r){for(var t="",e=0;e<r.length;e++)t+=zero2(r[e].toString(16));return t}function getNAF(r,t){for(var e=[],n=1<<t+1,i=r.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var s=i.andln(n-1);o=s>(n>>1)-1?(n>>1)-s:s,i.isubn(o)}else o=0;e.push(o);for(var u=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,a=1;a<u;a++)e.push(0);i.iushrn(u)}return e}function getJSF(r,t){var e=[[],[]];r=r.clone(),t=t.clone();for(var n=0,i=0;r.cmpn(-n)>0||t.cmpn(-i)>0;){var o=r.andln(3)+n&3,s=t.andln(3)+i&3;3===o&&(o=-1),3===s&&(s=-1);var u;if(0===(1&o))u=0;else{var a=r.andln(7)+n&7;u=3!==a&&5!==a||2!==s?o:-o}e[0].push(u);var l;if(0===(1&s))l=0;else{var a=t.andln(7)+i&7;l=3!==a&&5!==a||2!==o?s:-s}e[1].push(l),2*n===u+1&&(n=1-n),2*i===l+1&&(i=1-i),r.iushrn(1),t.iushrn(1)}return e}function cachedProperty(r,t,e){var n="_"+t;r.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=e.call(this)}}function parseBytes(r){return"string"==typeof r?utils.toArray(r,"hex"):r}function intFromLE(r){return new BN(r,"hex","le")}var utils=exports,BN=_dereq_("bn.js");utils.assert=function(r,t){if(!r)throw new Error(t||"Assertion failed")},utils.toArray=toArray,utils.zero2=zero2,utils.toHex=toHex,utils.encode=function(r,t){return"hex"===t?toHex(r):r},utils.getNAF=getNAF,utils.getJSF=getJSF,utils.cachedProperty=cachedProperty,utils.parseBytes=parseBytes,utils.intFromLE=intFromLE;
},{"bn.js":177}],195:[function(_dereq_,module,exports){
function Rand(n){this.rand=n}var r;if(module.exports=function(n){return r||(r=new Rand(null)),r.generate(n)},module.exports.Rand=Rand,Rand.prototype.generate=function(n){return this._rand(n)},"object"==typeof window)window.crypto&&window.crypto.getRandomValues?Rand.prototype._rand=function(n){var r=new Uint8Array(n);return window.crypto.getRandomValues(r),r}:window.msCrypto&&window.msCrypto.getRandomValues?Rand.prototype._rand=function(n){var r=new Uint8Array(n);return window.msCrypto.getRandomValues(r),r}:Rand.prototype._rand=function(){throw new Error("Not implemented yet")};else try{var crypto=_dereq_("crypto");Rand.prototype._rand=function(n){return crypto.randomBytes(n)}}catch(n){Rand.prototype._rand=function(n){for(var r=new Uint8Array(n),t=0;t<r.length;t++)r[t]=this.rand.getByte();return r}}
},{"crypto":139}],196:[function(_dereq_,module,exports){
var hash=exports;hash.utils=_dereq_("./hash/utils"),hash.common=_dereq_("./hash/common"),hash.sha=_dereq_("./hash/sha"),hash.ripemd=_dereq_("./hash/ripemd"),hash.hmac=_dereq_("./hash/hmac"),hash.sha1=hash.sha.sha1,hash.sha256=hash.sha.sha256,hash.sha224=hash.sha.sha224,hash.sha384=hash.sha.sha384,hash.sha512=hash.sha.sha512,hash.ripemd160=hash.ripemd.ripemd160;
},{"./hash/common":197,"./hash/hmac":198,"./hash/ripemd":199,"./hash/sha":200,"./hash/utils":201}],197:[function(_dereq_,module,exports){
function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var hash=_dereq_("../hash"),utils=hash.utils,assert=utils.assert;exports.BlockHash=BlockHash,BlockHash.prototype.update=function(t,i){if(t=utils.toArray(t,i),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var h=t.length%this._delta8;this.pending=t.slice(t.length-h,t.length),0===this.pending.length&&(this.pending=null),t=utils.join32(t,0,t.length-h,this.endian);for(var s=0;s<t.length;s+=this._delta32)this._update(t,s,s+this._delta32)}return this},BlockHash.prototype.digest=function(t){return this.update(this._pad()),assert(null===this.pending),this._digest(t)},BlockHash.prototype._pad=function(){var t=this.pendingTotal,i=this._delta8,h=i-(t+this.padLength)%i,s=new Array(h+this.padLength);s[0]=128;for(var n=1;n<h;n++)s[n]=0;if(t<<=3,"big"===this.endian){for(var e=8;e<this.padLength;e++)s[n++]=0;s[n++]=0,s[n++]=0,s[n++]=0,s[n++]=0,s[n++]=t>>>24&255,s[n++]=t>>>16&255,s[n++]=t>>>8&255,s[n++]=255&t}else{s[n++]=255&t,s[n++]=t>>>8&255,s[n++]=t>>>16&255,s[n++]=t>>>24&255,s[n++]=0,s[n++]=0,s[n++]=0,s[n++]=0;for(var e=8;e<this.padLength;e++)s[n++]=0}return s};
},{"../hash":196}],198:[function(_dereq_,module,exports){
function Hmac(t,i,e){return this instanceof Hmac?(this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,void this._init(utils.toArray(i,e))):new Hmac(t,i,e)}var hmac=exports,hash=_dereq_("../hash"),utils=hash.utils,assert=utils.assert;module.exports=Hmac,Hmac.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),assert(t.length<=this.blockSize);for(var i=t.length;i<this.blockSize;i++)t.push(0);for(var i=0;i<t.length;i++)t[i]^=54;this.inner=(new this.Hash).update(t);for(var i=0;i<t.length;i++)t[i]^=106;this.outer=(new this.Hash).update(t)},Hmac.prototype.update=function(t,i){return this.inner.update(t,i),this},Hmac.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};
},{"../hash":196}],199:[function(_dereq_,module,exports){
function RIPEMD160(){return this instanceof RIPEMD160?(BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new RIPEMD160}function f(t,h,s,i){return t<=15?h^s^i:t<=31?h&s|~h&i:t<=47?(h|~s)^i:t<=63?h&i|s&~i:h^(s|~i)}function K(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Kh(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var hash=_dereq_("../hash"),utils=hash.utils,rotl32=utils.rotl32,sum32=utils.sum32,sum32_3=utils.sum32_3,sum32_4=utils.sum32_4,BlockHash=hash.common.BlockHash;utils.inherits(RIPEMD160,BlockHash),exports.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(t,h){for(var i=this.h[0],u=this.h[1],l=this.h[2],o=this.h[3],e=this.h[4],n=i,m=u,a=l,c=o,_=e,D=0;D<80;D++){var E=sum32(rotl32(sum32_4(i,f(D,u,l,o),t[r[D]+h],K(D)),s[D]),e);i=e,e=o,o=rotl32(l,10),l=u,u=E,E=sum32(rotl32(sum32_4(n,f(79-D,m,a,c),t[rh[D]+h],Kh(D)),sh[D]),_),n=_,_=c,c=rotl32(a,10),a=m,m=E}E=sum32_3(this.h[1],l,c),this.h[1]=sum32_3(this.h[2],o,_),this.h[2]=sum32_3(this.h[3],e,n),this.h[3]=sum32_3(this.h[4],i,m),this.h[4]=sum32_3(this.h[0],u,a),this.h[0]=E},RIPEMD160.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h,"little"):utils.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];
},{"../hash":196}],200:[function(_dereq_,module,exports){
function SHA256(){return this instanceof SHA256?(BlockHash.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,void(this.W=new Array(64))):new SHA256}function SHA224(){return this instanceof SHA224?(SHA256.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new SHA224}function SHA512(){return this instanceof SHA512?(BlockHash.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,void(this.W=new Array(160))):new SHA512}function SHA384(){return this instanceof SHA384?(SHA512.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new SHA384}function SHA1(){return this instanceof SHA1?(BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=new Array(80))):new SHA1}function ch32(t,h,s){return t&h^~t&s}function maj32(t,h,s){return t&h^t&s^h&s}function p32(t,h,s){return t^h^s}function s0_256(t){return rotr32(t,2)^rotr32(t,13)^rotr32(t,22)}function s1_256(t){return rotr32(t,6)^rotr32(t,11)^rotr32(t,25)}function g0_256(t){return rotr32(t,7)^rotr32(t,18)^t>>>3}function g1_256(t){return rotr32(t,17)^rotr32(t,19)^t>>>10}function ft_1(t,h,s,i){return 0===t?ch32(h,s,i):1===t||3===t?p32(h,s,i):2===t?maj32(h,s,i):void 0}function ch64_hi(t,h,s,i,r,o){var u=t&s^~t&r;return u<0&&(u+=4294967296),u}function ch64_lo(t,h,s,i,r,o){var u=h&i^~h&o;return u<0&&(u+=4294967296),u}function maj64_hi(t,h,s,i,r,o){var u=t&s^t&r^s&r;return u<0&&(u+=4294967296),u}function maj64_lo(t,h,s,i,r,o){var u=h&i^h&o^i&o;return u<0&&(u+=4294967296),u}function s0_512_hi(t,h){var s=rotr64_hi(t,h,28),i=rotr64_hi(h,t,2),r=rotr64_hi(h,t,7),o=s^i^r;return o<0&&(o+=4294967296),o}function s0_512_lo(t,h){var s=rotr64_lo(t,h,28),i=rotr64_lo(h,t,2),r=rotr64_lo(h,t,7),o=s^i^r;return o<0&&(o+=4294967296),o}function s1_512_hi(t,h){var s=rotr64_hi(t,h,14),i=rotr64_hi(t,h,18),r=rotr64_hi(h,t,9),o=s^i^r;return o<0&&(o+=4294967296),o}function s1_512_lo(t,h){var s=rotr64_lo(t,h,14),i=rotr64_lo(t,h,18),r=rotr64_lo(h,t,9),o=s^i^r;return o<0&&(o+=4294967296),o}function g0_512_hi(t,h){var s=rotr64_hi(t,h,1),i=rotr64_hi(t,h,8),r=shr64_hi(t,h,7),o=s^i^r;return o<0&&(o+=4294967296),o}function g0_512_lo(t,h){var s=rotr64_lo(t,h,1),i=rotr64_lo(t,h,8),r=shr64_lo(t,h,7),o=s^i^r;return o<0&&(o+=4294967296),o}function g1_512_hi(t,h){var s=rotr64_hi(t,h,19),i=rotr64_hi(h,t,29),r=shr64_hi(t,h,6),o=s^i^r;return o<0&&(o+=4294967296),o}function g1_512_lo(t,h){var s=rotr64_lo(t,h,19),i=rotr64_lo(h,t,29),r=shr64_lo(t,h,6),o=s^i^r;return o<0&&(o+=4294967296),o}var hash=_dereq_("../hash"),utils=hash.utils,assert=utils.assert,rotr32=utils.rotr32,rotl32=utils.rotl32,sum32=utils.sum32,sum32_4=utils.sum32_4,sum32_5=utils.sum32_5,rotr64_hi=utils.rotr64_hi,rotr64_lo=utils.rotr64_lo,shr64_hi=utils.shr64_hi,shr64_lo=utils.shr64_lo,sum64=utils.sum64,sum64_hi=utils.sum64_hi,sum64_lo=utils.sum64_lo,sum64_4_hi=utils.sum64_4_hi,sum64_4_lo=utils.sum64_4_lo,sum64_5_hi=utils.sum64_5_hi,sum64_5_lo=utils.sum64_5_lo,BlockHash=hash.common.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],sha1_K=[1518500249,1859775393,2400959708,3395469782];utils.inherits(SHA256,BlockHash),exports.sha256=SHA256,SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function(t,h){for(var s=this.W,i=0;i<16;i++)s[i]=t[h+i];for(;i<s.length;i++)s[i]=sum32_4(g1_256(s[i-2]),s[i-7],g0_256(s[i-15]),s[i-16]);var r=this.h[0],o=this.h[1],u=this.h[2],n=this.h[3],_=this.h[4],e=this.h[5],l=this.h[6],a=this.h[7];assert(this.k.length===s.length);for(var i=0;i<s.length;i++){var c=sum32_5(a,s1_256(_),ch32(_,e,l),this.k[i],s[i]),S=sum32(s0_256(r),maj32(r,o,u));a=l,l=e,e=_,_=sum32(n,c),n=u,u=o,o=r,r=sum32(c,S)}this.h[0]=sum32(this.h[0],r),this.h[1]=sum32(this.h[1],o),this.h[2]=sum32(this.h[2],u),this.h[3]=sum32(this.h[3],n),this.h[4]=sum32(this.h[4],_),this.h[5]=sum32(this.h[5],e),this.h[6]=sum32(this.h[6],l),this.h[7]=sum32(this.h[7],a)},SHA256.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")},utils.inherits(SHA224,SHA256),exports.sha224=SHA224,SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h.slice(0,7),"big"):utils.split32(this.h.slice(0,7),"big")},utils.inherits(SHA512,BlockHash),exports.sha512=SHA512,SHA512.blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function(t,h){for(var s=this.W,i=0;i<32;i++)s[i]=t[h+i];for(;i<s.length;i+=2){var r=g1_512_hi(s[i-4],s[i-3]),o=g1_512_lo(s[i-4],s[i-3]),u=s[i-14],n=s[i-13],_=g0_512_hi(s[i-30],s[i-29]),e=g0_512_lo(s[i-30],s[i-29]),l=s[i-32],a=s[i-31];s[i]=sum64_4_hi(r,o,u,n,_,e,l,a),s[i+1]=sum64_4_lo(r,o,u,n,_,e,l,a)}},SHA512.prototype._update=function(t,h){this._prepareBlock(t,h);var s=this.W,i=this.h[0],r=this.h[1],o=this.h[2],u=this.h[3],n=this.h[4],_=this.h[5],e=this.h[6],l=this.h[7],a=this.h[8],c=this.h[9],S=this.h[10],m=this.h[11],H=this.h[12],A=this.h[13],f=this.h[14],g=this.h[15];assert(this.k.length===s.length);for(var p=0;p<s.length;p+=2){var v=f,k=g,d=s1_512_hi(a,c),b=s1_512_lo(a,c),x=ch64_hi(a,c,S,m,H,A),y=ch64_lo(a,c,S,m,H,A),z=this.k[p],B=this.k[p+1],w=s[p],j=s[p+1],W=sum64_5_hi(v,k,d,b,x,y,z,B,w,j),K=sum64_5_lo(v,k,d,b,x,y,z,B,w,j),v=s0_512_hi(i,r),k=s0_512_lo(i,r),d=maj64_hi(i,r,o,u,n,_),b=maj64_lo(i,r,o,u,n,_),L=sum64_hi(v,k,d,b),q=sum64_lo(v,k,d,b);f=H,g=A,H=S,A=m,S=a,m=c,a=sum64_hi(e,l,W,K),c=sum64_lo(l,l,W,K),e=n,l=_,n=o,_=u,o=i,u=r,i=sum64_hi(W,K,L,q),r=sum64_lo(W,K,L,q)}sum64(this.h,0,i,r),sum64(this.h,2,o,u),sum64(this.h,4,n,_),sum64(this.h,6,e,l),sum64(this.h,8,a,c),sum64(this.h,10,S,m),sum64(this.h,12,H,A),sum64(this.h,14,f,g)},SHA512.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")},utils.inherits(SHA384,SHA512),exports.sha384=SHA384,SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h.slice(0,12),"big"):utils.split32(this.h.slice(0,12),"big")},utils.inherits(SHA1,BlockHash),exports.sha1=SHA1,SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(t,h){for(var s=this.W,i=0;i<16;i++)s[i]=t[h+i];for(;i<s.length;i++)s[i]=rotl32(s[i-3]^s[i-8]^s[i-14]^s[i-16],1);for(var r=this.h[0],o=this.h[1],u=this.h[2],n=this.h[3],_=this.h[4],i=0;i<s.length;i++){var e=~~(i/20),l=sum32_5(rotl32(r,5),ft_1(e,o,u,n),_,s[i],sha1_K[e]);_=n,n=u,u=rotl32(o,30),o=r,r=l}this.h[0]=sum32(this.h[0],r),this.h[1]=sum32(this.h[1],o),this.h[2]=sum32(this.h[2],u),this.h[3]=sum32(this.h[3],n),this.h[4]=sum32(this.h[4],_)},SHA1.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")};
},{"../hash":196}],201:[function(_dereq_,module,exports){
function toArray(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var n=[];if("string"==typeof r)if(t){if("hex"===t){r=r.replace(/[^a-z0-9]+/gi,""),r.length%2!==0&&(r="0"+r);for(var u=0;u<r.length;u+=2)n.push(parseInt(r[u]+r[u+1],16))}}else for(var u=0;u<r.length;u++){var o=r.charCodeAt(u),e=o>>8,s=255&o;e?n.push(e,s):n.push(s)}else for(var u=0;u<r.length;u++)n[u]=0|r[u];return n}function toHex(r){for(var t="",n=0;n<r.length;n++)t+=zero2(r[n].toString(16));return t}function htonl(r){var t=r>>>24|r>>>8&65280|r<<8&16711680|(255&r)<<24;return t>>>0}function toHex32(r,t){for(var n="",u=0;u<r.length;u++){var o=r[u];"little"===t&&(o=htonl(o)),n+=zero8(o.toString(16))}return n}function zero2(r){return 1===r.length?"0"+r:r}function zero8(r){return 7===r.length?"0"+r:6===r.length?"00"+r:5===r.length?"000"+r:4===r.length?"0000"+r:3===r.length?"00000"+r:2===r.length?"000000"+r:1===r.length?"0000000"+r:r}function join32(r,t,n,u){var o=n-t;assert(o%4===0);for(var e=new Array(o/4),s=0,i=t;s<e.length;s++,i+=4){var l;l="big"===u?r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]:r[i+3]<<24|r[i+2]<<16|r[i+1]<<8|r[i],e[s]=l>>>0}return e}function split32(r,t){for(var n=new Array(4*r.length),u=0,o=0;u<r.length;u++,o+=4){var e=r[u];"big"===t?(n[o]=e>>>24,n[o+1]=e>>>16&255,n[o+2]=e>>>8&255,n[o+3]=255&e):(n[o+3]=e>>>24,n[o+2]=e>>>16&255,n[o+1]=e>>>8&255,n[o]=255&e)}return n}function rotr32(r,t){return r>>>t|r<<32-t}function rotl32(r,t){return r<<t|r>>>32-t}function sum32(r,t){return r+t>>>0}function sum32_3(r,t,n){return r+t+n>>>0}function sum32_4(r,t,n,u){return r+t+n+u>>>0}function sum32_5(r,t,n,u,o){return r+t+n+u+o>>>0}function assert(r,t){if(!r)throw new Error(t||"Assertion failed")}function sum64(r,t,n,u){var o=r[t],e=r[t+1],s=u+e>>>0,i=(s<u?1:0)+n+o;r[t]=i>>>0,r[t+1]=s}function sum64_hi(r,t,n,u){var o=t+u>>>0,e=(o<t?1:0)+r+n;return e>>>0}function sum64_lo(r,t,n,u){var o=t+u;return o>>>0}function sum64_4_hi(r,t,n,u,o,e,s,i){var l=0,h=t;h=h+u>>>0,l+=h<t?1:0,h=h+e>>>0,l+=h<e?1:0,h=h+i>>>0,l+=h<i?1:0;var _=r+n+o+s+l;return _>>>0}function sum64_4_lo(r,t,n,u,o,e,s,i){var l=t+u+e+i;return l>>>0}function sum64_5_hi(r,t,n,u,o,e,s,i,l,h){var _=0,a=t;a=a+u>>>0,_+=a<t?1:0,a=a+e>>>0,_+=a<e?1:0,a=a+i>>>0,_+=a<i?1:0,a=a+h>>>0,_+=a<h?1:0;var f=r+n+o+s+l+_;return f>>>0}function sum64_5_lo(r,t,n,u,o,e,s,i,l,h){var _=t+u+e+i+h;return _>>>0}function rotr64_hi(r,t,n){var u=t<<32-n|r>>>n;return u>>>0}function rotr64_lo(r,t,n){var u=r<<32-n|t>>>n;return u>>>0}function shr64_hi(r,t,n){return r>>>n}function shr64_lo(r,t,n){var u=r<<32-n|t>>>n;return u>>>0}var utils=exports,inherits=_dereq_("inherits");utils.toArray=toArray,utils.toHex=toHex,utils.htonl=htonl,utils.toHex32=toHex32,utils.zero2=zero2,utils.zero8=zero8,utils.join32=join32,utils.split32=split32,utils.rotr32=rotr32,utils.rotl32=rotl32,utils.sum32=sum32,utils.sum32_3=sum32_3,utils.sum32_4=sum32_4,utils.sum32_5=sum32_5,utils.assert=assert,utils.inherits=inherits,exports.sum64=sum64,exports.sum64_hi=sum64_hi,exports.sum64_lo=sum64_lo,exports.sum64_4_hi=sum64_4_hi,exports.sum64_4_lo=sum64_4_lo,exports.sum64_5_hi=sum64_5_hi,exports.sum64_5_lo=sum64_5_lo,exports.rotr64_hi=rotr64_hi,exports.rotr64_lo=rotr64_lo,exports.shr64_hi=shr64_hi,exports.shr64_lo=shr64_lo;
},{"inherits":338}],202:[function(_dereq_,module,exports){
module.exports={"name":"elliptic","version":"6.3.2","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git+ssh://git@github.com/indutny/elliptic.git"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":{"name":"Fedor Indutny","email":"fedor@indutny.com"},"license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^1.4.3","coveralls":"^2.11.3","grunt":"^0.4.5","grunt-browserify":"^5.0.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2","istanbul":"^0.4.2","jscs":"^2.9.0","jshint":"^2.6.0","mocha":"^2.1.0"},"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","inherits":"^2.0.1"},"gitHead":"cbace4683a4a548dc0306ef36756151a20299cd5","_id":"elliptic@6.3.2","_shasum":"e4c81e0829cf0a65ab70e998b8232723b5c1bc48","_from":"elliptic@>=6.0.0 <7.0.0","_npmVersion":"3.10.3","_nodeVersion":"6.3.0","_npmUser":{"name":"indutny","email":"fedor@indutny.com"},"dist":{"shasum":"e4c81e0829cf0a65ab70e998b8232723b5c1bc48","tarball":"https://registry.npmjs.org/elliptic/-/elliptic-6.3.2.tgz"},"maintainers":[{"name":"indutny","email":"fedor@indutny.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/elliptic-6.3.2.tgz_1473938837205_0.3108903462998569"},"directories":{},"_resolved":"https://registry.npmjs.org/elliptic/-/elliptic-6.3.2.tgz","readme":"ERROR: No README data found!"}
},{}],203:[function(_dereq_,module,exports){
module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}
},{}],204:[function(_dereq_,module,exports){
var asn1=_dereq_("asn1.js"),RSAPrivateKey=asn1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});exports.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});exports.RSAPublicKey=RSAPublicKey;var PublicKey=asn1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});exports.PublicKey=PublicKey;var AlgorithmIdentifier=asn1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),PrivateKeyInfo=asn1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});exports.DSAPrivateKey=DSAPrivateKey,exports.DSAparam=asn1.define("DSAparam",function(){this.int()});var ECPrivateKey=asn1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=ECPrivateKey;var ECParameters=asn1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=asn1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});
},{"asn1.js":207}],205:[function(_dereq_,module,exports){
(function (Buffer){
var findProc=/Proc-Type: 4,ENCRYPTED\r?\nDEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\r?\n\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n/m,startRegex=/^-----BEGIN (.*) KEY-----\r?\n/m,fullRegex=/^-----BEGIN (.*) KEY-----\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n-----END \1 KEY-----$/m,evp=_dereq_("evp_bytestokey"),ciphers=_dereq_("browserify-aes");module.exports=function(e,r){var a,n=e.toString(),t=n.match(findProc);if(t){var f="aes"+t[1],c=new Buffer(t[2],"hex"),s=new Buffer(t[3].replace(/\r?\n/g,""),"base64"),i=evp(r,c.slice(0,8),parseInt(t[1],10)).key,p=[],u=ciphers.createDecipheriv(f,i,c);p.push(u.update(s)),p.push(u.final()),a=Buffer.concat(p)}else{var o=n.match(fullRegex);a=new Buffer(o[2].replace(/\r?\n/g,""),"base64")}var E=n.match(startRegex)[1]+" KEY";return{tag:E,data:a}};
}).call(this,_dereq_("buffer").Buffer)

},{"browserify-aes":224,"buffer":140,"evp_bytestokey":239}],206:[function(_dereq_,module,exports){
(function (Buffer){
function parseKeys(e){var r;"object"!=typeof e||Buffer.isBuffer(e)||(r=e.passphrase,e=e.key),"string"==typeof e&&(e=new Buffer(e));var a,t,s=fixProc(e,r),i=s.tag,c=s.data;switch(i){case"PUBLIC KEY":switch(t=asn1.PublicKey.decode(c,"der"),a=t.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(t.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return t.subjectPrivateKey=t.subjectPublicKey,{type:"ec",data:t};case"1.2.840.10040.4.1":return t.algorithm.params.pub_key=asn1.DSAparam.decode(t.subjectPublicKey.data,"der"),{type:"dsa",data:t.algorithm.params};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+i);case"ENCRYPTED PRIVATE KEY":c=asn1.EncryptedPrivateKey.decode(c,"der"),c=decrypt(c,r);case"PRIVATE KEY":switch(t=asn1.PrivateKey.decode(c,"der"),a=t.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(t.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:t.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(t.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return t.algorithm.params.priv_key=asn1.DSAparam.decode(t.subjectPrivateKey,"der"),{type:"dsa",params:t.algorithm.params};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+i);case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return c=asn1.ECPrivateKey.decode(c,"der"),{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+i)}}function decrypt(e,r){var a=e.algorithm.decrypt.kde.kdeparams.salt,t=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=aesid[e.algorithm.decrypt.cipher.algo.join(".")],i=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,d=parseInt(s.split("-")[1],10)/8,n=compat.pbkdf2Sync(r,a,t,d),o=ciphers.createDecipheriv(s,n,i),u=[];return u.push(o.update(c)),u.push(o.final()),Buffer.concat(u)}var asn1=_dereq_("./asn1"),aesid=_dereq_("./aesid.json"),fixProc=_dereq_("./fixProc"),ciphers=_dereq_("browserify-aes"),compat=_dereq_("pbkdf2");module.exports=parseKeys,parseKeys.signature=asn1.signature;
}).call(this,_dereq_("buffer").Buffer)

},{"./aesid.json":203,"./asn1":204,"./fixProc":205,"browserify-aes":224,"buffer":140,"pbkdf2":289}],207:[function(_dereq_,module,exports){
var asn1=exports;asn1.bignum=_dereq_("bn.js"),asn1.define=_dereq_("./asn1/api").define,asn1.base=_dereq_("./asn1/base"),asn1.constants=_dereq_("./asn1/constants"),asn1.decoders=_dereq_("./asn1/decoders"),asn1.encoders=_dereq_("./asn1/encoders");
},{"./asn1/api":208,"./asn1/base":210,"./asn1/constants":214,"./asn1/decoders":216,"./asn1/encoders":219,"bn.js":177}],208:[function(_dereq_,module,exports){
function Entity(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}var asn1=_dereq_("../asn1"),inherits=_dereq_("inherits"),api=exports;api.define=function(e,t){return new Entity(e,t)},Entity.prototype._createNamed=function(e){var t;try{t=_dereq_("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return inherits(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},Entity.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(asn1.decoders[e])),this.decoders[e]},Entity.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},Entity.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(asn1.encoders[e])),this.encoders[e]},Entity.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)};
},{"../asn1":207,"inherits":338,"vm":359}],209:[function(_dereq_,module,exports){
function DecoderBuffer(e,t){return Reporter.call(this,t),Buffer.isBuffer(e)?(this.base=e,this.offset=0,void(this.length=e.length)):void this.error("Input not Buffer")}function EncoderBuffer(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof EncoderBuffer||(e=new EncoderBuffer(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=Buffer.byteLength(e);else{if(!Buffer.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}var inherits=_dereq_("inherits"),Reporter=_dereq_("../base").Reporter,Buffer=_dereq_("buffer").Buffer;inherits(DecoderBuffer,Reporter),exports.DecoderBuffer=DecoderBuffer,DecoderBuffer.prototype.save=function(){return{offset:this.offset,reporter:Reporter.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function(e){var t=new DecoderBuffer(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,Reporter.prototype.restore.call(this,e.reporter),t},DecoderBuffer.prototype.isEmpty=function(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new DecoderBuffer(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},DecoderBuffer.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},exports.EncoderBuffer=EncoderBuffer,EncoderBuffer.prototype.join=function(e,t){return e||(e=new Buffer(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(e,t),t+=r.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):Buffer.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)};
},{"../base":210,"buffer":140,"inherits":338}],210:[function(_dereq_,module,exports){
var base=exports;base.Reporter=_dereq_("./reporter").Reporter,base.DecoderBuffer=_dereq_("./buffer").DecoderBuffer,base.EncoderBuffer=_dereq_("./buffer").EncoderBuffer,base.Node=_dereq_("./node");
},{"./buffer":209,"./node":211,"./reporter":212}],211:[function(_dereq_,module,exports){
function Node(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}var Reporter=_dereq_("../base").Reporter,EncoderBuffer=_dereq_("../base").EncoderBuffer,DecoderBuffer=_dereq_("../base").DecoderBuffer,assert=_dereq_("minimalistic-assert"),tags=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],methods=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(tags),overrided=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];module.exports=Node;var stateProps=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function(){var e=this._baseState,t={};stateProps.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);return r._baseState=t,r},Node.prototype._wrap=function(){var e=this._baseState;methods.forEach(function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}},this)},Node.prototype._init=function(e){var t=this._baseState;assert(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),assert.equal(t.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(assert(null===t.children),t.children=r,r.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(assert(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(r){r==(0|r)&&(r|=0);var i=e[r];t[i]=r}),t}))},overrided.forEach(function(e){Node.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),tags.forEach(function(e){Node.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return assert(null===t.tag),t.tag=e,this._useArgs(r),this}}),Node.prototype.use=function(e){assert(e);var t=this._baseState;return assert(null===t.use),t.use=e,this},Node.prototype.optional=function(){var e=this._baseState;return e.optional=!0,this},Node.prototype.def=function(e){var t=this._baseState;return assert(null===t.default),t.default=e,t.optional=!0,this},Node.prototype.explicit=function(e){var t=this._baseState;return assert(null===t.explicit&&null===t.implicit),t.explicit=e,this},Node.prototype.implicit=function(e){var t=this._baseState;return assert(null===t.explicit&&null===t.implicit),t.implicit=e,this},Node.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},Node.prototype.key=function(e){var t=this._baseState;return assert(null===t.key),t.key=e,this},Node.prototype.any=function(){var e=this._baseState;return e.any=!0,this},Node.prototype.choice=function(e){var t=this._baseState;return assert(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},Node.prototype.contains=function(e){var t=this._baseState;return assert(null===t.use),t.contains=e,this},Node.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var i=r.default,n=!0,o=null;if(null!==r.key&&(o=e.enterKey(r.key)),r.optional){var s=null;if(null!==r.explicit?s=r.explicit:null!==r.implicit?s=r.implicit:null!==r.tag&&(s=r.tag),null!==s||r.any){if(n=this._peekTag(e,s,r.any),e.isError(n))return n}else{var a=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),n=!0}catch(e){n=!1}e.restore(a)}}var c;if(r.obj&&n&&(c=e.enterObject()),n){if(null!==r.explicit){var l=this._decodeTag(e,r.explicit);if(e.isError(l))return l;e=l}var u=e.offset;if(null===r.use&&null===r.choice){if(r.any)var a=e.save();var d=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(d))return d;r.any?i=e.raw(a):e=d}if(t&&t.track&&null!==r.tag&&t.track(e.path(),u,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),i=r.any?i:null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(e,t)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var h=new DecoderBuffer(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(h,t)}}return r.obj&&n&&(i=e.leaveObject(c)),null===r.key||null===i&&n!==!0?null!==o&&e.exitKey(o):e.leaveKey(o,r.key,i),i},Node.prototype._decodeGeneric=function(e,t,r){var i=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,i.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&i.args?this._decodeObjid(t,i.args[0],i.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,i.args&&i.args[0],r):null!==i.use?this._getUse(i.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},Node.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),assert(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},Node.prototype._decodeChoice=function(e,t){var r=this._baseState,i=null,n=!1;return Object.keys(r.choice).some(function(o){var s=e.save(),a=r.choice[o];try{var c=a._decode(e,t);if(e.isError(c))return!1;i={type:o,value:c},n=!0}catch(t){return e.restore(s),!1}return!0},this),n?i:e.error("Choice not matched")},Node.prototype._createEncoderBuffer=function(e){return new EncoderBuffer(e,this.reporter)},Node.prototype._encode=function(e,t,r){var i=this._baseState;if(null===i.default||i.default!==e){var n=this._encodeValue(e,t,r);if(void 0!==n&&!this._skipDefault(n,t,r))return n}},Node.prototype._encodeValue=function(e,t,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new Reporter);var n=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var o=null,s=!1;if(i.any)n=this._createEncoderBuffer(e);else if(i.choice)n=this._encodeChoice(e,t);else if(i.contains)o=this._getUse(i.contains,r)._encode(e,t),s=!0;else if(i.children)o=i.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var i=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var n=r._encode(e[r._baseState.key],t,e);return t.leaveKey(i),n},this).filter(function(e){return e}),o=this._createEncoderBuffer(o);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var a=this.clone();a._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(r){var i=this._baseState;return this._getUse(i.args[0],e)._encode(r,t)},a))}else null!==i.use?n=this._getUse(i.use,r)._encode(e,t):(o=this._encodePrimitive(i.tag,e),s=!0);var n;if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===c?null===i.use&&t.error("Tag could be ommited only for .use()"):null===i.use&&(n=this._encodeComposite(c,s,l,o))}return null!==i.explicit&&(n=this._encodeComposite(i.explicit,!1,"context",n)),n},Node.prototype._encodeChoice=function(e,t){var r=this._baseState,i=r.choice[e.type];return i||assert(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),i._encode(e.value,t)},Node.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},Node.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},Node.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)};
},{"../base":210,"minimalistic-assert":221}],212:[function(_dereq_,module,exports){
function Reporter(r){this._reporterState={obj:null,path:[],options:r||{},errors:[]}}function ReporterError(r,t){this.path=r,this.rethrow(t)}var inherits=_dereq_("inherits");exports.Reporter=Reporter,Reporter.prototype.isError=function(r){return r instanceof ReporterError},Reporter.prototype.save=function(){var r=this._reporterState;return{obj:r.obj,pathLen:r.path.length}},Reporter.prototype.restore=function(r){var t=this._reporterState;t.obj=r.obj,t.path=t.path.slice(0,r.pathLen)},Reporter.prototype.enterKey=function(r){return this._reporterState.path.push(r)},Reporter.prototype.exitKey=function(r){var t=this._reporterState;t.path=t.path.slice(0,r-1)},Reporter.prototype.leaveKey=function(r,t,e){var o=this._reporterState;this.exitKey(r),null!==o.obj&&(o.obj[t]=e)},Reporter.prototype.path=function(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function(){var r=this._reporterState,t=r.obj;return r.obj={},t},Reporter.prototype.leaveObject=function(r){var t=this._reporterState,e=t.obj;return t.obj=r,e},Reporter.prototype.error=function(r){var t,e=this._reporterState,o=r instanceof ReporterError;if(t=o?r:new ReporterError(e.path.map(function(r){return"["+JSON.stringify(r)+"]"}).join(""),r.message||r,r.stack),!e.options.partial)throw t;return o||e.errors.push(t),t},Reporter.prototype.wrapResult=function(r){var t=this._reporterState;return t.options.partial?{result:this.isError(r)?null:r,errors:t.errors}:r},inherits(ReporterError,Error),ReporterError.prototype.rethrow=function(r){if(this.message=r+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this};
},{"inherits":338}],213:[function(_dereq_,module,exports){
var constants=_dereq_("../constants");exports.tagClass={0:"universal",1:"application",2:"context",3:"private"},exports.tagClassByName=constants._reverse(exports.tagClass),exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},exports.tagByName=constants._reverse(exports.tag);
},{"../constants":214}],214:[function(_dereq_,module,exports){
var constants=exports;constants._reverse=function(r){var e={};return Object.keys(r).forEach(function(n){(0|n)==n&&(n|=0);var t=r[n];e[t]=n}),e},constants.der=_dereq_("./der");
},{"./der":213}],215:[function(_dereq_,module,exports){
function DERDecoder(r){this.enc="der",this.name=r.name,this.entity=r,this.tree=new DERNode,this.tree._init(r.body)}function DERNode(r){base.Node.call(this,"der",r)}function derDecodeTag(r,e){var t=r.readUInt8(e);if(r.isError(t))return t;var i=der.tagClass[t>>6],o=0===(32&t);if(31===(31&t)){var n=t;for(t=0;128===(128&n);){if(n=r.readUInt8(e),r.isError(n))return n;t<<=7,t|=127&n}}else t&=31;var s=der.tag[t];return{cls:i,primitive:o,tag:t,tagStr:s}}function derDecodeLen(r,e,t){var i=r.readUInt8(t);if(r.isError(i))return i;if(!e&&128===i)return null;if(0===(128&i))return i;var o=127&i;if(o>4)return r.error("length octect is too long");i=0;for(var n=0;n<o;n++){i<<=8;var s=r.readUInt8(t);if(r.isError(s))return s;i|=s}return i}var inherits=_dereq_("inherits"),asn1=_dereq_("../../asn1"),base=asn1.base,bignum=asn1.bignum,der=asn1.constants.der;module.exports=DERDecoder,DERDecoder.prototype.decode=function(r,e){return r instanceof base.DecoderBuffer||(r=new base.DecoderBuffer(r,e)),this.tree._decode(r,e)},inherits(DERNode,base.Node),DERNode.prototype._peekTag=function(r,e,t){if(r.isEmpty())return!1;var i=r.save(),o=derDecodeTag(r,'Failed to peek tag: "'+e+'"');return r.isError(o)?o:(r.restore(i),o.tag===e||o.tagStr===e||o.tagStr+"of"===e||t)},DERNode.prototype._decodeTag=function(r,e,t){var i=derDecodeTag(r,'Failed to decode tag of "'+e+'"');if(r.isError(i))return i;var o=derDecodeLen(r,i.primitive,'Failed to get length of "'+e+'"');if(r.isError(o))return o;if(!t&&i.tag!==e&&i.tagStr!==e&&i.tagStr+"of"!==e)return r.error('Failed to match tag: "'+e+'"');if(i.primitive||null!==o)return r.skip(o,'Failed to match body of: "'+e+'"');var n=r.save(),s=this._skipUntilEnd(r,'Failed to skip indefinite length body: "'+this.tag+'"');return r.isError(s)?s:(o=r.offset-n.offset,r.restore(n),r.skip(o,'Failed to match body of: "'+e+'"'))},DERNode.prototype._skipUntilEnd=function(r,e){for(;;){var t=derDecodeTag(r,e);if(r.isError(t))return t;var i=derDecodeLen(r,t.primitive,e);if(r.isError(i))return i;var o;if(o=t.primitive||null!==i?r.skip(i):this._skipUntilEnd(r,e),r.isError(o))return o;if("end"===t.tagStr)break}},DERNode.prototype._decodeList=function(r,e,t,i){for(var o=[];!r.isEmpty();){var n=this._peekTag(r,"end");if(r.isError(n))return n;var s=t.decode(r,"der",i);if(r.isError(s)&&n)break;o.push(s)}return o},DERNode.prototype._decodeStr=function(r,e){if("bitstr"===e){var t=r.readUInt8();return r.isError(t)?t:{unused:t,data:r.raw()}}if("bmpstr"===e){var i=r.raw();if(i.length%2===1)return r.error("Decoding of string type: bmpstr length mismatch");for(var o="",n=0;n<i.length/2;n++)o+=String.fromCharCode(i.readUInt16BE(2*n));return o}if("numstr"===e){var s=r.raw().toString("ascii");return this._isNumstr(s)?s:r.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return r.raw();if("objDesc"===e)return r.raw();if("printstr"===e){var a=r.raw().toString("ascii");return this._isPrintstr(a)?a:r.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?r.raw().toString():r.error("Decoding of string type: "+e+" unsupported")},DERNode.prototype._decodeObjid=function(r,e,t){for(var i,o=[],n=0;!r.isEmpty();){var s=r.readUInt8();n<<=7,n|=127&s,0===(128&s)&&(o.push(n),n=0)}128&s&&o.push(n);var a=o[0]/40|0,d=o[0]%40;if(i=t?o:[a,d].concat(o.slice(1)),e){var u=e[i.join(" ")];void 0===u&&(u=e[i.join(".")]),void 0!==u&&(i=u)}return i},DERNode.prototype._decodeTime=function(r,e){var t=r.raw().toString();if("gentime"===e)var i=0|t.slice(0,4),o=0|t.slice(4,6),n=0|t.slice(6,8),s=0|t.slice(8,10),a=0|t.slice(10,12),d=0|t.slice(12,14);else{if("utctime"!==e)return r.error("Decoding "+e+" time is not supported yet");var i=0|t.slice(0,2),o=0|t.slice(2,4),n=0|t.slice(4,6),s=0|t.slice(6,8),a=0|t.slice(8,10),d=0|t.slice(10,12);i=i<70?2e3+i:1900+i}return Date.UTC(i,o-1,n,s,a,d,0)},DERNode.prototype._decodeNull=function(r){return null},DERNode.prototype._decodeBool=function(r){var e=r.readUInt8();return r.isError(e)?e:0!==e},DERNode.prototype._decodeInt=function(r,e){var t=r.raw(),i=new bignum(t);return e&&(i=e[i.toString(10)]||i),i},DERNode.prototype._use=function(r,e){return"function"==typeof r&&(r=r(e)),r._getDecoder("der").tree};
},{"../../asn1":207,"inherits":338}],216:[function(_dereq_,module,exports){
var decoders=exports;decoders.der=_dereq_("./der"),decoders.pem=_dereq_("./pem");
},{"./der":215,"./pem":217}],217:[function(_dereq_,module,exports){
function PEMDecoder(e){DERDecoder.call(this,e),this.enc="pem"}var inherits=_dereq_("inherits"),Buffer=_dereq_("buffer").Buffer,DERDecoder=_dereq_("./der");inherits(PEMDecoder,DERDecoder),module.exports=PEMDecoder,PEMDecoder.prototype.decode=function(e,r){for(var o=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),t=/^-----(BEGIN|END) ([^-]+)-----$/,c=-1,n=-1,f=0;f<o.length;f++){var a=o[f].match(t);if(null!==a&&a[2]===i){if(c!==-1){if("END"!==a[1])break;n=f;break}if("BEGIN"!==a[1])break;c=f}}if(c===-1||n===-1)throw new Error("PEM section not found for: "+i);var d=o.slice(c+1,n).join("");d.replace(/[^a-z0-9\+\/=]+/gi,"");var D=new Buffer(d,"base64");return DERDecoder.prototype.decode.call(this,D,r)};
},{"./der":215,"buffer":140,"inherits":338}],218:[function(_dereq_,module,exports){
function DEREncoder(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new DERNode,this.tree._init(e.body)}function DERNode(e){base.Node.call(this,"der",e)}function two(e){return e<10?"0"+e:e}function encodeTag(e,r,t,n){var o;if("seqof"===e?e="seq":"setof"===e&&(e="set"),der.tagByName.hasOwnProperty(e))o=der.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);o=e}return o>=31?n.error("Multi-octet tag encoding unsupported"):(r||(o|=32),o|=der.tagClassByName[t||"universal"]<<6)}var inherits=_dereq_("inherits"),Buffer=_dereq_("buffer").Buffer,asn1=_dereq_("../../asn1"),base=asn1.base,der=asn1.constants.der;module.exports=DEREncoder,DEREncoder.prototype.encode=function(e,r){return this.tree._encode(e,r).join()},inherits(DERNode,base.Node),DERNode.prototype._encodeComposite=function(e,r,t,n){var o=encodeTag(e,r,t,this.reporter);if(n.length<128){var i=new Buffer(2);return i[0]=o,i[1]=n.length,this._createEncoderBuffer([i,n])}for(var f=1,s=n.length;s>=256;s>>=8)f++;var i=new Buffer(2+f);i[0]=o,i[1]=128|f;for(var s=1+f,u=n.length;u>0;s--,u>>=8)i[s]=255&u;return this._createEncoderBuffer([i,n])},DERNode.prototype._encodeStr=function(e,r){if("bitstr"===r)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===r){for(var t=new Buffer(2*e.length),n=0;n<e.length;n++)t.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(t)}return"numstr"===r?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===r?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):"objDesc"===r?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")},DERNode.prototype._encodeObjid=function(e,r,t){if("string"==typeof e){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(var n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!t){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var o=0,n=0;n<e.length;n++){var i=e[n];for(o++;i>=128;i>>=7)o++}for(var f=new Buffer(o),s=f.length-1,n=e.length-1;n>=0;n--){var i=e[n];for(f[s--]=127&i;(i>>=7)>0;)f[s--]=128|127&i}return this._createEncoderBuffer(f)},DERNode.prototype._encodeTime=function(e,r){var t,n=new Date(e);return"gentime"===r?t=[two(n.getFullYear()),two(n.getUTCMonth()+1),two(n.getUTCDate()),two(n.getUTCHours()),two(n.getUTCMinutes()),two(n.getUTCSeconds()),"Z"].join(""):"utctime"===r?t=[two(n.getFullYear()%100),two(n.getUTCMonth()+1),two(n.getUTCDate()),two(n.getUTCHours()),two(n.getUTCMinutes()),two(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(t,"octstr")},DERNode.prototype._encodeNull=function(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function(e,r){if("string"==typeof e){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if("number"!=typeof e&&!Buffer.isBuffer(e)){var t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=new Buffer(t)}if(Buffer.isBuffer(e)){var n=e.length;0===e.length&&n++;var o=new Buffer(n);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var n=1,i=e;i>=256;i>>=8)n++;for(var o=new Array(n),i=o.length-1;i>=0;i--)o[i]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new Buffer(o))},DERNode.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},DERNode.prototype._use=function(e,r){return"function"==typeof e&&(e=e(r)),e._getEncoder("der").tree},DERNode.prototype._skipDefault=function(e,r,t){var n,o=this._baseState;if(null===o.default)return!1;var i=e.join();if(void 0===o.defaultBuffer&&(o.defaultBuffer=this._encodeValue(o.default,r,t).join()),i.length!==o.defaultBuffer.length)return!1;for(n=0;n<i.length;n++)if(i[n]!==o.defaultBuffer[n])return!1;return!0};
},{"../../asn1":207,"buffer":140,"inherits":338}],219:[function(_dereq_,module,exports){
var encoders=exports;encoders.der=_dereq_("./der"),encoders.pem=_dereq_("./pem");
},{"./der":218,"./pem":220}],220:[function(_dereq_,module,exports){
function PEMEncoder(e){DEREncoder.call(this,e),this.enc="pem"}var inherits=_dereq_("inherits"),DEREncoder=_dereq_("./der");inherits(PEMEncoder,DEREncoder),module.exports=PEMEncoder,PEMEncoder.prototype.encode=function(e,r){for(var n=DEREncoder.prototype.encode.call(this,e),o=n.toString("base64"),E=["-----BEGIN "+r.label+"-----"],t=0;t<o.length;t+=64)E.push(o.slice(t,t+64));return E.push("-----END "+r.label+"-----"),E.join("\n")};
},{"./der":218,"inherits":338}],221:[function(_dereq_,module,exports){
arguments[4][172][0].apply(exports,arguments)
},{"dup":172}],222:[function(_dereq_,module,exports){
(function (Buffer){
function fixup_uint32(t){var e,i;return e=t>uint_max||t<0?(i=Math.abs(t)%uint_max,t<0?uint_max-i:i):t}function scrub_vec(t){for(var e=0;e<t.length;t++)t[e]=0;return!1}function Global(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=[[],[],[],[]],this.INV_SUB_MIX=[[],[],[],[]],this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function bufferToArray(t){for(var e=t.length/4,i=new Array(e),r=-1;++r<e;)i[r]=t.readUInt32BE(4*r);return i}function AES(t){this._key=bufferToArray(t),this._doReset()}var uint_max=Math.pow(2,32);Global.prototype.init=function(){var t,e,i,r,n,S,u,_,o,h;for(t=function(){var t,i;for(i=[],e=t=0;t<256;e=++t)e<128?i.push(e<<1):i.push(e<<1^283);return i}(),n=0,o=0,e=h=0;h<256;e=++h)i=o^o<<1^o<<2^o<<3^o<<4,i=i>>>8^255&i^99,this.SBOX[n]=i,this.INV_SBOX[i]=n,S=t[n],u=t[S],_=t[u],r=257*t[i]^16843008*i,this.SUB_MIX[0][n]=r<<24|r>>>8,this.SUB_MIX[1][n]=r<<16|r>>>16,this.SUB_MIX[2][n]=r<<8|r>>>24,this.SUB_MIX[3][n]=r,r=16843009*_^65537*u^257*S^16843008*n,this.INV_SUB_MIX[0][i]=r<<24|r>>>8,this.INV_SUB_MIX[1][i]=r<<16|r>>>16,this.INV_SUB_MIX[2][i]=r<<8|r>>>24,this.INV_SUB_MIX[3][i]=r,0===n?n=o=1:(n=S^t[t[t[_^S]]],o^=t[t[o]]);return!0};var G=new Global;AES.blockSize=16,AES.prototype.blockSize=AES.blockSize,AES.keySize=32,AES.prototype.keySize=AES.keySize,AES.prototype._doReset=function(){var t,e,i,r,n,S;for(i=this._key,e=i.length,this._nRounds=e+6,n=4*(this._nRounds+1),this._keySchedule=[],r=0;r<n;r++)this._keySchedule[r]=r<e?i[r]:(S=this._keySchedule[r-1],r%e===0?(S=S<<8|S>>>24,S=G.SBOX[S>>>24]<<24|G.SBOX[S>>>16&255]<<16|G.SBOX[S>>>8&255]<<8|G.SBOX[255&S],S^=G.RCON[r/e|0]<<24):e>6&&r%e===4?S=G.SBOX[S>>>24]<<24|G.SBOX[S>>>16&255]<<16|G.SBOX[S>>>8&255]<<8|G.SBOX[255&S]:void 0,this._keySchedule[r-e]^S);for(this._invKeySchedule=[],t=0;t<n;t++)r=n-t,S=this._keySchedule[r-(t%4?0:4)],this._invKeySchedule[t]=t<4||r<=4?S:G.INV_SUB_MIX[0][G.SBOX[S>>>24]]^G.INV_SUB_MIX[1][G.SBOX[S>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[S>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[255&S]];return!0},AES.prototype.encryptBlock=function(t){t=bufferToArray(new Buffer(t));var e=this._doCryptBlock(t,this._keySchedule,G.SUB_MIX,G.SBOX),i=new Buffer(16);return i.writeUInt32BE(e[0],0),i.writeUInt32BE(e[1],4),i.writeUInt32BE(e[2],8),i.writeUInt32BE(e[3],12),i},AES.prototype.decryptBlock=function(t){t=bufferToArray(new Buffer(t));var e=[t[3],t[1]];t[1]=e[0],t[3]=e[1];var i=this._doCryptBlock(t,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX),r=new Buffer(16);return r.writeUInt32BE(i[0],0),r.writeUInt32BE(i[3],4),r.writeUInt32BE(i[2],8),r.writeUInt32BE(i[1],12),r},AES.prototype.scrub=function(){scrub_vec(this._keySchedule),scrub_vec(this._invKeySchedule),scrub_vec(this._key)},AES.prototype._doCryptBlock=function(t,e,i,r){var n,S,u,_,o,h,B,s,c;S=t[0]^e[0],u=t[1]^e[1],_=t[2]^e[2],o=t[3]^e[3],n=4;for(var f=1;f<this._nRounds;f++)h=i[0][S>>>24]^i[1][u>>>16&255]^i[2][_>>>8&255]^i[3][255&o]^e[n++],B=i[0][u>>>24]^i[1][_>>>16&255]^i[2][o>>>8&255]^i[3][255&S]^e[n++],s=i[0][_>>>24]^i[1][o>>>16&255]^i[2][S>>>8&255]^i[3][255&u]^e[n++],c=i[0][o>>>24]^i[1][S>>>16&255]^i[2][u>>>8&255]^i[3][255&_]^e[n++],S=h,u=B,_=s,o=c;return h=(r[S>>>24]<<24|r[u>>>16&255]<<16|r[_>>>8&255]<<8|r[255&o])^e[n++],B=(r[u>>>24]<<24|r[_>>>16&255]<<16|r[o>>>8&255]<<8|r[255&S])^e[n++],s=(r[_>>>24]<<24|r[o>>>16&255]<<16|r[S>>>8&255]<<8|r[255&u])^e[n++],c=(r[o>>>24]<<24|r[S>>>16&255]<<16|r[u>>>8&255]<<8|r[255&_])^e[n++],[fixup_uint32(h),fixup_uint32(B),fixup_uint32(s),fixup_uint32(c)]},exports.AES=AES;
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],223:[function(_dereq_,module,exports){
(function (Buffer){
function StreamCipher(t,e,r,h){if(!(this instanceof StreamCipher))return new StreamCipher(t,e,r);Transform.call(this),this._finID=Buffer.concat([r,new Buffer([0,0,0,1])]),r=Buffer.concat([r,new Buffer([0,0,0,2])]),this._cipher=new aes.AES(e),this._prev=new Buffer(r.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=h,this._alen=0,this._len=0,r.copy(this._prev),this._mode=t;var i=new Buffer(4);i.fill(0),this._ghash=new GHASH(this._cipher.encryptBlock(i)),this._authTag=null,this._called=!1}function xorTest(t,e){var r=0;t.length!==e.length&&r++;for(var h=Math.min(t.length,e.length),i=-1;++i<h;)r+=t[i]^e[i];return r}var aes=_dereq_("./aes"),Transform=_dereq_("cipher-base"),inherits=_dereq_("inherits"),GHASH=_dereq_("./ghash"),xor=_dereq_("buffer-xor");inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=new Buffer(e),e.fill(0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=xor(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(xorTest(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=t;this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function(){if(!this._decrypt&&Buffer.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},StreamCipher.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},StreamCipher.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length};
}).call(this,_dereq_("buffer").Buffer)

},{"./aes":222,"./ghash":227,"buffer":140,"buffer-xor":236,"cipher-base":237,"inherits":338}],224:[function(_dereq_,module,exports){
arguments[4][148][0].apply(exports,arguments)
},{"./decrypter":225,"./encrypter":226,"./modes":228,"dup":148}],225:[function(_dereq_,module,exports){
(function (Buffer){
function Decipher(e,r,t){return this instanceof Decipher?(Transform.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes.AES(r),this._prev=new Buffer(t.length),t.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new Decipher(e,r,t)}function Splitter(){return this instanceof Splitter?void(this.cache=new Buffer("")):new Splitter}function unpad(e){for(var r=e[15],t=-1;++t<r;)if(e[t+(16-r)]!==r)throw new Error("unable to decrypt data");if(16!==r)return e.slice(0,16-r)}function createDecipheriv(e,r,t){var i=modes[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=new Buffer(t)),"string"==typeof r&&(r=new Buffer(r)),r.length!==i.key/8)throw new TypeError("invalid key length "+r.length);if(t.length!==i.iv)throw new TypeError("invalid iv length "+t.length);return"stream"===i.type?new StreamCipher(modelist[i.mode],r,t,!0):"auth"===i.type?new AuthCipher(modelist[i.mode],r,t,!0):new Decipher(modelist[i.mode],r,t)}function createDecipher(e,r){var t=modes[e.toLowerCase()];if(!t)throw new TypeError("invalid suite type");var i=ebtk(r,!1,t.key,t.iv);return createDecipheriv(e,i.key,i.iv)}var aes=_dereq_("./aes"),Transform=_dereq_("cipher-base"),inherits=_dereq_("inherits"),modes=_dereq_("./modes"),StreamCipher=_dereq_("./streamCipher"),AuthCipher=_dereq_("./authCipher"),ebtk=_dereq_("evp_bytestokey");inherits(Decipher,Transform),Decipher.prototype._update=function(e){this._cache.add(e);for(var r,t,i=[];r=this._cache.get(this._autopadding);)t=this._mode.decrypt(this,r),i.push(t);return Buffer.concat(i)},Decipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},Splitter.prototype.add=function(e){this.cache=Buffer.concat([this.cache,e])},Splitter.prototype.get=function(e){var r;if(e){if(this.cache.length>16)return r=this.cache.slice(0,16),this.cache=this.cache.slice(16),r}else if(this.cache.length>=16)return r=this.cache.slice(0,16),this.cache=this.cache.slice(16),r;return null},Splitter.prototype.flush=function(){if(this.cache.length)return this.cache};var modelist={ECB:_dereq_("./modes/ecb"),CBC:_dereq_("./modes/cbc"),CFB:_dereq_("./modes/cfb"),CFB8:_dereq_("./modes/cfb8"),CFB1:_dereq_("./modes/cfb1"),OFB:_dereq_("./modes/ofb"),CTR:_dereq_("./modes/ctr"),GCM:_dereq_("./modes/ctr")};exports.createDecipher=createDecipher,exports.createDecipheriv=createDecipheriv;
}).call(this,_dereq_("buffer").Buffer)

},{"./aes":222,"./authCipher":223,"./modes":228,"./modes/cbc":229,"./modes/cfb":230,"./modes/cfb1":231,"./modes/cfb8":232,"./modes/ctr":233,"./modes/ecb":234,"./modes/ofb":235,"./streamCipher":238,"buffer":140,"cipher-base":237,"evp_bytestokey":239,"inherits":338}],226:[function(_dereq_,module,exports){
(function (Buffer){
function Cipher(e,r,t){return this instanceof Cipher?(Transform.call(this),this._cache=new Splitter,this._cipher=new aes.AES(r),this._prev=new Buffer(t.length),t.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new Cipher(e,r,t)}function Splitter(){return this instanceof Splitter?void(this.cache=new Buffer("")):new Splitter}function createCipheriv(e,r,t){var i=modes[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=new Buffer(t)),"string"==typeof r&&(r=new Buffer(r)),r.length!==i.key/8)throw new TypeError("invalid key length "+r.length);if(t.length!==i.iv)throw new TypeError("invalid iv length "+t.length);return"stream"===i.type?new StreamCipher(modelist[i.mode],r,t):"auth"===i.type?new AuthCipher(modelist[i.mode],r,t):new Cipher(modelist[i.mode],r,t)}function createCipher(e,r){var t=modes[e.toLowerCase()];if(!t)throw new TypeError("invalid suite type");var i=ebtk(r,!1,t.key,t.iv);return createCipheriv(e,i.key,i.iv)}var aes=_dereq_("./aes"),Transform=_dereq_("cipher-base"),inherits=_dereq_("inherits"),modes=_dereq_("./modes"),ebtk=_dereq_("evp_bytestokey"),StreamCipher=_dereq_("./streamCipher"),AuthCipher=_dereq_("./authCipher");inherits(Cipher,Transform),Cipher.prototype._update=function(e){this._cache.add(e);for(var r,t,i=[];r=this._cache.get();)t=this._mode.encrypt(this,r),i.push(t);return Buffer.concat(i)},Cipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if("10101010101010101010101010101010"!==e.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},Splitter.prototype.add=function(e){this.cache=Buffer.concat([this.cache,e])},Splitter.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},Splitter.prototype.flush=function(){for(var e=16-this.cache.length,r=new Buffer(e),t=-1;++t<e;)r.writeUInt8(e,t);var i=Buffer.concat([this.cache,r]);return i};var modelist={ECB:_dereq_("./modes/ecb"),CBC:_dereq_("./modes/cbc"),CFB:_dereq_("./modes/cfb"),CFB8:_dereq_("./modes/cfb8"),CFB1:_dereq_("./modes/cfb1"),OFB:_dereq_("./modes/ofb"),CTR:_dereq_("./modes/ctr"),GCM:_dereq_("./modes/ctr")};exports.createCipheriv=createCipheriv,exports.createCipher=createCipher;
}).call(this,_dereq_("buffer").Buffer)

},{"./aes":222,"./authCipher":223,"./modes":228,"./modes/cbc":229,"./modes/cfb":230,"./modes/cfb1":231,"./modes/cfb8":232,"./modes/ctr":233,"./modes/ecb":234,"./modes/ofb":235,"./streamCipher":238,"buffer":140,"cipher-base":237,"evp_bytestokey":239,"inherits":338}],227:[function(_dereq_,module,exports){
(function (Buffer){
function GHASH(t){this.h=t,this.state=new Buffer(16),this.state.fill(0),this.cache=new Buffer("")}function toArray(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function fromArray(t){t=t.map(fixup_uint32);var r=new Buffer(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r}function fixup_uint32(t){var r,e;return r=t>uint_max||t<0?(e=Math.abs(t)%uint_max,t<0?uint_max-e:e):t}function xor(t,r){return[t[0]^r[0],t[1]^r[1],t[2]^r[2],t[3]^r[3]]}var zeros=new Buffer(16);zeros.fill(0),module.exports=GHASH,GHASH.prototype.ghash=function(t){for(var r=-1;++r<t.length;)this.state[r]^=t[r];this._multiply()},GHASH.prototype._multiply=function(){for(var t,r,e,i=toArray(this.h),a=[0,0,0,0],n=-1;++n<128;){for(r=0!==(this.state[~~(n/8)]&1<<7-n%8),r&&(a=xor(a,i)),e=0!==(1&i[3]),t=3;t>0;t--)i[t]=i[t]>>>1|(1&i[t-1])<<31;i[0]=i[0]>>>1,e&&(i[0]=i[0]^225<<24)}this.state=fromArray(a)},GHASH.prototype.update=function(t){this.cache=Buffer.concat([this.cache,t]);for(var r;this.cache.length>=16;)r=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(r)},GHASH.prototype.final=function(t,r){return this.cache.length&&this.ghash(Buffer.concat([this.cache,zeros],16)),this.ghash(fromArray([0,t,0,r])),this.state};var uint_max=Math.pow(2,32);
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],228:[function(_dereq_,module,exports){
arguments[4][152][0].apply(exports,arguments)
},{"dup":152}],229:[function(_dereq_,module,exports){
arguments[4][153][0].apply(exports,arguments)
},{"buffer-xor":236,"dup":153}],230:[function(_dereq_,module,exports){
(function (Buffer){
function encryptStart(e,r,c){var t=r.length,n=xor(r,e._cache);return e._cache=e._cache.slice(t),e._prev=Buffer.concat([e._prev,c?r:n]),n}var xor=_dereq_("buffer-xor");exports.encrypt=function(e,r,c){for(var t,n=new Buffer("");r.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=new Buffer("")),!(e._cache.length<=r.length)){n=Buffer.concat([n,encryptStart(e,r,c)]);break}t=e._cache.length,n=Buffer.concat([n,encryptStart(e,r.slice(0,t),c)]),r=r.slice(t)}return n};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"buffer-xor":236}],231:[function(_dereq_,module,exports){
(function (Buffer){
function encryptByte(r,e,n){for(var t,f,c,u=-1,o=8,p=0;++u<o;)t=r._cipher.encryptBlock(r._prev),f=e&1<<7-u?128:0,c=t[0]^f,p+=(128&c)>>u%8,r._prev=shiftIn(r._prev,n?f:c);return p}function shiftIn(r,e){var n=r.length,t=-1,f=new Buffer(r.length);for(r=Buffer.concat([r,new Buffer([e])]);++t<n;)f[t]=r[t]<<1|r[t+1]>>7;return f}exports.encrypt=function(r,e,n){for(var t=e.length,f=new Buffer(t),c=-1;++c<t;)f[c]=encryptByte(r,e[c],n);return f};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],232:[function(_dereq_,module,exports){
(function (Buffer){
function encryptByte(e,r,n){var t=e._cipher.encryptBlock(e._prev),c=t[0]^r;return e._prev=Buffer.concat([e._prev.slice(1),new Buffer([n?r:c])]),c}exports.encrypt=function(e,r,n){for(var t=r.length,c=new Buffer(t),f=-1;++f<t;)c[f]=encryptByte(e,r[f],n);return c};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],233:[function(_dereq_,module,exports){
(function (Buffer){
function incr32(e){for(var r,c=e.length;c--;){if(r=e.readUInt8(c),255!==r){r++,e.writeUInt8(r,c);break}e.writeUInt8(0,c)}}function getBlock(e){var r=e._cipher.encryptBlock(e._prev);return incr32(e._prev),r}var xor=_dereq_("buffer-xor");exports.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=Buffer.concat([e._cache,getBlock(e)]);var c=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),xor(r,c)};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"buffer-xor":236}],234:[function(_dereq_,module,exports){
arguments[4][158][0].apply(exports,arguments)
},{"dup":158}],235:[function(_dereq_,module,exports){
(function (Buffer){
function getBlock(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var xor=_dereq_("buffer-xor");exports.encrypt=function(e,c){for(;e._cache.length<c.length;)e._cache=Buffer.concat([e._cache,getBlock(e)]);var r=e._cache.slice(0,c.length);return e._cache=e._cache.slice(c.length),xor(c,r)};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"buffer-xor":236}],236:[function(_dereq_,module,exports){
(function (Buffer){
module.exports=function(e,n){for(var r=Math.min(e.length,n.length),t=new Buffer(r),f=0;f<r;++f)t[f]=e[f]^n[f];return t};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],237:[function(_dereq_,module,exports){
(function (Buffer){
function CipherBase(t){Transform.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._decoder=null,this._encoding=null}var Transform=_dereq_("stream").Transform,inherits=_dereq_("inherits"),StringDecoder=_dereq_("string_decoder").StringDecoder;module.exports=CipherBase,inherits(CipherBase,Transform),CipherBase.prototype.update=function(t,e,r){"string"==typeof t&&(t=new Buffer(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){i=t}finally{r(i)}},CipherBase.prototype._flush=function(t){var e;try{this.push(this._final())}catch(t){e=t}finally{t(e)}},CipherBase.prototype._finalOrDigest=function(t){var e=this._final()||new Buffer("");return t&&(e=this._toString(e,t,!0)),e},CipherBase.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new StringDecoder(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"inherits":338,"stream":357,"string_decoder":358}],238:[function(_dereq_,module,exports){
(function (Buffer){
function StreamCipher(e,r,t,i){return this instanceof StreamCipher?(Transform.call(this),this._cipher=new aes.AES(r),this._prev=new Buffer(t.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=i,t.copy(this._prev),void(this._mode=e)):new StreamCipher(e,r,t)}var aes=_dereq_("./aes"),Transform=_dereq_("cipher-base"),inherits=_dereq_("inherits");inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()};
}).call(this,_dereq_("buffer").Buffer)

},{"./aes":222,"buffer":140,"cipher-base":237,"inherits":338}],239:[function(_dereq_,module,exports){
(function (Buffer){
function EVP_BytesToKey(e,f,r,u){Buffer.isBuffer(e)||(e=new Buffer(e,"binary")),f&&!Buffer.isBuffer(f)&&(f=new Buffer(f,"binary")),r/=8,u=u||0;for(var i,n,a=0,t=0,B=new Buffer(r),o=new Buffer(u),h=0,s=[];;){if(h++>0&&s.push(i),s.push(e),f&&s.push(f),i=md5(Buffer.concat(s)),s=[],n=0,r>0)for(;;){if(0===r)break;if(n===i.length)break;B[a++]=i[n],r--,n++}if(u>0&&n!==i.length)for(;;){if(0===u)break;if(n===i.length)break;o[t++]=i[n],u--,n++}if(0===r&&0===u)break}for(n=0;n<i.length;n++)i[n]=0;return{key:B,iv:o}}var md5=_dereq_("create-hash/md5");module.exports=EVP_BytesToKey;
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"create-hash/md5":270}],240:[function(_dereq_,module,exports){
(function (Buffer){
function sign(e,r,t,n){var a=parseKeys(r);if(a.curve){if("ecdsa"!==n)throw new Error("wrong private key type");return ecSign(e,a)}if("dsa"===a.type){if("dsa"!==n)throw new Error("wrong private key type");return dsaSign(e,a,t)}if("rsa"!==n)throw new Error("wrong private key type");for(var i=a.modulus.byteLength(),u=[0,1];e.length+u.length+1<i;)u.push(255);u.push(0);for(var o=-1;++o<e.length;)u.push(e[o]);var c=crt(u,a);return c}function ecSign(e,r){var t=curves[r.curve.join(".")];if(!t)throw new Error("unknown curve "+r.curve.join("."));var n=new EC(t),a=n.genKeyPair();a._importPrivate(r.privateKey);var i=a.sign(e);return new Buffer(i.toDER())}function dsaSign(e,r,t){for(var n,a=r.params.priv_key,i=r.params.p,u=r.params.q,o=r.params.g,c=new BN(0),f=bits2int(e,u).mod(u),s=!1,g=getKey(a,u,e,t);s===!1;)n=makeKey(u,g,t),c=makeR(o,n,i,u),s=n.invm(u).imul(f.add(a.mul(c))).mod(u),s.cmpn(0)||(s=!1,c=new BN(0));return toDER(c,s)}function toDER(e,r){e=e.toArray(),r=r.toArray(),128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r));var t=e.length+r.length+4,n=[48,t,2,e.length];return n=n.concat(e,[2,r.length],r),new Buffer(n)}function getKey(e,r,t,n){if(e=new Buffer(e.toArray()),e.length<r.byteLength()){var a=new Buffer(r.byteLength()-e.length);a.fill(0),e=Buffer.concat([a,e])}var i=t.length,u=bits2octets(t,r),o=new Buffer(i);o.fill(1);var c=new Buffer(i);return c.fill(0),c=createHmac(n,c).update(o).update(new Buffer([0])).update(e).update(u).digest(),o=createHmac(n,c).update(o).digest(),c=createHmac(n,c).update(o).update(new Buffer([1])).update(e).update(u).digest(),o=createHmac(n,c).update(o).digest(),{k:c,v:o}}function bits2int(e,r){var t=new BN(e),n=(e.length<<3)-r.bitLength();return n>0&&t.ishrn(n),t}function bits2octets(e,r){e=bits2int(e,r),e=e.mod(r);var t=new Buffer(e.toArray());if(t.length<r.byteLength()){var n=new Buffer(r.byteLength()-t.length);n.fill(0),t=Buffer.concat([n,t])}return t}function makeKey(e,r,t){var n,a;do{for(n=new Buffer("");8*n.length<e.bitLength();)r.v=createHmac(t,r.k).update(r.v).digest(),n=Buffer.concat([n,r.v]);a=bits2int(n,e),r.k=createHmac(t,r.k).update(r.v).update(new Buffer([0])).digest(),r.v=createHmac(t,r.k).update(r.v).digest()}while(a.cmp(e)!==-1);return a}function makeR(e,r,t,n){return e.toRed(BN.mont(t)).redPow(r).fromRed().mod(n)}var createHmac=_dereq_("create-hmac"),crt=_dereq_("browserify-rsa"),curves=_dereq_("./curves"),elliptic=_dereq_("elliptic"),parseKeys=_dereq_("parse-asn1"),BN=_dereq_("bn.js"),EC=elliptic.ec;module.exports=sign,module.exports.getKey=getKey,module.exports.makeKey=makeKey;
}).call(this,_dereq_("buffer").Buffer)

},{"./curves":176,"bn.js":177,"browserify-rsa":178,"buffer":140,"create-hmac":281,"elliptic":179,"parse-asn1":206}],241:[function(_dereq_,module,exports){
(function (Buffer){
function verify(e,r,t,n){var o=parseKeys(t);if("ec"===o.type){if("ecdsa"!==n)throw new Error("wrong public key type");return ecVerify(e,r,o)}if("dsa"===o.type){if("dsa"!==n)throw new Error("wrong public key type");return dsaVerify(e,r,o)}if("rsa"!==n)throw new Error("wrong public key type");for(var a=o.modulus.byteLength(),i=[1],u=0;r.length+i.length+2<a;)i.push(255),u++;i.push(0);for(var d=-1;++d<r.length;)i.push(r[d]);i=new Buffer(i);var c=BN.mont(o.modulus);e=new BN(e).toRed(c),e=e.redPow(new BN(o.publicExponent)),e=new Buffer(e.fromRed().toArray());var l=0;for(u<8&&(l=1),a=Math.min(e.length,i.length),e.length!==i.length&&(l=1),d=-1;++d<a;)l|=e[d]^i[d];return 0===l}function ecVerify(e,r,t){var n=curves[t.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+t.data.algorithm.curve.join("."));var o=new EC(n),a=t.data.subjectPrivateKey.data;return o.verify(r,e,a)}function dsaVerify(e,r,t){var n=t.data.p,o=t.data.q,a=t.data.g,i=t.data.pub_key,u=parseKeys.signature.decode(e,"der"),d=u.s,c=u.r;checkValue(d,o),checkValue(c,o);var l=BN.mont(n),f=d.invm(o),s=a.toRed(l).redPow(new BN(r).mul(f).mod(o)).fromRed().mul(i.toRed(l).redPow(c.mul(f).mod(o)).fromRed()).mod(n).mod(o);return!s.cmp(c)}function checkValue(e,r){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(r)>=r)throw new Error("invalid sig")}var curves=_dereq_("./curves"),elliptic=_dereq_("elliptic"),parseKeys=_dereq_("parse-asn1"),BN=_dereq_("bn.js"),EC=elliptic.ec;module.exports=verify;
}).call(this,_dereq_("buffer").Buffer)

},{"./curves":176,"bn.js":177,"buffer":140,"elliptic":179,"parse-asn1":206}],242:[function(_dereq_,module,exports){
(function (Buffer){
function ECDH(e){this.curveType=aliases[e],this.curveType||(this.curveType={name:e}),this.curve=new elliptic.ec(this.curveType.name),this.keys=void 0}function formatReturnValue(e,t,r){Array.isArray(e)||(e=e.toArray());var i=new Buffer(e);if(r&&i.length<r){var s=new Buffer(r-i.length);s.fill(0),i=Buffer.concat([s,i])}return t?i.toString(t):i}var elliptic=_dereq_("elliptic"),BN=_dereq_("bn.js");module.exports=function(e){return new ECDH(e)};var aliases={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};aliases.p224=aliases.secp224r1,aliases.p256=aliases.secp256r1=aliases.prime256v1,aliases.p192=aliases.secp192r1=aliases.prime192v1,aliases.p384=aliases.secp384r1,aliases.p521=aliases.secp521r1,ECDH.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},ECDH.prototype.computeSecret=function(e,t,r){t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t));var i=this.curve.keyFromPublic(e).getPublic(),s=i.mul(this.keys.getPrivate()).getX();return formatReturnValue(s,r,this.curveType.byteLength)},ECDH.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),formatReturnValue(r,e)},ECDH.prototype.getPrivateKey=function(e){return formatReturnValue(this.keys.getPrivate(),e)},ECDH.prototype.setPublicKey=function(e,t){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),this.keys._importPublic(e),this},ECDH.prototype.setPrivateKey=function(e,t){t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t));var r=new BN(e);return r=r.toString(16),this.keys._importPrivate(r),this};
}).call(this,_dereq_("buffer").Buffer)

},{"bn.js":243,"buffer":140,"elliptic":244}],243:[function(_dereq_,module,exports){
arguments[4][177][0].apply(exports,arguments)
},{"buffer":140,"dup":177}],244:[function(_dereq_,module,exports){
arguments[4][179][0].apply(exports,arguments)
},{"../package.json":267,"./elliptic/curve":247,"./elliptic/curves":250,"./elliptic/ec":251,"./elliptic/eddsa":254,"./elliptic/hmac-drbg":257,"./elliptic/utils":259,"brorand":260,"dup":179}],245:[function(_dereq_,module,exports){
arguments[4][180][0].apply(exports,arguments)
},{"../../elliptic":244,"bn.js":243,"dup":180}],246:[function(_dereq_,module,exports){
arguments[4][181][0].apply(exports,arguments)
},{"../../elliptic":244,"../curve":247,"bn.js":243,"dup":181,"inherits":338}],247:[function(_dereq_,module,exports){
arguments[4][182][0].apply(exports,arguments)
},{"./base":245,"./edwards":246,"./mont":248,"./short":249,"dup":182}],248:[function(_dereq_,module,exports){
arguments[4][183][0].apply(exports,arguments)
},{"../../elliptic":244,"../curve":247,"bn.js":243,"dup":183,"inherits":338}],249:[function(_dereq_,module,exports){
arguments[4][184][0].apply(exports,arguments)
},{"../../elliptic":244,"../curve":247,"bn.js":243,"dup":184,"inherits":338}],250:[function(_dereq_,module,exports){
arguments[4][185][0].apply(exports,arguments)
},{"../elliptic":244,"./precomputed/secp256k1":258,"dup":185,"hash.js":261}],251:[function(_dereq_,module,exports){
arguments[4][186][0].apply(exports,arguments)
},{"../../elliptic":244,"./key":252,"./signature":253,"bn.js":243,"dup":186}],252:[function(_dereq_,module,exports){
arguments[4][187][0].apply(exports,arguments)
},{"bn.js":243,"dup":187}],253:[function(_dereq_,module,exports){
arguments[4][188][0].apply(exports,arguments)
},{"../../elliptic":244,"bn.js":243,"dup":188}],254:[function(_dereq_,module,exports){
arguments[4][189][0].apply(exports,arguments)
},{"../../elliptic":244,"./key":255,"./signature":256,"dup":189,"hash.js":261}],255:[function(_dereq_,module,exports){
arguments[4][190][0].apply(exports,arguments)
},{"../../elliptic":244,"dup":190}],256:[function(_dereq_,module,exports){
arguments[4][191][0].apply(exports,arguments)
},{"../../elliptic":244,"bn.js":243,"dup":191}],257:[function(_dereq_,module,exports){
arguments[4][192][0].apply(exports,arguments)
},{"../elliptic":244,"dup":192,"hash.js":261}],258:[function(_dereq_,module,exports){
arguments[4][193][0].apply(exports,arguments)
},{"dup":193}],259:[function(_dereq_,module,exports){
arguments[4][194][0].apply(exports,arguments)
},{"bn.js":243,"dup":194}],260:[function(_dereq_,module,exports){
arguments[4][195][0].apply(exports,arguments)
},{"crypto":139,"dup":195}],261:[function(_dereq_,module,exports){
arguments[4][196][0].apply(exports,arguments)
},{"./hash/common":262,"./hash/hmac":263,"./hash/ripemd":264,"./hash/sha":265,"./hash/utils":266,"dup":196}],262:[function(_dereq_,module,exports){
arguments[4][197][0].apply(exports,arguments)
},{"../hash":261,"dup":197}],263:[function(_dereq_,module,exports){
arguments[4][198][0].apply(exports,arguments)
},{"../hash":261,"dup":198}],264:[function(_dereq_,module,exports){
arguments[4][199][0].apply(exports,arguments)
},{"../hash":261,"dup":199}],265:[function(_dereq_,module,exports){
arguments[4][200][0].apply(exports,arguments)
},{"../hash":261,"dup":200}],266:[function(_dereq_,module,exports){
arguments[4][201][0].apply(exports,arguments)
},{"dup":201,"inherits":338}],267:[function(_dereq_,module,exports){
arguments[4][202][0].apply(exports,arguments)
},{"dup":202}],268:[function(_dereq_,module,exports){
(function (Buffer){
"use strict";function HashNoConstructor(s){Base.call(this,"digest"),this._hash=s,this.buffers=[]}function Hash(s){Base.call(this,"digest"),this._hash=s}var inherits=_dereq_("inherits"),md5=_dereq_("./md5"),rmd160=_dereq_("ripemd160"),sha=_dereq_("sha.js"),Base=_dereq_("cipher-base");inherits(HashNoConstructor,Base),HashNoConstructor.prototype._update=function(s){this.buffers.push(s)},HashNoConstructor.prototype._final=function(){var s=Buffer.concat(this.buffers),t=this._hash(s);return this.buffers=null,t},inherits(Hash,Base),Hash.prototype._update=function(s){this._hash.update(s)},Hash.prototype._final=function(){return this._hash.digest()},module.exports=function(s){return s=s.toLowerCase(),"md5"===s?new HashNoConstructor(md5):"rmd160"===s||"ripemd160"===s?new HashNoConstructor(rmd160):new Hash(sha(s))};
}).call(this,_dereq_("buffer").Buffer)

},{"./md5":270,"buffer":140,"cipher-base":271,"inherits":338,"ripemd160":272,"sha.js":274}],269:[function(_dereq_,module,exports){
(function (Buffer){
"use strict";function toArray(r,e){if(r.length%intSize!==0){var t=r.length+(intSize-r.length%intSize);r=Buffer.concat([r,zeroBuffer],t)}for(var f=[],n=e?r.readInt32BE:r.readInt32LE,i=0;i<r.length;i+=intSize)f.push(n.call(r,i));return f}function toBuffer(r,e,t){for(var f=new Buffer(e),n=t?f.writeInt32BE:f.writeInt32LE,i=0;i<r.length;i++)n.call(f,r[i],4*i,!0);return f}function hash(r,e,t,f){Buffer.isBuffer(r)||(r=new Buffer(r));var n=e(toArray(r,f),r.length*chrsz);return toBuffer(n,t,f)}var intSize=4,zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;exports.hash=hash;
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],270:[function(_dereq_,module,exports){
"use strict";function core_md5(d,_){d[_>>5]|=128<<_%32,d[(_+64>>>9<<4)+14]=_;for(var m=1732584193,f=-271733879,i=-1732584194,h=271733878,r=0;r<d.length;r+=16){var g=m,n=f,e=i,a=h;m=md5_ff(m,f,i,h,d[r+0],7,-680876936),h=md5_ff(h,m,f,i,d[r+1],12,-389564586),i=md5_ff(i,h,m,f,d[r+2],17,606105819),f=md5_ff(f,i,h,m,d[r+3],22,-1044525330),m=md5_ff(m,f,i,h,d[r+4],7,-176418897),h=md5_ff(h,m,f,i,d[r+5],12,1200080426),i=md5_ff(i,h,m,f,d[r+6],17,-1473231341),f=md5_ff(f,i,h,m,d[r+7],22,-45705983),m=md5_ff(m,f,i,h,d[r+8],7,1770035416),h=md5_ff(h,m,f,i,d[r+9],12,-1958414417),i=md5_ff(i,h,m,f,d[r+10],17,-42063),f=md5_ff(f,i,h,m,d[r+11],22,-1990404162),m=md5_ff(m,f,i,h,d[r+12],7,1804603682),h=md5_ff(h,m,f,i,d[r+13],12,-40341101),i=md5_ff(i,h,m,f,d[r+14],17,-1502002290),f=md5_ff(f,i,h,m,d[r+15],22,1236535329),m=md5_gg(m,f,i,h,d[r+1],5,-165796510),h=md5_gg(h,m,f,i,d[r+6],9,-1069501632),i=md5_gg(i,h,m,f,d[r+11],14,643717713),f=md5_gg(f,i,h,m,d[r+0],20,-373897302),m=md5_gg(m,f,i,h,d[r+5],5,-701558691),h=md5_gg(h,m,f,i,d[r+10],9,38016083),i=md5_gg(i,h,m,f,d[r+15],14,-660478335),f=md5_gg(f,i,h,m,d[r+4],20,-405537848),m=md5_gg(m,f,i,h,d[r+9],5,568446438),h=md5_gg(h,m,f,i,d[r+14],9,-1019803690),i=md5_gg(i,h,m,f,d[r+3],14,-187363961),f=md5_gg(f,i,h,m,d[r+8],20,1163531501),m=md5_gg(m,f,i,h,d[r+13],5,-1444681467),h=md5_gg(h,m,f,i,d[r+2],9,-51403784),i=md5_gg(i,h,m,f,d[r+7],14,1735328473),f=md5_gg(f,i,h,m,d[r+12],20,-1926607734),m=md5_hh(m,f,i,h,d[r+5],4,-378558),h=md5_hh(h,m,f,i,d[r+8],11,-2022574463),i=md5_hh(i,h,m,f,d[r+11],16,1839030562),f=md5_hh(f,i,h,m,d[r+14],23,-35309556),m=md5_hh(m,f,i,h,d[r+1],4,-1530992060),h=md5_hh(h,m,f,i,d[r+4],11,1272893353),i=md5_hh(i,h,m,f,d[r+7],16,-155497632),f=md5_hh(f,i,h,m,d[r+10],23,-1094730640),m=md5_hh(m,f,i,h,d[r+13],4,681279174),h=md5_hh(h,m,f,i,d[r+0],11,-358537222),i=md5_hh(i,h,m,f,d[r+3],16,-722521979),f=md5_hh(f,i,h,m,d[r+6],23,76029189),m=md5_hh(m,f,i,h,d[r+9],4,-640364487),h=md5_hh(h,m,f,i,d[r+12],11,-421815835),i=md5_hh(i,h,m,f,d[r+15],16,530742520),f=md5_hh(f,i,h,m,d[r+2],23,-995338651),m=md5_ii(m,f,i,h,d[r+0],6,-198630844),h=md5_ii(h,m,f,i,d[r+7],10,1126891415),i=md5_ii(i,h,m,f,d[r+14],15,-1416354905),f=md5_ii(f,i,h,m,d[r+5],21,-57434055),m=md5_ii(m,f,i,h,d[r+12],6,1700485571),h=md5_ii(h,m,f,i,d[r+3],10,-1894986606),i=md5_ii(i,h,m,f,d[r+10],15,-1051523),f=md5_ii(f,i,h,m,d[r+1],21,-2054922799),m=md5_ii(m,f,i,h,d[r+8],6,1873313359),h=md5_ii(h,m,f,i,d[r+15],10,-30611744),i=md5_ii(i,h,m,f,d[r+6],15,-1560198380),f=md5_ii(f,i,h,m,d[r+13],21,1309151649),m=md5_ii(m,f,i,h,d[r+4],6,-145523070),h=md5_ii(h,m,f,i,d[r+11],10,-1120210379),i=md5_ii(i,h,m,f,d[r+2],15,718787259),f=md5_ii(f,i,h,m,d[r+9],21,-343485551),m=safe_add(m,g),f=safe_add(f,n),i=safe_add(i,e),h=safe_add(h,a)}return Array(m,f,i,h)}function md5_cmn(d,_,m,f,i,h){return safe_add(bit_rol(safe_add(safe_add(_,d),safe_add(f,h)),i),m)}function md5_ff(d,_,m,f,i,h,r){return md5_cmn(_&m|~_&f,d,_,i,h,r)}function md5_gg(d,_,m,f,i,h,r){return md5_cmn(_&f|m&~f,d,_,i,h,r)}function md5_hh(d,_,m,f,i,h,r){return md5_cmn(_^m^f,d,_,i,h,r)}function md5_ii(d,_,m,f,i,h,r){return md5_cmn(m^(_|~f),d,_,i,h,r)}function safe_add(d,_){var m=(65535&d)+(65535&_),f=(d>>16)+(_>>16)+(m>>16);return f<<16|65535&m}function bit_rol(d,_){return d<<_|d>>>32-_}var helpers=_dereq_("./helpers");module.exports=function(d){return helpers.hash(d,core_md5,16)};
},{"./helpers":269}],271:[function(_dereq_,module,exports){
(function (Buffer){
function CipherBase(t){Transform.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._decoder=null,this._encoding=null}var Transform=_dereq_("stream").Transform,inherits=_dereq_("inherits"),StringDecoder=_dereq_("string_decoder").StringDecoder;module.exports=CipherBase,inherits(CipherBase,Transform),CipherBase.prototype.update=function(t,e,r){"string"==typeof t&&(t=new Buffer(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){i=t}finally{r(i)}},CipherBase.prototype._flush=function(t){var e;try{this.push(this._final())}catch(t){e=t}finally{t(e)}},CipherBase.prototype._finalOrDigest=function(t){var e=this._final()||new Buffer("");return t&&(e=this._toString(e,t,!0)),e},CipherBase.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new StringDecoder(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"inherits":338,"stream":357,"string_decoder":358}],272:[function(_dereq_,module,exports){
(function (Buffer){
function bytesToWords(r){for(var f=[],n=0,t=0;n<r.length;n++,t+=8)f[t>>>5]|=r[n]<<24-t%32;return f}function wordsToBytes(r){for(var f=[],n=0;n<32*r.length;n+=8)f.push(r[n>>>5]>>>24-n%32&255);return f}function processBlock(r,f,n){for(var t=0;t<16;t++){var o=n+t,e=f[o];f[o]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8)}var u,l,s,h,c,i,a,v,d,p;i=u=r[0],a=l=r[1],v=s=r[2],d=h=r[3],p=c=r[4];var g;for(t=0;t<80;t+=1)g=u+f[n+zl[t]]|0,g+=t<16?f1(l,s,h)+hl[0]:t<32?f2(l,s,h)+hl[1]:t<48?f3(l,s,h)+hl[2]:t<64?f4(l,s,h)+hl[3]:f5(l,s,h)+hl[4],g|=0,g=rotl(g,sl[t]),g=g+c|0,u=c,c=h,h=rotl(s,10),s=l,l=g,g=i+f[n+zr[t]]|0,g+=t<16?f5(a,v,d)+hr[0]:t<32?f4(a,v,d)+hr[1]:t<48?f3(a,v,d)+hr[2]:t<64?f2(a,v,d)+hr[3]:f1(a,v,d)+hr[4],g|=0,g=rotl(g,sr[t]),g=g+p|0,i=p,p=d,d=rotl(v,10),v=a,a=g;g=r[1]+s+d|0,r[1]=r[2]+h+p|0,r[2]=r[3]+c+i|0,r[3]=r[4]+u+a|0,r[4]=r[0]+l+v|0,r[0]=g}function f1(r,f,n){return r^f^n}function f2(r,f,n){return r&f|~r&n}function f3(r,f,n){return(r|~f)^n}function f4(r,f,n){return r&n|f&~n}function f5(r,f,n){return r^(f|~n)}function rotl(r,f){return r<<f|r>>>32-f}function ripemd160(r){var f=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof r&&(r=new Buffer(r,"utf8"));var n=bytesToWords(r),t=8*r.length,o=8*r.length;n[t>>>5]|=128<<24-t%32,n[(t+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var e=0;e<n.length;e+=16)processBlock(f,n,e);for(e=0;e<5;e++){var u=f[e];f[e]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var l=wordsToBytes(f);return new Buffer(l)}var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];module.exports=ripemd160;
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],273:[function(_dereq_,module,exports){
(function (Buffer){
function Hash(t,i){this._block=new Buffer(t),this._finalSize=i,this._blockSize=t,this._len=0,this._s=0}Hash.prototype.update=function(t,i){"string"==typeof t&&(i=i||"utf8",t=new Buffer(t,i));for(var s=this._len+=t.length,e=this._s||0,h=0,o=this._block;e<s;){for(var l=Math.min(t.length,h+this._blockSize-e%this._blockSize),_=l-h,n=0;n<_;n++)o[e%this._blockSize+n]=t[n+h];e+=_,h+=_,e%this._blockSize===0&&this._update(o)}return this._s=e,this},Hash.prototype.digest=function(t){var i=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),i%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(i,this._blockSize-4);var s=this._update(this._block)||this._hash();return t?s.toString(t):s},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=Hash;
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],274:[function(_dereq_,module,exports){
var exports=module.exports=function(e){e=e.toLowerCase();var r=exports[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};exports.sha=_dereq_("./sha"),exports.sha1=_dereq_("./sha1"),exports.sha224=_dereq_("./sha224"),exports.sha256=_dereq_("./sha256"),exports.sha384=_dereq_("./sha384"),exports.sha512=_dereq_("./sha512");
},{"./sha":275,"./sha1":276,"./sha224":277,"./sha256":278,"./sha384":279,"./sha512":280}],275:[function(_dereq_,module,exports){
(function (Buffer){
function Sha(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl5(t){return t<<5|t>>>27}function rotl30(t){return t<<30|t>>>2}function ft(t,i,h,r){return 0===t?i&h|~i&r:2===t?i&h|i&r|h&r:i^h^r}var inherits=_dereq_("inherits"),Hash=_dereq_("./hash"),K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);inherits(Sha,Hash),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(t){for(var i=this._w,h=0|this._a,r=0|this._b,s=0|this._c,e=0|this._d,n=0|this._e,_=0;_<16;++_)i[_]=t.readInt32BE(4*_);for(;_<80;++_)i[_]=i[_-3]^i[_-8]^i[_-14]^i[_-16];for(var a=0;a<80;++a){var o=~~(a/20),u=rotl5(h)+ft(o,r,s,e)+n+i[a]+K[o]|0;n=e,e=s,s=rotl30(r),r=h,h=u}this._a=h+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=e+this._d|0,this._e=n+this._e|0},Sha.prototype._hash=function(){var t=new Buffer(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=Sha;
}).call(this,_dereq_("buffer").Buffer)

},{"./hash":273,"buffer":140,"inherits":338}],276:[function(_dereq_,module,exports){
(function (Buffer){
function Sha1(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl1(t){return t<<1|t>>>31}function rotl5(t){return t<<5|t>>>27}function rotl30(t){return t<<30|t>>>2}function ft(t,i,h,r){return 0===t?i&h|~i&r:2===t?i&h|i&r|h&r:i^h^r}var inherits=_dereq_("inherits"),Hash=_dereq_("./hash"),K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);inherits(Sha1,Hash),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(t){for(var i=this._w,h=0|this._a,r=0|this._b,s=0|this._c,n=0|this._d,e=0|this._e,_=0;_<16;++_)i[_]=t.readInt32BE(4*_);for(;_<80;++_)i[_]=rotl1(i[_-3]^i[_-8]^i[_-14]^i[_-16]);for(var a=0;a<80;++a){var o=~~(a/20),u=rotl5(h)+ft(o,r,s,n)+e+i[a]+K[o]|0;e=n,n=s,s=rotl30(r),r=h,h=u}this._a=h+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=n+this._d|0,this._e=e+this._e|0},Sha1.prototype._hash=function(){var t=new Buffer(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=Sha1;
}).call(this,_dereq_("buffer").Buffer)

},{"./hash":273,"buffer":140,"inherits":338}],277:[function(_dereq_,module,exports){
(function (Buffer){
function Sha224(){this.init(),this._w=W,Hash.call(this,64,56)}var inherits=_dereq_("inherits"),Sha256=_dereq_("./sha256"),Hash=_dereq_("./hash"),W=new Array(64);inherits(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var t=new Buffer(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},module.exports=Sha224;
}).call(this,_dereq_("buffer").Buffer)

},{"./hash":273,"./sha256":278,"buffer":140,"inherits":338}],278:[function(_dereq_,module,exports){
(function (Buffer){
function Sha256(){this.init(),this._w=W,Hash.call(this,64,56)}function ch(t,i,h){return h^t&(i^h)}function maj(t,i,h){return t&i|h&(t|i)}function sigma0(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function sigma1(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function gamma0(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function gamma1(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}var inherits=_dereq_("inherits"),Hash=_dereq_("./hash"),K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=new Array(64);inherits(Sha256,Hash),Sha256.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(t){for(var i=this._w,h=0|this._a,s=0|this._b,r=0|this._c,n=0|this._d,_=0|this._e,a=0|this._f,e=0|this._g,u=0|this._h,o=0;o<16;++o)i[o]=t.readInt32BE(4*o);for(;o<64;++o)i[o]=gamma1(i[o-2])+i[o-7]+gamma0(i[o-15])+i[o-16]|0;for(var f=0;f<64;++f){var c=u+sigma1(_)+ch(_,a,e)+K[f]+i[f]|0,m=sigma0(h)+maj(h,s,r)|0;u=e,e=a,a=_,_=n+c|0,n=r,r=s,s=h,h=c+m|0}this._a=h+this._a|0,this._b=s+this._b|0,this._c=r+this._c|0,this._d=n+this._d|0,this._e=_+this._e|0,this._f=a+this._f|0,this._g=e+this._g|0,this._h=u+this._h|0},Sha256.prototype._hash=function(){var t=new Buffer(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},module.exports=Sha256;
}).call(this,_dereq_("buffer").Buffer)

},{"./hash":273,"buffer":140,"inherits":338}],279:[function(_dereq_,module,exports){
(function (Buffer){
function Sha384(){this.init(),this._w=W,Hash.call(this,128,112)}var inherits=_dereq_("inherits"),SHA512=_dereq_("./sha512"),Hash=_dereq_("./hash"),W=new Array(160);inherits(Sha384,SHA512),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){function h(h,i,s){t.writeInt32BE(h,s),t.writeInt32BE(i,s+4)}var t=new Buffer(48);return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),t},module.exports=Sha384;
}).call(this,_dereq_("buffer").Buffer)

},{"./hash":273,"./sha512":280,"buffer":140,"inherits":338}],280:[function(_dereq_,module,exports){
(function (Buffer){
function Sha512(){this.init(),this._w=W,Hash.call(this,128,112)}function Ch(h,t,i){return i^h&(t^i)}function maj(h,t,i){return h&t|i&(h|t)}function sigma0(h,t){return(h>>>28|t<<4)^(t>>>2|h<<30)^(t>>>7|h<<25)}function sigma1(h,t){return(h>>>14|t<<18)^(h>>>18|t<<14)^(t>>>9|h<<23)}function Gamma0(h,t){return(h>>>1|t<<31)^(h>>>8|t<<24)^h>>>7}function Gamma0l(h,t){return(h>>>1|t<<31)^(h>>>8|t<<24)^(h>>>7|t<<25)}function Gamma1(h,t){return(h>>>19|t<<13)^(t>>>29|h<<3)^h>>>6}function Gamma1l(h,t){return(h>>>19|t<<13)^(t>>>29|h<<3)^(h>>>6|t<<26)}function getCarry(h,t){return h>>>0<t>>>0?1:0}var inherits=_dereq_("inherits"),Hash=_dereq_("./hash"),K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W=new Array(160);inherits(Sha512,Hash),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(h){for(var t=this._w,i=0|this._ah,s=0|this._bh,_=0|this._ch,r=0|this._dh,a=0|this._eh,e=0|this._fh,l=0|this._gh,n=0|this._hh,g=0|this._al,f=0|this._bl,u=0|this._cl,c=0|this._dl,m=0|this._el,o=0|this._fl,y=0|this._gl,C=0|this._hl,d=0;d<32;d+=2)t[d]=h.readInt32BE(4*d),t[d+1]=h.readInt32BE(4*d+4);for(;d<160;d+=2){var b=t[d-30],p=t[d-30+1],v=Gamma0(b,p),G=Gamma0l(p,b);b=t[d-4],p=t[d-4+1];var w=Gamma1(b,p),S=Gamma1l(p,b),B=t[d-14],E=t[d-14+1],I=t[d-32],j=t[d-32+1],H=G+E|0,q=v+B+getCarry(H,G)|0;H=H+S|0,q=q+w+getCarry(H,S)|0,H=H+j|0,q=q+I+getCarry(H,j)|0,t[d]=q,t[d+1]=H}for(var W=0;W<160;W+=2){q=t[W],H=t[W+1];var x=maj(i,s,_),A=maj(g,f,u),k=sigma0(i,g),z=sigma0(g,i),D=sigma1(a,m),F=sigma1(m,a),J=K[W],L=K[W+1],M=Ch(a,e,l),N=Ch(m,o,y),O=C+F|0,P=n+D+getCarry(O,C)|0;O=O+N|0,P=P+M+getCarry(O,N)|0,O=O+L|0,P=P+J+getCarry(O,L)|0,O=O+H|0,P=P+q+getCarry(O,H)|0;var Q=z+A|0,R=k+x+getCarry(Q,z)|0;n=l,C=y,l=e,y=o,e=a,o=m,m=c+O|0,a=r+P+getCarry(m,c)|0,r=_,c=u,_=s,u=f,s=i,f=g,g=O+Q|0,i=P+R+getCarry(g,O)|0}this._al=this._al+g|0,this._bl=this._bl+f|0,this._cl=this._cl+u|0,this._dl=this._dl+c|0,this._el=this._el+m|0,this._fl=this._fl+o|0,this._gl=this._gl+y|0,this._hl=this._hl+C|0,this._ah=this._ah+i+getCarry(this._al,g)|0,this._bh=this._bh+s+getCarry(this._bl,f)|0,this._ch=this._ch+_+getCarry(this._cl,u)|0,this._dh=this._dh+r+getCarry(this._dl,c)|0,this._eh=this._eh+a+getCarry(this._el,m)|0,this._fh=this._fh+e+getCarry(this._fl,o)|0,this._gh=this._gh+l+getCarry(this._gl,y)|0,this._hh=this._hh+n+getCarry(this._hl,C)|0},Sha512.prototype._hash=function(){function h(h,i,s){t.writeInt32BE(h,s),t.writeInt32BE(i,s+4)}var t=new Buffer(64);return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),h(this._gh,this._gl,48),h(this._hh,this._hl,56),t},module.exports=Sha512;
}).call(this,_dereq_("buffer").Buffer)

},{"./hash":273,"buffer":140,"inherits":338}],281:[function(_dereq_,module,exports){
(function (Buffer){
"use strict";function Hmac(t,e){Transform.call(this),t=t.toLowerCase(),"string"==typeof e&&(e=new Buffer(e));var r="sha512"===t||"sha384"===t?128:64;this._alg=t,this._key=e,e.length>r?e=createHash(t).update(e).digest():e.length<r&&(e=Buffer.concat([e,ZEROS],r));for(var a=this._ipad=new Buffer(r),s=this._opad=new Buffer(r),i=0;i<r;i++)a[i]=54^e[i],s[i]=92^e[i];this._hash=createHash(t).update(a)}var createHash=_dereq_("create-hash/browser"),inherits=_dereq_("inherits"),Transform=_dereq_("stream").Transform,ZEROS=new Buffer(128);ZEROS.fill(0),inherits(Hmac,Transform),Hmac.prototype.update=function(t,e){return this._hash.update(t,e),this},Hmac.prototype._transform=function(t,e,r){this._hash.update(t),r()},Hmac.prototype._flush=function(t){this.push(this.digest()),t()},Hmac.prototype.digest=function(t){var e=this._hash.digest();return createHash(this._alg).update(this._opad).update(e).digest(t)},module.exports=function(t,e){return new Hmac(t,e)};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"create-hash/browser":268,"inherits":338,"stream":357}],282:[function(_dereq_,module,exports){
(function (Buffer){
function getDiffieHellman(e){var r=new Buffer(primes[e].prime,"hex"),f=new Buffer(primes[e].gen,"hex");return new DH(r,f)}function createDiffieHellman(e,r,f,i){return Buffer.isBuffer(r)||void 0===ENCODINGS[r]?createDiffieHellman(e,"binary",r,f):(r=r||"binary",i=i||"binary",f=f||new Buffer([2]),Buffer.isBuffer(f)||(f=new Buffer(f,i)),"number"==typeof e?new DH(generatePrime(e,f),f,!0):(Buffer.isBuffer(e)||(e=new Buffer(e,r)),new DH(e,f,!0)))}var generatePrime=_dereq_("./lib/generatePrime"),primes=_dereq_("./lib/primes.json"),DH=_dereq_("./lib/dh"),ENCODINGS={binary:!0,hex:!0,base64:!0};exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=getDiffieHellman,exports.createDiffieHellman=exports.DiffieHellman=createDiffieHellman;
}).call(this,_dereq_("buffer").Buffer)

},{"./lib/dh":283,"./lib/generatePrime":284,"./lib/primes.json":285,"buffer":140}],283:[function(_dereq_,module,exports){
(function (Buffer){
function setPublicKey(e,r){return r=r||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,r)),this._pub=new BN(e),this}function setPrivateKey(e,r){return r=r||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,r)),this._priv=new BN(e),this}function checkPrime(e,r){var t=r.toString("hex"),i=[t,e.toString(16)].join("_");if(i in primeCache)return primeCache[i];var n=0;if(e.isEven()||!primes.simpleSieve||!primes.fermatTest(e)||!millerRabin.test(e))return n+=1,n+="02"===t||"05"===t?8:4,primeCache[i]=n,n;millerRabin.test(e.shrn(1))||(n+=2);var u;switch(t){case"02":e.mod(TWENTYFOUR).cmp(ELEVEN)&&(n+=8);break;case"05":u=e.mod(TEN),u.cmp(THREE)&&u.cmp(SEVEN)&&(n+=8);break;default:n+=4}return primeCache[i]=n,n}function DH(e,r,t){this.setGenerator(r),this.__prime=new BN(e),this._prime=BN.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,t?(this.setPublicKey=setPublicKey,this.setPrivateKey=setPrivateKey):this._primeCode=8}function formatReturnValue(e,r){var t=new Buffer(e.toArray());return r?t.toString(r):t}var BN=_dereq_("bn.js"),MillerRabin=_dereq_("miller-rabin"),millerRabin=new MillerRabin,TWENTYFOUR=new BN(24),ELEVEN=new BN(11),TEN=new BN(10),THREE=new BN(3),SEVEN=new BN(7),primes=_dereq_("./generatePrime"),randomBytes=_dereq_("randombytes");module.exports=DH;var primeCache={};Object.defineProperty(DH.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=checkPrime(this.__prime,this.__gen)),this._primeCode}}),DH.prototype.generateKeys=function(){return this._priv||(this._priv=new BN(randomBytes(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},DH.prototype.computeSecret=function(e){e=new BN(e),e=e.toRed(this._prime);var r=e.redPow(this._priv).fromRed(),t=new Buffer(r.toArray()),i=this.getPrime();if(t.length<i.length){var n=new Buffer(i.length-t.length);n.fill(0),t=Buffer.concat([n,t])}return t},DH.prototype.getPublicKey=function(e){return formatReturnValue(this._pub,e)},DH.prototype.getPrivateKey=function(e){return formatReturnValue(this._priv,e)},DH.prototype.getPrime=function(e){return formatReturnValue(this.__prime,e)},DH.prototype.getGenerator=function(e){return formatReturnValue(this._gen,e)},DH.prototype.setGenerator=function(e,r){return r=r||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,r)),this.__gen=e,this._gen=new BN(e),this};
}).call(this,_dereq_("buffer").Buffer)

},{"./generatePrime":284,"bn.js":286,"buffer":140,"miller-rabin":287,"randombytes":336}],284:[function(_dereq_,module,exports){
function _getPrimes(){if(null!==primes)return primes;var e=1048576,r=[];r[0]=2;for(var i=1,n=3;n<e;n+=2){for(var t=Math.ceil(Math.sqrt(n)),m=0;m<i&&r[m]<=t&&n%r[m]!==0;m++);i!==m&&r[m]<=t||(r[i++]=n)}return primes=r,r}function simpleSieve(e){for(var r=_getPrimes(),i=0;i<r.length;i++)if(0===e.modn(r[i]))return 0===e.cmpn(r[i]);return!0}function fermatTest(e){var r=BN.mont(e);return 0===TWO.toRed(r).redPow(e.subn(1)).fromRed().cmpn(1)}function findPrime(e,r){if(e<16)return new BN(2===r||5===r?[140,123]:[140,39]);r=new BN(r);for(var i,n;;){for(i=new BN(randomBytes(Math.ceil(e/8)));i.bitLength()>e;)i.ishrn(1);if(i.isEven()&&i.iadd(ONE),i.testn(1)||i.iadd(TWO),r.cmp(TWO)){if(!r.cmp(FIVE))for(;i.mod(TEN).cmp(THREE);)i.iadd(FOUR)}else for(;i.mod(TWENTYFOUR).cmp(ELEVEN);)i.iadd(FOUR);if(n=i.shrn(1),simpleSieve(n)&&simpleSieve(i)&&fermatTest(n)&&fermatTest(i)&&millerRabin.test(n)&&millerRabin.test(i))return i}}var randomBytes=_dereq_("randombytes");module.exports=findPrime,findPrime.simpleSieve=simpleSieve,findPrime.fermatTest=fermatTest;var BN=_dereq_("bn.js"),TWENTYFOUR=new BN(24),MillerRabin=_dereq_("miller-rabin"),millerRabin=new MillerRabin,ONE=new BN(1),TWO=new BN(2),FIVE=new BN(5),SIXTEEN=new BN(16),EIGHT=new BN(8),TEN=new BN(10),THREE=new BN(3),SEVEN=new BN(7),ELEVEN=new BN(11),FOUR=new BN(4),TWELVE=new BN(12),primes=null;
},{"bn.js":286,"miller-rabin":287,"randombytes":336}],285:[function(_dereq_,module,exports){
module.exports={"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}
},{}],286:[function(_dereq_,module,exports){
arguments[4][177][0].apply(exports,arguments)
},{"buffer":140,"dup":177}],287:[function(_dereq_,module,exports){
function MillerRabin(r){this.rand=r||new brorand.Rand}var bn=_dereq_("bn.js"),brorand=_dereq_("brorand");module.exports=MillerRabin,MillerRabin.create=function(r){return new MillerRabin(r)},MillerRabin.prototype._rand=function(r){var n=r.bitLength(),e=this.rand.generate(Math.ceil(n/8));e[0]|=3;var t=7&n;return 0!==t&&(e[e.length-1]>>=7-t),new bn(e)},MillerRabin.prototype.test=function(r,n,e){var t=r.bitLength(),a=bn.mont(r),i=new bn(1).toRed(a);n||(n=Math.max(1,t/48|0));for(var o=r.subn(1),b=o.subn(1),d=0;!o.testn(d);d++);for(var u=r.shrn(d),f=o.toRed(a),c=!0;n>0;n--){var s=this._rand(b);e&&e(s);var l=s.toRed(a).redPow(u);if(0!==l.cmp(i)&&0!==l.cmp(f)){for(var m=1;m<d;m++){if(l=l.redSqr(),0===l.cmp(i))return!1;if(0===l.cmp(f))break}if(m===d)return!1}}return c},MillerRabin.prototype.getDivisor=function(r,n){var e=r.bitLength(),t=bn.mont(r),a=new bn(1).toRed(t);n||(n=Math.max(1,e/48|0));for(var i=r.subn(1),o=i.subn(1),b=0;!i.testn(b);b++);for(var d=r.shrn(b),u=i.toRed(t);n>0;n--){var f=this._rand(o),c=r.gcd(f);if(0!==c.cmpn(1))return c;var s=f.toRed(t).redPow(d);if(0!==s.cmp(a)&&0!==s.cmp(u)){for(var l=1;l<b;l++){if(s=s.redSqr(),0===s.cmp(a))return s.fromRed().subn(1).gcd(r);if(0===s.cmp(u))break}if(l===b)return s=s.redSqr(),s.fromRed().subn(1).gcd(r)}}return!1};
},{"bn.js":286,"brorand":288}],288:[function(_dereq_,module,exports){
arguments[4][195][0].apply(exports,arguments)
},{"crypto":139,"dup":195}],289:[function(_dereq_,module,exports){
(function (process,Buffer){
var createHmac=_dereq_("create-hmac"),checkParameters=_dereq_("./precondition");exports.pbkdf2=function(e,r,t,n,f,a){if("function"==typeof f&&(a=f,f=void 0),checkParameters(t,n),"function"!=typeof a)throw new Error("No callback provided to pbkdf2");setTimeout(function(){a(null,exports.pbkdf2Sync(e,r,t,n,f))})};var defaultEncoding;if(process.browser)defaultEncoding="utf-8";else{var pVersionMajor=parseInt(process.version.split(".")[0].slice(1),10);defaultEncoding=pVersionMajor>=6?"utf-8":"binary"}exports.pbkdf2Sync=function(e,r,t,n,f){Buffer.isBuffer(e)||(e=new Buffer(e,defaultEncoding)),Buffer.isBuffer(r)||(r=new Buffer(r,defaultEncoding)),checkParameters(t,n),f=f||"sha1";var a,o=1,c=new Buffer(n),i=new Buffer(r.length+4);r.copy(i,0,0,r.length);for(var u,s,d=1;d<=o;d++){i.writeUInt32BE(d,r.length);var p=createHmac(f,e).update(i).digest();a||(a=p.length,s=new Buffer(a),o=Math.ceil(n/a),u=n-(o-1)*a),p.copy(s,0,0,a);for(var l=1;l<t;l++){p=createHmac(f,e).update(p).digest();for(var v=0;v<a;v++)s[v]^=p[v]}var g=(d-1)*a,h=d===o?u:a;s.copy(c,g,0,h)}return c};
}).call(this,_dereq_('_process'),_dereq_("buffer").Buffer)

},{"./precondition":290,"_process":340,"buffer":140,"create-hmac":281}],290:[function(_dereq_,module,exports){
var MAX_ALLOC=Math.pow(2,30)-1;module.exports=function(r,e){if("number"!=typeof r)throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if("number"!=typeof e)throw new TypeError("Key length not a number");if(e<0||e>MAX_ALLOC||e!==e)throw new TypeError("Bad key length")};
},{}],291:[function(_dereq_,module,exports){
exports.publicEncrypt=_dereq_("./publicEncrypt"),exports.privateDecrypt=_dereq_("./privateDecrypt"),exports.privateEncrypt=function(r,p){return exports.publicEncrypt(r,p,!0)},exports.publicDecrypt=function(r,p){return exports.privateDecrypt(r,p,!0)};
},{"./privateDecrypt":332,"./publicEncrypt":333}],292:[function(_dereq_,module,exports){
(function (Buffer){
function i2ops(e){var r=new Buffer(4);return r.writeUInt32BE(e,0),r}var createHash=_dereq_("create-hash");module.exports=function(e,r){for(var t,a=new Buffer(""),n=0;a.length<r;)t=i2ops(n++),a=Buffer.concat([a,createHash("sha1").update(e).update(t).digest()]);return a.slice(0,r)};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"create-hash":268}],293:[function(_dereq_,module,exports){
arguments[4][177][0].apply(exports,arguments)
},{"buffer":140,"dup":177}],294:[function(_dereq_,module,exports){
(function (Buffer){
function blind(e){var n=getr(e),r=n.toRed(bn.mont(e.modulus)).redPow(new bn(e.publicExponent)).fromRed();return{blinder:r,unblinder:n.invm(e.modulus)}}function crt(e,n){var r=blind(n),o=n.modulus.byteLength(),u=(bn.mont(n.modulus),new bn(e).mul(r.blinder).umod(n.modulus)),m=u.toRed(bn.mont(n.prime1)),d=u.toRed(bn.mont(n.prime2)),t=n.coefficient,i=n.prime1,b=n.prime2,l=m.redPow(n.exponent1),s=d.redPow(n.exponent2);l=l.fromRed(),s=s.fromRed();var p=l.isub(s).imul(t).umod(i);return p.imul(b),s.iadd(p),new Buffer(s.imul(r.unblinder).umod(n.modulus).toArray(!1,o))}function getr(e){for(var n=e.modulus.byteLength(),r=new bn(randomBytes(n));r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2);)r=new bn(randomBytes(n));return r}var bn=_dereq_("bn.js"),randomBytes=_dereq_("randombytes");module.exports=crt,crt.getr=getr;
}).call(this,_dereq_("buffer").Buffer)

},{"bn.js":293,"buffer":140,"randombytes":336}],295:[function(_dereq_,module,exports){
arguments[4][203][0].apply(exports,arguments)
},{"dup":203}],296:[function(_dereq_,module,exports){
arguments[4][204][0].apply(exports,arguments)
},{"asn1.js":299,"dup":204}],297:[function(_dereq_,module,exports){
(function (Buffer){
var findProc=/Proc-Type: 4,ENCRYPTED\r?\nDEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\r?\n\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n/m,startRegex=/^-----BEGIN (.*) KEY-----\r?\n/m,fullRegex=/^-----BEGIN (.*) KEY-----\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n-----END \1 KEY-----$/m,evp=_dereq_("evp_bytestokey"),ciphers=_dereq_("browserify-aes");module.exports=function(e,r){var a,n=e.toString(),t=n.match(findProc);if(t){var f="aes"+t[1],c=new Buffer(t[2],"hex"),s=new Buffer(t[3].replace(/\r?\n/g,""),"base64"),i=evp(r,c.slice(0,8),parseInt(t[1],10)).key,p=[],u=ciphers.createDecipheriv(f,i,c);p.push(u.update(s)),p.push(u.final()),a=Buffer.concat(p)}else{var o=n.match(fullRegex);a=new Buffer(o[2].replace(/\r?\n/g,""),"base64")}var E=n.match(startRegex)[1]+" KEY";return{tag:E,data:a}};
}).call(this,_dereq_("buffer").Buffer)

},{"browserify-aes":316,"buffer":140,"evp_bytestokey":331}],298:[function(_dereq_,module,exports){
(function (Buffer){
function parseKeys(e){var r;"object"!=typeof e||Buffer.isBuffer(e)||(r=e.passphrase,e=e.key),"string"==typeof e&&(e=new Buffer(e));var a,t,s=fixProc(e,r),i=s.tag,c=s.data;switch(i){case"PUBLIC KEY":switch(t=asn1.PublicKey.decode(c,"der"),a=t.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(t.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return t.subjectPrivateKey=t.subjectPublicKey,{type:"ec",data:t};case"1.2.840.10040.4.1":return t.algorithm.params.pub_key=asn1.DSAparam.decode(t.subjectPublicKey.data,"der"),{type:"dsa",data:t.algorithm.params};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+i);case"ENCRYPTED PRIVATE KEY":c=asn1.EncryptedPrivateKey.decode(c,"der"),c=decrypt(c,r);case"PRIVATE KEY":switch(t=asn1.PrivateKey.decode(c,"der"),a=t.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(t.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:t.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(t.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return t.algorithm.params.priv_key=asn1.DSAparam.decode(t.subjectPrivateKey,"der"),{type:"dsa",params:t.algorithm.params};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+i);case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return c=asn1.ECPrivateKey.decode(c,"der"),{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+i)}}function decrypt(e,r){var a=e.algorithm.decrypt.kde.kdeparams.salt,t=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=aesid[e.algorithm.decrypt.cipher.algo.join(".")],i=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,d=parseInt(s.split("-")[1],10)/8,n=compat.pbkdf2Sync(r,a,t,d),o=ciphers.createDecipheriv(s,n,i),u=[];return u.push(o.update(c)),u.push(o.final()),Buffer.concat(u)}var asn1=_dereq_("./asn1"),aesid=_dereq_("./aesid.json"),fixProc=_dereq_("./fixProc"),ciphers=_dereq_("browserify-aes"),compat=_dereq_("pbkdf2");module.exports=parseKeys,parseKeys.signature=asn1.signature;
}).call(this,_dereq_("buffer").Buffer)

},{"./aesid.json":295,"./asn1":296,"./fixProc":297,"browserify-aes":316,"buffer":140,"pbkdf2":289}],299:[function(_dereq_,module,exports){
arguments[4][207][0].apply(exports,arguments)
},{"./asn1/api":300,"./asn1/base":302,"./asn1/constants":306,"./asn1/decoders":308,"./asn1/encoders":311,"bn.js":293,"dup":207}],300:[function(_dereq_,module,exports){
arguments[4][208][0].apply(exports,arguments)
},{"../asn1":299,"dup":208,"inherits":338,"vm":359}],301:[function(_dereq_,module,exports){
arguments[4][209][0].apply(exports,arguments)
},{"../base":302,"buffer":140,"dup":209,"inherits":338}],302:[function(_dereq_,module,exports){
arguments[4][210][0].apply(exports,arguments)
},{"./buffer":301,"./node":303,"./reporter":304,"dup":210}],303:[function(_dereq_,module,exports){
arguments[4][211][0].apply(exports,arguments)
},{"../base":302,"dup":211,"minimalistic-assert":313}],304:[function(_dereq_,module,exports){
arguments[4][212][0].apply(exports,arguments)
},{"dup":212,"inherits":338}],305:[function(_dereq_,module,exports){
arguments[4][213][0].apply(exports,arguments)
},{"../constants":306,"dup":213}],306:[function(_dereq_,module,exports){
arguments[4][214][0].apply(exports,arguments)
},{"./der":305,"dup":214}],307:[function(_dereq_,module,exports){
arguments[4][215][0].apply(exports,arguments)
},{"../../asn1":299,"dup":215,"inherits":338}],308:[function(_dereq_,module,exports){
arguments[4][216][0].apply(exports,arguments)
},{"./der":307,"./pem":309,"dup":216}],309:[function(_dereq_,module,exports){
arguments[4][217][0].apply(exports,arguments)
},{"./der":307,"buffer":140,"dup":217,"inherits":338}],310:[function(_dereq_,module,exports){
arguments[4][218][0].apply(exports,arguments)
},{"../../asn1":299,"buffer":140,"dup":218,"inherits":338}],311:[function(_dereq_,module,exports){
arguments[4][219][0].apply(exports,arguments)
},{"./der":310,"./pem":312,"dup":219}],312:[function(_dereq_,module,exports){
arguments[4][220][0].apply(exports,arguments)
},{"./der":310,"dup":220,"inherits":338}],313:[function(_dereq_,module,exports){
arguments[4][172][0].apply(exports,arguments)
},{"dup":172}],314:[function(_dereq_,module,exports){
(function (Buffer){
function fixup_uint32(t){var e,i;return e=t>uint_max||t<0?(i=Math.abs(t)%uint_max,t<0?uint_max-i:i):t}function scrub_vec(t){for(var e=0;e<t.length;t++)t[e]=0;return!1}function Global(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=[[],[],[],[]],this.INV_SUB_MIX=[[],[],[],[]],this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function bufferToArray(t){for(var e=t.length/4,i=new Array(e),r=-1;++r<e;)i[r]=t.readUInt32BE(4*r);return i}function AES(t){this._key=bufferToArray(t),this._doReset()}var uint_max=Math.pow(2,32);Global.prototype.init=function(){var t,e,i,r,n,S,u,_,o,h;for(t=function(){var t,i;for(i=[],e=t=0;t<256;e=++t)e<128?i.push(e<<1):i.push(e<<1^283);return i}(),n=0,o=0,e=h=0;h<256;e=++h)i=o^o<<1^o<<2^o<<3^o<<4,i=i>>>8^255&i^99,this.SBOX[n]=i,this.INV_SBOX[i]=n,S=t[n],u=t[S],_=t[u],r=257*t[i]^16843008*i,this.SUB_MIX[0][n]=r<<24|r>>>8,this.SUB_MIX[1][n]=r<<16|r>>>16,this.SUB_MIX[2][n]=r<<8|r>>>24,this.SUB_MIX[3][n]=r,r=16843009*_^65537*u^257*S^16843008*n,this.INV_SUB_MIX[0][i]=r<<24|r>>>8,this.INV_SUB_MIX[1][i]=r<<16|r>>>16,this.INV_SUB_MIX[2][i]=r<<8|r>>>24,this.INV_SUB_MIX[3][i]=r,0===n?n=o=1:(n=S^t[t[t[_^S]]],o^=t[t[o]]);return!0};var G=new Global;AES.blockSize=16,AES.prototype.blockSize=AES.blockSize,AES.keySize=32,AES.prototype.keySize=AES.keySize,AES.prototype._doReset=function(){var t,e,i,r,n,S;for(i=this._key,e=i.length,this._nRounds=e+6,n=4*(this._nRounds+1),this._keySchedule=[],r=0;r<n;r++)this._keySchedule[r]=r<e?i[r]:(S=this._keySchedule[r-1],r%e===0?(S=S<<8|S>>>24,S=G.SBOX[S>>>24]<<24|G.SBOX[S>>>16&255]<<16|G.SBOX[S>>>8&255]<<8|G.SBOX[255&S],S^=G.RCON[r/e|0]<<24):e>6&&r%e===4?S=G.SBOX[S>>>24]<<24|G.SBOX[S>>>16&255]<<16|G.SBOX[S>>>8&255]<<8|G.SBOX[255&S]:void 0,this._keySchedule[r-e]^S);for(this._invKeySchedule=[],t=0;t<n;t++)r=n-t,S=this._keySchedule[r-(t%4?0:4)],this._invKeySchedule[t]=t<4||r<=4?S:G.INV_SUB_MIX[0][G.SBOX[S>>>24]]^G.INV_SUB_MIX[1][G.SBOX[S>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[S>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[255&S]];return!0},AES.prototype.encryptBlock=function(t){t=bufferToArray(new Buffer(t));var e=this._doCryptBlock(t,this._keySchedule,G.SUB_MIX,G.SBOX),i=new Buffer(16);return i.writeUInt32BE(e[0],0),i.writeUInt32BE(e[1],4),i.writeUInt32BE(e[2],8),i.writeUInt32BE(e[3],12),i},AES.prototype.decryptBlock=function(t){t=bufferToArray(new Buffer(t));var e=[t[3],t[1]];t[1]=e[0],t[3]=e[1];var i=this._doCryptBlock(t,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX),r=new Buffer(16);return r.writeUInt32BE(i[0],0),r.writeUInt32BE(i[3],4),r.writeUInt32BE(i[2],8),r.writeUInt32BE(i[1],12),r},AES.prototype.scrub=function(){scrub_vec(this._keySchedule),scrub_vec(this._invKeySchedule),scrub_vec(this._key)},AES.prototype._doCryptBlock=function(t,e,i,r){var n,S,u,_,o,h,B,s,c;S=t[0]^e[0],u=t[1]^e[1],_=t[2]^e[2],o=t[3]^e[3],n=4;for(var f=1;f<this._nRounds;f++)h=i[0][S>>>24]^i[1][u>>>16&255]^i[2][_>>>8&255]^i[3][255&o]^e[n++],B=i[0][u>>>24]^i[1][_>>>16&255]^i[2][o>>>8&255]^i[3][255&S]^e[n++],s=i[0][_>>>24]^i[1][o>>>16&255]^i[2][S>>>8&255]^i[3][255&u]^e[n++],c=i[0][o>>>24]^i[1][S>>>16&255]^i[2][u>>>8&255]^i[3][255&_]^e[n++],S=h,u=B,_=s,o=c;return h=(r[S>>>24]<<24|r[u>>>16&255]<<16|r[_>>>8&255]<<8|r[255&o])^e[n++],B=(r[u>>>24]<<24|r[_>>>16&255]<<16|r[o>>>8&255]<<8|r[255&S])^e[n++],s=(r[_>>>24]<<24|r[o>>>16&255]<<16|r[S>>>8&255]<<8|r[255&u])^e[n++],c=(r[o>>>24]<<24|r[S>>>16&255]<<16|r[u>>>8&255]<<8|r[255&_])^e[n++],[fixup_uint32(h),fixup_uint32(B),fixup_uint32(s),fixup_uint32(c)]},exports.AES=AES;
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],315:[function(_dereq_,module,exports){
(function (Buffer){
function StreamCipher(t,e,r,h){if(!(this instanceof StreamCipher))return new StreamCipher(t,e,r);Transform.call(this),this._finID=Buffer.concat([r,new Buffer([0,0,0,1])]),r=Buffer.concat([r,new Buffer([0,0,0,2])]),this._cipher=new aes.AES(e),this._prev=new Buffer(r.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=h,this._alen=0,this._len=0,r.copy(this._prev),this._mode=t;var i=new Buffer(4);i.fill(0),this._ghash=new GHASH(this._cipher.encryptBlock(i)),this._authTag=null,this._called=!1}function xorTest(t,e){var r=0;t.length!==e.length&&r++;for(var h=Math.min(t.length,e.length),i=-1;++i<h;)r+=t[i]^e[i];return r}var aes=_dereq_("./aes"),Transform=_dereq_("cipher-base"),inherits=_dereq_("inherits"),GHASH=_dereq_("./ghash"),xor=_dereq_("buffer-xor");inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=new Buffer(e),e.fill(0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=xor(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(xorTest(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=t;this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function(){if(!this._decrypt&&Buffer.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},StreamCipher.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},StreamCipher.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length};
}).call(this,_dereq_("buffer").Buffer)

},{"./aes":314,"./ghash":319,"buffer":140,"buffer-xor":328,"cipher-base":329,"inherits":338}],316:[function(_dereq_,module,exports){
arguments[4][148][0].apply(exports,arguments)
},{"./decrypter":317,"./encrypter":318,"./modes":320,"dup":148}],317:[function(_dereq_,module,exports){
(function (Buffer){
function Decipher(e,r,t){return this instanceof Decipher?(Transform.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes.AES(r),this._prev=new Buffer(t.length),t.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new Decipher(e,r,t)}function Splitter(){return this instanceof Splitter?void(this.cache=new Buffer("")):new Splitter}function unpad(e){for(var r=e[15],t=-1;++t<r;)if(e[t+(16-r)]!==r)throw new Error("unable to decrypt data");if(16!==r)return e.slice(0,16-r)}function createDecipheriv(e,r,t){var i=modes[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=new Buffer(t)),"string"==typeof r&&(r=new Buffer(r)),r.length!==i.key/8)throw new TypeError("invalid key length "+r.length);if(t.length!==i.iv)throw new TypeError("invalid iv length "+t.length);return"stream"===i.type?new StreamCipher(modelist[i.mode],r,t,!0):"auth"===i.type?new AuthCipher(modelist[i.mode],r,t,!0):new Decipher(modelist[i.mode],r,t)}function createDecipher(e,r){var t=modes[e.toLowerCase()];if(!t)throw new TypeError("invalid suite type");var i=ebtk(r,!1,t.key,t.iv);return createDecipheriv(e,i.key,i.iv)}var aes=_dereq_("./aes"),Transform=_dereq_("cipher-base"),inherits=_dereq_("inherits"),modes=_dereq_("./modes"),StreamCipher=_dereq_("./streamCipher"),AuthCipher=_dereq_("./authCipher"),ebtk=_dereq_("evp_bytestokey");inherits(Decipher,Transform),Decipher.prototype._update=function(e){this._cache.add(e);for(var r,t,i=[];r=this._cache.get(this._autopadding);)t=this._mode.decrypt(this,r),i.push(t);return Buffer.concat(i)},Decipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},Splitter.prototype.add=function(e){this.cache=Buffer.concat([this.cache,e])},Splitter.prototype.get=function(e){var r;if(e){if(this.cache.length>16)return r=this.cache.slice(0,16),this.cache=this.cache.slice(16),r}else if(this.cache.length>=16)return r=this.cache.slice(0,16),this.cache=this.cache.slice(16),r;return null},Splitter.prototype.flush=function(){if(this.cache.length)return this.cache};var modelist={ECB:_dereq_("./modes/ecb"),CBC:_dereq_("./modes/cbc"),CFB:_dereq_("./modes/cfb"),CFB8:_dereq_("./modes/cfb8"),CFB1:_dereq_("./modes/cfb1"),OFB:_dereq_("./modes/ofb"),CTR:_dereq_("./modes/ctr"),GCM:_dereq_("./modes/ctr")};exports.createDecipher=createDecipher,exports.createDecipheriv=createDecipheriv;
}).call(this,_dereq_("buffer").Buffer)

},{"./aes":314,"./authCipher":315,"./modes":320,"./modes/cbc":321,"./modes/cfb":322,"./modes/cfb1":323,"./modes/cfb8":324,"./modes/ctr":325,"./modes/ecb":326,"./modes/ofb":327,"./streamCipher":330,"buffer":140,"cipher-base":329,"evp_bytestokey":331,"inherits":338}],318:[function(_dereq_,module,exports){
(function (Buffer){
function Cipher(e,r,t){return this instanceof Cipher?(Transform.call(this),this._cache=new Splitter,this._cipher=new aes.AES(r),this._prev=new Buffer(t.length),t.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new Cipher(e,r,t)}function Splitter(){return this instanceof Splitter?void(this.cache=new Buffer("")):new Splitter}function createCipheriv(e,r,t){var i=modes[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=new Buffer(t)),"string"==typeof r&&(r=new Buffer(r)),r.length!==i.key/8)throw new TypeError("invalid key length "+r.length);if(t.length!==i.iv)throw new TypeError("invalid iv length "+t.length);return"stream"===i.type?new StreamCipher(modelist[i.mode],r,t):"auth"===i.type?new AuthCipher(modelist[i.mode],r,t):new Cipher(modelist[i.mode],r,t)}function createCipher(e,r){var t=modes[e.toLowerCase()];if(!t)throw new TypeError("invalid suite type");var i=ebtk(r,!1,t.key,t.iv);return createCipheriv(e,i.key,i.iv)}var aes=_dereq_("./aes"),Transform=_dereq_("cipher-base"),inherits=_dereq_("inherits"),modes=_dereq_("./modes"),ebtk=_dereq_("evp_bytestokey"),StreamCipher=_dereq_("./streamCipher"),AuthCipher=_dereq_("./authCipher");inherits(Cipher,Transform),Cipher.prototype._update=function(e){this._cache.add(e);for(var r,t,i=[];r=this._cache.get();)t=this._mode.encrypt(this,r),i.push(t);return Buffer.concat(i)},Cipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if("10101010101010101010101010101010"!==e.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},Splitter.prototype.add=function(e){this.cache=Buffer.concat([this.cache,e])},Splitter.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},Splitter.prototype.flush=function(){for(var e=16-this.cache.length,r=new Buffer(e),t=-1;++t<e;)r.writeUInt8(e,t);var i=Buffer.concat([this.cache,r]);return i};var modelist={ECB:_dereq_("./modes/ecb"),CBC:_dereq_("./modes/cbc"),CFB:_dereq_("./modes/cfb"),CFB8:_dereq_("./modes/cfb8"),CFB1:_dereq_("./modes/cfb1"),OFB:_dereq_("./modes/ofb"),CTR:_dereq_("./modes/ctr"),GCM:_dereq_("./modes/ctr")};exports.createCipheriv=createCipheriv,exports.createCipher=createCipher;
}).call(this,_dereq_("buffer").Buffer)

},{"./aes":314,"./authCipher":315,"./modes":320,"./modes/cbc":321,"./modes/cfb":322,"./modes/cfb1":323,"./modes/cfb8":324,"./modes/ctr":325,"./modes/ecb":326,"./modes/ofb":327,"./streamCipher":330,"buffer":140,"cipher-base":329,"evp_bytestokey":331,"inherits":338}],319:[function(_dereq_,module,exports){
(function (Buffer){
function GHASH(t){this.h=t,this.state=new Buffer(16),this.state.fill(0),this.cache=new Buffer("")}function toArray(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function fromArray(t){t=t.map(fixup_uint32);var r=new Buffer(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r}function fixup_uint32(t){var r,e;return r=t>uint_max||t<0?(e=Math.abs(t)%uint_max,t<0?uint_max-e:e):t}function xor(t,r){return[t[0]^r[0],t[1]^r[1],t[2]^r[2],t[3]^r[3]]}var zeros=new Buffer(16);zeros.fill(0),module.exports=GHASH,GHASH.prototype.ghash=function(t){for(var r=-1;++r<t.length;)this.state[r]^=t[r];this._multiply()},GHASH.prototype._multiply=function(){for(var t,r,e,i=toArray(this.h),a=[0,0,0,0],n=-1;++n<128;){for(r=0!==(this.state[~~(n/8)]&1<<7-n%8),r&&(a=xor(a,i)),e=0!==(1&i[3]),t=3;t>0;t--)i[t]=i[t]>>>1|(1&i[t-1])<<31;i[0]=i[0]>>>1,e&&(i[0]=i[0]^225<<24)}this.state=fromArray(a)},GHASH.prototype.update=function(t){this.cache=Buffer.concat([this.cache,t]);for(var r;this.cache.length>=16;)r=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(r)},GHASH.prototype.final=function(t,r){return this.cache.length&&this.ghash(Buffer.concat([this.cache,zeros],16)),this.ghash(fromArray([0,t,0,r])),this.state};var uint_max=Math.pow(2,32);
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],320:[function(_dereq_,module,exports){
arguments[4][152][0].apply(exports,arguments)
},{"dup":152}],321:[function(_dereq_,module,exports){
arguments[4][153][0].apply(exports,arguments)
},{"buffer-xor":328,"dup":153}],322:[function(_dereq_,module,exports){
(function (Buffer){
function encryptStart(e,r,c){var t=r.length,n=xor(r,e._cache);return e._cache=e._cache.slice(t),e._prev=Buffer.concat([e._prev,c?r:n]),n}var xor=_dereq_("buffer-xor");exports.encrypt=function(e,r,c){for(var t,n=new Buffer("");r.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=new Buffer("")),!(e._cache.length<=r.length)){n=Buffer.concat([n,encryptStart(e,r,c)]);break}t=e._cache.length,n=Buffer.concat([n,encryptStart(e,r.slice(0,t),c)]),r=r.slice(t)}return n};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"buffer-xor":328}],323:[function(_dereq_,module,exports){
(function (Buffer){
function encryptByte(r,e,n){for(var t,f,c,u=-1,o=8,p=0;++u<o;)t=r._cipher.encryptBlock(r._prev),f=e&1<<7-u?128:0,c=t[0]^f,p+=(128&c)>>u%8,r._prev=shiftIn(r._prev,n?f:c);return p}function shiftIn(r,e){var n=r.length,t=-1,f=new Buffer(r.length);for(r=Buffer.concat([r,new Buffer([e])]);++t<n;)f[t]=r[t]<<1|r[t+1]>>7;return f}exports.encrypt=function(r,e,n){for(var t=e.length,f=new Buffer(t),c=-1;++c<t;)f[c]=encryptByte(r,e[c],n);return f};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],324:[function(_dereq_,module,exports){
(function (Buffer){
function encryptByte(e,r,n){var t=e._cipher.encryptBlock(e._prev),c=t[0]^r;return e._prev=Buffer.concat([e._prev.slice(1),new Buffer([n?r:c])]),c}exports.encrypt=function(e,r,n){for(var t=r.length,c=new Buffer(t),f=-1;++f<t;)c[f]=encryptByte(e,r[f],n);return c};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],325:[function(_dereq_,module,exports){
(function (Buffer){
function incr32(e){for(var r,c=e.length;c--;){if(r=e.readUInt8(c),255!==r){r++,e.writeUInt8(r,c);break}e.writeUInt8(0,c)}}function getBlock(e){var r=e._cipher.encryptBlock(e._prev);return incr32(e._prev),r}var xor=_dereq_("buffer-xor");exports.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=Buffer.concat([e._cache,getBlock(e)]);var c=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),xor(r,c)};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"buffer-xor":328}],326:[function(_dereq_,module,exports){
arguments[4][158][0].apply(exports,arguments)
},{"dup":158}],327:[function(_dereq_,module,exports){
(function (Buffer){
function getBlock(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var xor=_dereq_("buffer-xor");exports.encrypt=function(e,c){for(;e._cache.length<c.length;)e._cache=Buffer.concat([e._cache,getBlock(e)]);var r=e._cache.slice(0,c.length);return e._cache=e._cache.slice(c.length),xor(c,r)};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"buffer-xor":328}],328:[function(_dereq_,module,exports){
(function (Buffer){
module.exports=function(e,n){for(var r=Math.min(e.length,n.length),t=new Buffer(r),f=0;f<r;++f)t[f]=e[f]^n[f];return t};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140}],329:[function(_dereq_,module,exports){
(function (Buffer){
function CipherBase(t){Transform.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._decoder=null,this._encoding=null}var Transform=_dereq_("stream").Transform,inherits=_dereq_("inherits"),StringDecoder=_dereq_("string_decoder").StringDecoder;module.exports=CipherBase,inherits(CipherBase,Transform),CipherBase.prototype.update=function(t,e,r){"string"==typeof t&&(t=new Buffer(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){i=t}finally{r(i)}},CipherBase.prototype._flush=function(t){var e;try{this.push(this._final())}catch(t){e=t}finally{t(e)}},CipherBase.prototype._finalOrDigest=function(t){var e=this._final()||new Buffer("");return t&&(e=this._toString(e,t,!0)),e},CipherBase.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new StringDecoder(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"inherits":338,"stream":357,"string_decoder":358}],330:[function(_dereq_,module,exports){
(function (Buffer){
function StreamCipher(e,r,t,i){return this instanceof StreamCipher?(Transform.call(this),this._cipher=new aes.AES(r),this._prev=new Buffer(t.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=i,t.copy(this._prev),void(this._mode=e)):new StreamCipher(e,r,t)}var aes=_dereq_("./aes"),Transform=_dereq_("cipher-base"),inherits=_dereq_("inherits");inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()};
}).call(this,_dereq_("buffer").Buffer)

},{"./aes":314,"buffer":140,"cipher-base":329,"inherits":338}],331:[function(_dereq_,module,exports){
(function (Buffer){
function EVP_BytesToKey(e,f,r,u){Buffer.isBuffer(e)||(e=new Buffer(e,"binary")),f&&!Buffer.isBuffer(f)&&(f=new Buffer(f,"binary")),r/=8,u=u||0;for(var i,n,a=0,t=0,B=new Buffer(r),o=new Buffer(u),h=0,s=[];;){if(h++>0&&s.push(i),s.push(e),f&&s.push(f),i=md5(Buffer.concat(s)),s=[],n=0,r>0)for(;;){if(0===r)break;if(n===i.length)break;B[a++]=i[n],r--,n++}if(u>0&&n!==i.length)for(;;){if(0===u)break;if(n===i.length)break;o[t++]=i[n],u--,n++}if(0===r&&0===u)break}for(n=0;n<i.length;n++)i[n]=0;return{key:B,iv:o}}var md5=_dereq_("create-hash/md5");module.exports=EVP_BytesToKey;
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":140,"create-hash/md5":270}],332:[function(_dereq_,module,exports){
(function (Buffer){
function oaep(r,e){var n=(r.modulus,r.modulus.byteLength()),t=(e.length,createHash("sha1").update(new Buffer("")).digest()),i=t.length;if(0!==e[0])throw new Error("decryption error");var o=e.slice(1,i+1),u=e.slice(i+1),a=xor(o,mgf(u,i)),c=xor(u,mgf(a,n-i-1));if(compare(t,c.slice(0,i)))throw new Error("decryption error");for(var f=i;0===c[f];)f++;if(1!==c[f++])throw new Error("decryption error");return c.slice(f)}function pkcs1(r,e,n){for(var t=e.slice(0,2),i=2,o=0;0!==e[i++];)if(i>=e.length){o++;break}var u=e.slice(2,i-1);e.slice(i-1,i);if(("0002"!==t.toString("hex")&&!n||"0001"!==t.toString("hex")&&n)&&o++,u.length<8&&o++,o)throw new Error("decryption error");return e.slice(i)}function compare(r,e){r=new Buffer(r),e=new Buffer(e);var n=0,t=r.length;r.length!==e.length&&(n++,t=Math.min(r.length,e.length));for(var i=-1;++i<t;)n+=r[i]^e[i];return n}var parseKeys=_dereq_("parse-asn1"),mgf=_dereq_("./mgf"),xor=_dereq_("./xor"),bn=_dereq_("bn.js"),crt=_dereq_("browserify-rsa"),createHash=_dereq_("create-hash"),withPublic=_dereq_("./withPublic");module.exports=function(r,e,n){var t;t=r.padding?r.padding:n?1:4;var i=parseKeys(r),o=i.modulus.byteLength();if(e.length>o||new bn(e).cmp(i.modulus)>=0)throw new Error("decryption error");var u;u=n?withPublic(new bn(e),i):crt(e,i);var a=new Buffer(o-u.length);if(a.fill(0),u=Buffer.concat([a,u],o),4===t)return oaep(i,u);if(1===t)return pkcs1(i,u,n);if(3===t)return u;throw new Error("unknown padding")};
}).call(this,_dereq_("buffer").Buffer)

},{"./mgf":292,"./withPublic":334,"./xor":335,"bn.js":293,"browserify-rsa":294,"buffer":140,"create-hash":268,"parse-asn1":298}],333:[function(_dereq_,module,exports){
(function (Buffer){
function oaep(e,r){var n=e.modulus.byteLength(),o=r.length,t=createHash("sha1").update(new Buffer("")).digest(),f=t.length,u=2*f;if(o>n-u-2)throw new Error("message too long");var a=new Buffer(n-o-u-2);a.fill(0);var s=n-f-1,i=randomBytes(f),w=xor(Buffer.concat([t,a,new Buffer([1]),r],s),mgf(i,s)),c=xor(i,mgf(w,f));return new bn(Buffer.concat([new Buffer([0]),c,w],n))}function pkcs1(e,r,n){var o=r.length,t=e.modulus.byteLength();if(o>t-11)throw new Error("message too long");var f;return n?(f=new Buffer(t-o-3),f.fill(255)):f=nonZero(t-o-3),new bn(Buffer.concat([new Buffer([0,n?1:2]),f,new Buffer([0]),r],t))}function nonZero(e,r){for(var n,o=new Buffer(e),t=0,f=randomBytes(2*e),u=0;t<e;)u===f.length&&(f=randomBytes(2*e),u=0),n=f[u++],n&&(o[t++]=n);return o}var parseKeys=_dereq_("parse-asn1"),randomBytes=_dereq_("randombytes"),createHash=_dereq_("create-hash"),mgf=_dereq_("./mgf"),xor=_dereq_("./xor"),bn=_dereq_("bn.js"),withPublic=_dereq_("./withPublic"),crt=_dereq_("browserify-rsa"),constants={RSA_PKCS1_OAEP_PADDING:4,RSA_PKCS1_PADDIN:1,RSA_NO_PADDING:3};module.exports=function(e,r,n){var o;o=e.padding?e.padding:n?1:4;var t,f=parseKeys(e);if(4===o)t=oaep(f,r);else if(1===o)t=pkcs1(f,r,n);else{if(3!==o)throw new Error("unknown padding");if(t=new bn(r),t.cmp(f.modulus)>=0)throw new Error("data too long for modulus")}return n?crt(t,f):withPublic(t,f)};
}).call(this,_dereq_("buffer").Buffer)

},{"./mgf":292,"./withPublic":334,"./xor":335,"bn.js":293,"browserify-rsa":294,"buffer":140,"create-hash":268,"parse-asn1":298,"randombytes":336}],334:[function(_dereq_,module,exports){
(function (Buffer){
function withPublic(e,n){return new Buffer(e.toRed(bn.mont(n.modulus)).redPow(new bn(n.publicExponent)).fromRed().toArray())}var bn=_dereq_("bn.js");module.exports=withPublic;
}).call(this,_dereq_("buffer").Buffer)

},{"bn.js":293,"buffer":140}],335:[function(_dereq_,module,exports){
module.exports=function(r,e){for(var n=r.length,o=-1;++o<n;)r[o]^=e[o];return r};
},{}],336:[function(_dereq_,module,exports){
(function (process,global,Buffer){
"use strict";function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function randomBytes(r,o){if(r>65536)throw new Error("requested too many random bytes");var e=new global.Uint8Array(r);r>0&&crypto.getRandomValues(e);var t=new Buffer(e.buffer);return"function"==typeof o?process.nextTick(function(){o(null,t)}):t}var crypto=global.crypto||global.msCrypto;crypto&&crypto.getRandomValues?module.exports=randomBytes:module.exports=oldBrowser;
}).call(this,_dereq_('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},_dereq_("buffer").Buffer)

},{"_process":340,"buffer":140}],337:[function(_dereq_,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,i,s,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),r=1;r<i;r++)s[r-1]=arguments[r];n.apply(this,s)}else if(isObject(n)){for(i=arguments.length,s=new Array(i-1),r=1;r<i;r++)s[r-1]=arguments[r];for(o=n.slice(),i=o.length,r=0;r<i;r++)o[r].apply(this,s)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,i,s,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,i=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=s;r-- >0;)if(n[r]===t||n[r].listener&&n[r].listener===t){i=r;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};
},{}],338:[function(_dereq_,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],339:[function(_dereq_,module,exports){
function isBuffer(f){return!!f.constructor&&"function"==typeof f.constructor.isBuffer&&f.constructor.isBuffer(f)}function isSlowBuffer(f){return"function"==typeof f.readFloatLE&&"function"==typeof f.slice&&isBuffer(f.slice(0,0))}module.exports=function(f){return null!=f&&(isBuffer(f)||isSlowBuffer(f)||!!f._isBuffer)};
},{}],340:[function(_dereq_,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)t[u-1]=arguments[u];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],341:[function(_dereq_,module,exports){
module.exports=_dereq_("./lib/_stream_duplex.js");
},{"./lib/_stream_duplex.js":342}],342:[function(_dereq_,module,exports){
"use strict";function Duplex(e){return this instanceof Duplex?(Readable.call(this,e),Writable.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(e)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(e){e.end()}function forEach(e,t){for(var r=0,i=e.length;r<i;r++)t(e[r],r)}var objectKeys=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=Duplex;var processNextTick=_dereq_("process-nextick-args"),util=_dereq_("core-util-is");util.inherits=_dereq_("inherits");var Readable=_dereq_("./_stream_readable"),Writable=_dereq_("./_stream_writable");util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}
},{"./_stream_readable":344,"./_stream_writable":346,"core-util-is":349,"inherits":338,"process-nextick-args":351}],343:[function(_dereq_,module,exports){
"use strict";function PassThrough(r){return this instanceof PassThrough?void Transform.call(this,r):new PassThrough(r)}module.exports=PassThrough;var Transform=_dereq_("./_stream_transform"),util=_dereq_("core-util-is");util.inherits=_dereq_("inherits"),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(r,s,i){i(null,r)};
},{"./_stream_transform":345,"core-util-is":349,"inherits":338}],344:[function(_dereq_,module,exports){
(function (process){
"use strict";function prependListener(e,t,r){return"function"==typeof e.prependListener?e.prependListener(t,r):void(e._events&&e._events[t]?isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r))}function ReadableState(e,t){Duplex=Duplex||_dereq_("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder||(StringDecoder=_dereq_("string_decoder/").StringDecoder),this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){return Duplex=Duplex||_dereq_("./_stream_duplex"),this instanceof Readable?(this._readableState=new ReadableState(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),void Stream.call(this)):new Readable(e)}function readableAddChunk(e,t,r,n,a){var i=chunkInvalid(t,r);if(i)e.emit("error",i);else if(null===r)t.reading=!1,onEofChunk(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!a){var d=new Error("stream.push() after EOF");e.emit("error",d)}else if(t.endEmitted&&a){var o=new Error("stream.unshift() after end event");e.emit("error",o)}else{var u;!t.decoder||a||n||(r=t.decoder.write(r),u=!t.objectMode&&0===r.length),a||(t.reading=!1),u||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,a?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e))),maybeReadMore(e,t)}else a||(t.reading=!1);return needMoreData(t)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function chunkInvalid(e,t){var r=null;return Buffer.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function onEofChunk(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?processNextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,processNextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EElistenerCount(e,"data")&&(t.flowing=!0,flow(e))}}function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,processNextTick(resume_,e,t))}function resume_(e,t){t.reading||(debug("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(debug("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){if(0===t.length)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=fromListPartial(e,t.buffer,t.decoder),r}function fromListPartial(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?copyFromBufferString(e,t):copyFromBuffer(e,t),n}function copyFromBufferString(e,t){var r=t.head,n=1,a=r.data;for(e-=a.length;r=r.next;){var i=r.data,d=e>i.length?i.length:e;if(a+=d===i.length?i:i.slice(0,e),e-=d,0===e){d===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(d));break}++n}return t.length-=n,a}function copyFromBuffer(e,t){var r=bufferShim.allocUnsafe(e),n=t.head,a=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var i=n.data,d=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,d),e-=d,0===e){d===i.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(d));break}++a}return t.length-=a,r}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,processNextTick(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function forEach(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}module.exports=Readable;var processNextTick=_dereq_("process-nextick-args"),isArray=_dereq_("isarray"),Duplex;Readable.ReadableState=ReadableState;var EE=_dereq_("events").EventEmitter,EElistenerCount=function(e,t){return e.listeners(t).length},Stream;!function(){try{Stream=_dereq_("stream")}catch(e){}finally{Stream||(Stream=_dereq_("events").EventEmitter)}}();var Buffer=_dereq_("buffer").Buffer,bufferShim=_dereq_("buffer-shims"),util=_dereq_("core-util-is");util.inherits=_dereq_("inherits");var debugUtil=_dereq_("util"),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var BufferList=_dereq_("./internal/streams/BufferList"),StringDecoder;util.inherits(Readable,Stream),Readable.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding,t!==r.encoding&&(e=bufferShim.from(e,t),t="")),readableAddChunk(this,r,e,t,!1)},Readable.prototype.unshift=function(e){var t=this._readableState;return readableAddChunk(this,t,e,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(e){return StringDecoder||(StringDecoder=_dereq_("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;Readable.prototype.read=function(e){debug("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(e=howMuchToRead(e,t),0===e&&t.ended)return 0===t.length&&endReadable(this),null;var n=t.needReadable;debug("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,debug("length less than watermark",n)),t.ended||t.reading?(n=!1,debug("reading or ended",n)):n&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t)));var a;return a=e>0?fromList(e,t):null,null===a?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),null!==a&&this.emit("data",a),a},Readable.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(e,t){function r(e){debug("onunpipe"),e===s&&a()}function n(){debug("onend"),e.end()}function a(){debug("cleanup"),e.removeListener("close",o),e.removeListener("finish",u),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",r),s.removeListener("end",n),s.removeListener("end",a),s.removeListener("data",i),g=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function i(t){debug("ondata"),b=!1;var r=e.write(t);!1!==r||b||((1===h.pipesCount&&h.pipes===e||h.pipesCount>1&&indexOf(h.pipes,e)!==-1)&&!g&&(debug("false write response, pause",s._readableState.awaitDrain),s._readableState.awaitDrain++,b=!0),s.pause())}function d(t){debug("onerror",t),l(),e.removeListener("error",d),0===EElistenerCount(e,"error")&&e.emit("error",t)}function o(){e.removeListener("finish",u),l()}function u(){debug("onfinish"),e.removeListener("close",o),l()}function l(){debug("unpipe"),s.unpipe(e)}var s=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,debug("pipe count=%d opts=%j",h.pipesCount,t);var f=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,p=f?n:a;h.endEmitted?processNextTick(p):s.once("end",p),e.on("unpipe",r);var c=pipeOnDrain(s);e.on("drain",c);var g=!1,b=!1;return s.on("data",i),prependListener(e,"error",d),e.once("close",o),e.once("finish",u),e.emit("pipe",s),h.flowing||(debug("pipe resume"),s.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<n;a++)r[a].emit("unpipe",this);return this}var i=indexOf(t.pipes,e);return i===-1?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Readable.prototype.on=function(e,t){var r=Stream.prototype.on.call(this,e,t);if("data"===e)this._readableState.flowing!==!1&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&emitReadable(this,n):processNextTick(nReadingNextTick,this))}return r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,resume(this,e)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(debug("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(a){if(debug("wrapped data"),t.decoder&&(a=t.decoder.write(a)),(!t.objectMode||null!==a&&void 0!==a)&&(t.objectMode||a&&a.length)){var i=n.push(a);i||(r=!0,e.pause())}});for(var a in e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));var i=["error","close","destroy","pause","resume"];return forEach(i,function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){debug("wrapped _read",t),r&&(r=!1,e.resume())},n},Readable._fromList=fromList;
}).call(this,_dereq_('_process'))

},{"./_stream_duplex":342,"./internal/streams/BufferList":347,"_process":340,"buffer":140,"buffer-shims":348,"core-util-is":349,"events":337,"inherits":338,"isarray":350,"process-nextick-args":351,"stream":357,"string_decoder/":358,"util":139}],345:[function(_dereq_,module,exports){
"use strict";function TransformState(r){this.afterTransform=function(t,n){return afterTransform(r,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(r,t,n){var e=r._transformState;e.transforming=!1;var i=e.writecb;if(!i)return r.emit("error",new Error("no writecb in Transform class"));e.writechunk=null,e.writecb=null,null!==n&&void 0!==n&&r.push(n),i(t);var a=r._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&r._read(a.highWaterMark)}function Transform(r){if(!(this instanceof Transform))return new Transform(r);Duplex.call(this,r),this._transformState=new TransformState(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(r,n){done(t,r,n)}):done(t)})}function done(r,t,n){if(t)return r.emit("error",t);null!==n&&void 0!==n&&r.push(n);var e=r._writableState,i=r._transformState;if(e.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return r.push(null)}module.exports=Transform;var Duplex=_dereq_("./_stream_duplex"),util=_dereq_("core-util-is");util.inherits=_dereq_("inherits"),util.inherits(Transform,Duplex),Transform.prototype.push=function(r,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,r,t)},Transform.prototype._transform=function(r,t,n){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(r,t,n){var e=this._transformState;if(e.writecb=n,e.writechunk=r,e.writeencoding=t,!e.transforming){var i=this._readableState;(e.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(r){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};
},{"./_stream_duplex":342,"core-util-is":349,"inherits":338}],346:[function(_dereq_,module,exports){
(function (process){
"use strict";function nop(){}function WriteReq(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function WritableState(e,t){Duplex=Duplex||_dereq_("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){return Duplex=Duplex||_dereq_("./_stream_duplex"),realHasInstance.call(Writable,this)||this instanceof Duplex?(this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),void Stream.call(this)):new Writable(e)}function writeAfterEnd(e,t){var r=new Error("write after end");e.emit("error",r),processNextTick(t,r)}function validChunk(e,t,r,i){var n=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):Buffer.isBuffer(r)||"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),processNextTick(i,s),n=!1),n}function decodeChunk(e,t,r){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=bufferShim.from(t,r)),t}function writeOrBuffer(e,t,r,i,n){r=decodeChunk(t,r,i),Buffer.isBuffer(r)&&(i="buffer");var s=t.objectMode?1:r.length;t.length+=s;var o=t.length<t.highWaterMark;if(o||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest=new WriteReq(r,i,n),u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,s,r,i,n);return o}function doWrite(e,t,r,i,n,s,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,s,t.onwrite),t.sync=!1}function onwriteError(e,t,r,i,n){--t.pendingcb,r?processNextTick(n,i):n(i),e._writableState.errorEmitted=!0,e.emit("error",i)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(onwriteStateUpdate(r),t)onwriteError(e,r,i,t,n);else{var s=needFinish(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),i?asyncWrite(afterWrite,e,r,s,n):afterWrite(e,r,s,n)}}function afterWrite(e,t,r,i){r||onwriteDrain(e,t),t.pendingcb--,i(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var o=0;r;)n[o]=r,r=r.next,o+=1;doWrite(e,t,!0,t.length,n,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new CorkedRequest(t)}else{for(;r;){var u=r.chunk,f=r.encoding,a=r.callback,c=t.objectMode?1:u.length;if(doWrite(e,t,!1,c,u,f,a),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function prefinish(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function finishMaybe(e,t){var r=needFinish(t);return r&&(0===t.pendingcb?(prefinish(e,t),t.finished=!0,e.emit("finish")):prefinish(e,t)),r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?processNextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}module.exports=Writable;var processNextTick=_dereq_("process-nextick-args"),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick,Duplex;Writable.WritableState=WritableState;var util=_dereq_("core-util-is");util.inherits=_dereq_("inherits");var internalUtil={deprecate:_dereq_("util-deprecate")},Stream;!function(){try{Stream=_dereq_("stream")}catch(e){}finally{Stream||(Stream=_dereq_("events").EventEmitter)}}();var Buffer=_dereq_("buffer").Buffer,bufferShim=_dereq_("buffer-shims");util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var realHasInstance;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){return!!realHasInstance.call(this,e)||e&&e._writableState instanceof WritableState}})):realHasInstance=function(e){return e instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(e,t,r){var i=this._writableState,n=!1;return"function"==typeof t&&(r=t,t=null),Buffer.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=nop),i.ended?writeAfterEnd(this,r):validChunk(this,i,e,r)&&(i.pendingcb++,n=writeOrBuffer(this,i,e,t,r)),n},Writable.prototype.cork=function(){var e=this._writableState;e.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Writable.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||endWritable(this,i,r)};
}).call(this,_dereq_('_process'))

},{"./_stream_duplex":342,"_process":340,"buffer":140,"buffer-shims":348,"core-util-is":349,"events":337,"inherits":338,"process-nextick-args":351,"stream":357,"util-deprecate":352}],347:[function(_dereq_,module,exports){
"use strict";function BufferList(){this.head=null,this.tail=null,this.length=0}var Buffer=_dereq_("buffer").Buffer,bufferShim=_dereq_("buffer-shims");module.exports=BufferList,BufferList.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},BufferList.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,i=""+e.data;e=e.next;)i+=t+e.data;return i},BufferList.prototype.concat=function(t){if(0===this.length)return bufferShim.alloc(0);if(1===this.length)return this.head.data;for(var e=bufferShim.allocUnsafe(t>>>0),i=this.head,h=0;i;)i.data.copy(e,h),h+=i.data.length,i=i.next;return e};
},{"buffer":140,"buffer-shims":348}],348:[function(_dereq_,module,exports){
(function (global){
"use strict";var buffer=_dereq_("buffer"),Buffer=buffer.Buffer,SlowBuffer=buffer.SlowBuffer,MAX_LEN=buffer.kMaxLength||2147483647;exports.alloc=function(r,e,f){if("function"==typeof Buffer.alloc)return Buffer.alloc(r,e,f);if("number"==typeof f)throw new TypeError("encoding must not be number");if("number"!=typeof r)throw new TypeError("size must be a number");if(r>MAX_LEN)throw new RangeError("size is too large");var n=f,o=e;void 0===o&&(n=void 0,o=0);var t=new Buffer(r);if("string"==typeof o)for(var u=new Buffer(o,n),i=u.length,a=-1;++a<r;)t[a]=u[a%i];else t.fill(o);return t},exports.allocUnsafe=function(r){if("function"==typeof Buffer.allocUnsafe)return Buffer.allocUnsafe(r);if("number"!=typeof r)throw new TypeError("size must be a number");if(r>MAX_LEN)throw new RangeError("size is too large");return new Buffer(r)},exports.from=function(r,e,f){if("function"==typeof Buffer.from&&(!global.Uint8Array||Uint8Array.from!==Buffer.from))return Buffer.from(r,e,f);if("number"==typeof r)throw new TypeError('"value" argument must not be a number');if("string"==typeof r)return new Buffer(r,e);if("undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer){var n=e;if(1===arguments.length)return new Buffer(r);"undefined"==typeof n&&(n=0);var o=f;if("undefined"==typeof o&&(o=r.byteLength-n),n>=r.byteLength)throw new RangeError("'offset' is out of bounds");if(o>r.byteLength-n)throw new RangeError("'length' is out of bounds");return new Buffer(r.slice(n,n+o))}if(Buffer.isBuffer(r)){var t=new Buffer(r.length);return r.copy(t,0,0,r.length),t}if(r){if(Array.isArray(r)||"undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return new Buffer(r);if("Buffer"===r.type&&Array.isArray(r.data))return new Buffer(r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},exports.allocUnsafeSlow=function(r){if("function"==typeof Buffer.allocUnsafeSlow)return Buffer.allocUnsafeSlow(r);if("number"!=typeof r)throw new TypeError("size must be a number");if(r>=MAX_LEN)throw new RangeError("size is too large");return new SlowBuffer(r)};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"buffer":140}],349:[function(_dereq_,module,exports){
(function (Buffer){
function isArray(r){return Array.isArray?Array.isArray(r):"[object Array]"===objectToString(r)}function isBoolean(r){return"boolean"==typeof r}function isNull(r){return null===r}function isNullOrUndefined(r){return null==r}function isNumber(r){return"number"==typeof r}function isString(r){return"string"==typeof r}function isSymbol(r){return"symbol"==typeof r}function isUndefined(r){return void 0===r}function isRegExp(r){return"[object RegExp]"===objectToString(r)}function isObject(r){return"object"==typeof r&&null!==r}function isDate(r){return"[object Date]"===objectToString(r)}function isError(r){return"[object Error]"===objectToString(r)||r instanceof Error}function isFunction(r){return"function"==typeof r}function isPrimitive(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||"undefined"==typeof r}function objectToString(r){return Object.prototype.toString.call(r)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer;
}).call(this,{"isBuffer":_dereq_("../../../../insert-module-globals/node_modules/is-buffer/index.js")})

},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":339}],350:[function(_dereq_,module,exports){
arguments[4][143][0].apply(exports,arguments)
},{"dup":143}],351:[function(_dereq_,module,exports){
(function (process){
"use strict";function nextTick(e,n,c,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var s,t,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,n)});case 3:return process.nextTick(function(){e.call(null,n,c)});case 4:return process.nextTick(function(){e.call(null,n,c,r)});default:for(s=new Array(o-1),t=0;t<s.length;)s[t++]=arguments[t];return process.nextTick(function(){e.apply(null,s)})}}!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports=nextTick:module.exports=process.nextTick;
}).call(this,_dereq_('_process'))

},{"_process":340}],352:[function(_dereq_,module,exports){
(function (global){
function deprecate(r,e){function o(){if(!t){if(config("throwDeprecation"))throw new Error(e);config("traceDeprecation")?console.trace(e):console.warn(e),t=!0}return r.apply(this,arguments)}if(config("noDeprecation"))return r;var t=!1;return o}function config(r){try{if(!global.localStorage)return!1}catch(r){return!1}var e=global.localStorage[r];return null!=e&&"true"===String(e).toLowerCase()}module.exports=deprecate;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],353:[function(_dereq_,module,exports){
module.exports=_dereq_("./lib/_stream_passthrough.js");
},{"./lib/_stream_passthrough.js":343}],354:[function(_dereq_,module,exports){
(function (process){
var Stream=function(){try{return _dereq_("stream")}catch(r){}}();exports=module.exports=_dereq_("./lib/_stream_readable.js"),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=_dereq_("./lib/_stream_writable.js"),exports.Duplex=_dereq_("./lib/_stream_duplex.js"),exports.Transform=_dereq_("./lib/_stream_transform.js"),exports.PassThrough=_dereq_("./lib/_stream_passthrough.js"),!process.browser&&"disable"===process.env.READABLE_STREAM&&Stream&&(module.exports=Stream);
}).call(this,_dereq_('_process'))

},{"./lib/_stream_duplex.js":342,"./lib/_stream_passthrough.js":343,"./lib/_stream_readable.js":344,"./lib/_stream_transform.js":345,"./lib/_stream_writable.js":346,"_process":340,"stream":357}],355:[function(_dereq_,module,exports){
module.exports=_dereq_("./lib/_stream_transform.js");
},{"./lib/_stream_transform.js":345}],356:[function(_dereq_,module,exports){
module.exports=_dereq_("./lib/_stream_writable.js");
},{"./lib/_stream_writable.js":346}],357:[function(_dereq_,module,exports){
function Stream(){EE.call(this)}module.exports=Stream;var EE=_dereq_("events").EventEmitter,inherits=_dereq_("inherits");inherits(Stream,EE),Stream.Readable=_dereq_("readable-stream/readable.js"),Stream.Writable=_dereq_("readable-stream/writable.js"),Stream.Duplex=_dereq_("readable-stream/duplex.js"),Stream.Transform=_dereq_("readable-stream/transform.js"),Stream.PassThrough=_dereq_("readable-stream/passthrough.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(e,r){function t(r){e.writable&&!1===e.write(r)&&m.pause&&m.pause()}function n(){m.readable&&m.resume&&m.resume()}function a(){u||(u=!0,e.end())}function o(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function i(e){if(s(),0===EE.listenerCount(this,"error"))throw e}function s(){m.removeListener("data",t),e.removeListener("drain",n),m.removeListener("end",a),m.removeListener("close",o),m.removeListener("error",i),e.removeListener("error",i),m.removeListener("end",s),m.removeListener("close",s),e.removeListener("close",s)}var m=this;m.on("data",t),e.on("drain",n),e._isStdio||r&&r.end===!1||(m.on("end",a),m.on("close",o));var u=!1;return m.on("error",i),e.on("error",i),m.on("end",s),m.on("close",s),e.on("close",s),e.emit("pipe",m),e};
},{"events":337,"inherits":338,"readable-stream/duplex.js":341,"readable-stream/passthrough.js":353,"readable-stream/readable.js":354,"readable-stream/transform.js":355,"readable-stream/writable.js":356}],358:[function(_dereq_,module,exports){
function assertEncoding(e){if(e&&!isBufferEncoding(e))throw new Error("Unknown encoding: "+e)}function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var Buffer=_dereq_("buffer").Buffer,isBufferEncoding=Buffer.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},StringDecoder=exports.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};StringDecoder.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";e=e.slice(r,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var h=t.charCodeAt(t.length-1);if(!(h>=55296&&h<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,h=t.charCodeAt(i);if(h>=55296&&h<=56319){var c=this.surrogateSize;return this.charLength+=c,this.charReceived+=c,this.charBuffer.copy(this.charBuffer,c,0,c),e.copy(this.charBuffer,0,0,c),t.substring(0,i)}return t},StringDecoder.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},StringDecoder.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,h=this.charBuffer,i=this.encoding;t+=h.slice(0,r).toString(i)}return t};
},{"buffer":140}],359:[function(_dereq_,module,exports){
function Context(){}var indexOf=_dereq_("indexof"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(e){return this instanceof Script?void(this.code=e):new Script(e)};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,o=r.execScript;!n&&o&&(o.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var c=Object_keys(r),i=n.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||indexOf(c,t)===-1)&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),i},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t};
},{"indexof":360}],360:[function(_dereq_,module,exports){
var indexOf=[].indexOf;module.exports=function(e,n){if(indexOf)return e.indexOf(n);for(var r=0;r<e.length;++r)if(e[r]===n)return r;return-1};
},{}],361:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../../toolkit/src/core/ttk.js");_dereq_("../../toolkit/src/core/object.js"),_dereq_("../../toolkit/src/core/view.js"),_dereq_("../../toolkit/src/core/model.js"),_dereq_("../../toolkit/src/widget/editinplace.js");var TCN=_dereq_("./tcn.js");TCN.ToucanoContactView=function(){var e=TTk.Object.privateStore(),o=function(o){this.initView();var a=e(this);a.model=null,a.dataBind={model:{"contact-main-h":t+"contact-main-h","contact-main-p":t+"contact-main-p","dialog1-h1":t+"dialog1-h1","dialog1-h2":t+"dialog1-h2",telno:t+"telno","dialog1-h3":t+"dialog1-h3","dialog1-em1":t+"dialog1-em1","dialog1-em2":t+"dialog1-em2","dialog1-em3":t+"dialog1-em3","dialog1-h4":t+"dialog1-h4","dialog1-add":t+"dialog1-add","reg-p":t+"reg-p"}}};o.CSS_CLASS=TCN.CSS_PREFIX+"cntc";var t=o.CSS_CLASS+"-";TTk.View.call(o.prototype,e);var a="AIzaSyAjqXW4CeWIRF5XFlQu-lndXkLmM29wyBQ";o.prototype.render=function(o){var t=this,a=e(this);if(!a.model)return void TTk.ComponentGroup.GLOBAL.execAction("model-query",{class:TCN.ContactModel.CLASS}).then(function(e){a.model=e&&e.result?e.result[0]:null,a.model||(a.model=new TCN.ContactModel),t.render()},function(e){console.warn("Failed to query model",e),a.model=new TCN.ContactModel,t.render()});a.frame||n.call(t),TCN.ToucanoSite.enableEdit(a);var i="Contact";window.ga("set","page",i),window.ga("send","pageview")};var n=function(){var o=e(this);o.appendElements([{T:"section",id:"contact-main",class:"hero cf",C:[{class:"content",C:[{class:"copy left-70",C:[{T:"h2",class:t+"contact-main-h",C:"We’re based in London, UK. Wherever you are, we can help."},{T:"p",C:[{T:"span",class:t+"contact-main-p",C:"Contact us and we’ll set up a WebEx meeting to discuss your visualisation needs."}]},{id:"googlemap"}]},{class:"copy right-30",C:[{class:"dialog1",C:[{T:"h3",class:t+"dialog1-h1",C:"Our Details"},{T:"h4",class:t+"dialog1-h2",C:"Phone"},{T:"a",class:t+"telno",href:"tel:+442071181212",C:"+44 (0)20 7118 1212"},{T:"h4",class:t+"dialog1-h3",C:"Email"},{T:"a",class:t+"dialog1-em1",href:"mailto:info@toucano.uk",C:"info@toucano.uk"},{T:"br"},{T:"a",class:t+"dialog1-em2",href:"mailto:support@toucano.uk",C:"support@toucano.uk <br>"},{T:"br"},{T:"a",class:t+"dialog1-em3",href:"mailto:jobs@toucano.uk",C:"jobs@toucano.uk "},{T:"br"},{T:"h4",class:t+"dialog1-h4",C:"Address"},{T:"p",class:t+"dialog1-add",C:"4 Crown Place <br> London <br> United Kingdom <br> EC2A 4BT"}]}]}]}]},{T:"section",class:"reg-cpn",C:{T:"span",class:t+"reg-p",C:"Toucano Services Ltd is a company registered in England and Wales. Registered number: 10304573"}},{T:"script",src:"https://maps.googleapis.com/maps/api/js?key="+a+"&callback=initMap",async:"",defer:""}]),o.model.onEvent("model-changed",function(e){"dialog1-em1"===e.key&&(o.nodes[t+"dialog1-em1"].href="mailto:"+o.model.prop("dialog1-em1")),"dialog1-em2"===e.key&&(o.nodes[t+"dialog1-em2"].href="mailto:"+o.model.prop("dialog1-em2")),"dialog1-em3"===e.key&&(o.nodes[t+"dialog1-em3"].href="mailto:"+o.model.prop("dialog1-em3")),"telno"===e.key&&(o.nodes[t+"telno"].href="tel:"+o.model.prop("telno"))}),o.nodes[t+"telno"].addEventListener("click",function(){window.ga("send",{hitType:"event",eventCategory:"Contact Page Action",eventAction:"Telephone Number Clicked",eventLabel:"Call Now"})});for(var n=1;n<4;n++)o.nodes[t+"dialog1-em"+n].addEventListener("click",function(){window.ga("send",{hitType:"event",eventCategory:"Contact Page Action",eventAction:"Email Link Clicked",eventLabel:"Send Email"})})};return o}(),TCN.ContactModel=function(){var e=TTk.Object.privateStore(),o=function(e,o){this.initModel(e,o,!0)};return o.CLASS="TCN.ContactModel",o.PROPS={imgPlaceHolder:{t:"string",d:"images/index/placeholder.png"},heroCenterp1:{t:"string",d:"You want an analytics solution built entirely around the needs of your business."},heroCenterp2:{t:"string",d:'We have <span style="color:#dd3409"> TWO </span> great offerings to help you do that.'},"contact-main-h":{t:"string",d:"We’re based in London, UK. Wherever you are, we can help."},"contact-main-p":{t:"string",d:"Contact us and we’ll set up a WebEx meeting to discuss your visualisation needs."},"dialog1-h1":{t:"string",d:"Our Details"},"dialog1-h2":{t:"string",d:"Phone"},telno:{t:"string",d:"+44 (0)20 7118 1212"},"dialog1-h3":{t:"string",d:"Email"},"dialog1-em1":{t:"string",d:"info@toucano.uk "},"dialog1-em2":{t:"string",d:"support@toucano.uk "},"dialog1-em3":{t:"string",d:"jobs@toucano.uk"},"dialog1-h4":{t:"string",d:"Address"},"dialog1-add":{t:"string",d:"4 Crown Place <br>London <br>United Kingdom <br>EC2A 4BT"},"reg-p":{t:"string",d:"Toucano Services Ltd is a company registered in England and Wales. Registered number: 10304573"}},TTk.Model.call(o.prototype,e),o}();
},{"../../toolkit/src/core/model.js":88,"../../toolkit/src/core/object.js":90,"../../toolkit/src/core/ttk.js":103,"../../toolkit/src/core/view.js":109,"../../toolkit/src/widget/editinplace.js":138,"./tcn.js":372}],362:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../../toolkit/src/core/ttk.js");_dereq_("../../toolkit/src/core/object.js"),_dereq_("../../toolkit/src/core/view.js"),_dereq_("../../toolkit/src/core/model.js"),_dereq_("../../toolkit/src/widget/editinplace.js");var TCN=_dereq_("./tcn.js");TCN.ToucanoCustomView=function(){var e=TTk.Object.privateStore(),s=function(s){this.initView();var a=e(this);a.model=null,a.dataBind={model:{"ss1-header":t+"ss1-header","ss1-pr1":t+"ss1-pr1","ss1-pr2":t+"ss1-pr2","ss1-pr3":t+"ss1-pr3","banner1-h":t+"banner1-h","ss2-header1":t+"ss2-header1","ss2-pr1":t+"ss2-pr1","ss2-header2":t+"ss2-header2","ss2-pr2":t+"ss2-pr2","ss3-header1":t+"ss3-header1","ss3-li1":t+"ss3-li1","ss3-li2":t+"ss3-li2","ss3-li3":t+"ss3-li3","ss3-r-p1":t+"ss3-r-p1","ss3-r-p2":t+"ss3-r-p2","banner2-h":t+"banner2-h","contacus-p":t+"contacus-p"}}};s.CSS_CLASS=TCN.CSS_PREFIX+"cstm";var t=s.CSS_CLASS+"-";TTk.View.call(s.prototype,e),s.prototype.render=function(s){var t=this,o=e(this);if(!o.model)return void TTk.ComponentGroup.GLOBAL.execAction("model-query",{class:TCN.CustomModel.CLASS}).then(function(e){o.model=e&&e.result?e.result[0]:null,o.model||(o.model=new TCN.CustomModel),t.render()},function(e){console.warn("Failed to query model",e),o.model=new TCN.CustomModel,t.render()});o.frame||a.call(t),TCN.ToucanoSite.enableEdit(o);var n="Custom";window.ga("set","page",n),window.ga("send","pageview")};var a=function(){var s=e(this);s.appendElements([{T:"section",id:"custom-analytics",class:"hero cf",C:[{class:"content",C:[{class:"copy",C:[{T:"h2",class:t+"ss1-header header-custom",C:"Custom Analytics"},{T:"br"},{T:"p",C:{T:"span",class:t+"ss1-pr1",C:"Out of the box just won't do for your data application."}},{T:"p",class:t+"ss1-pr2",C:"Your experience also tells you that custom visualisation and analytics have a nasty habit of overrun. That’s were we come in."},{T:"p",class:t+"ss1-pr3",C:"We don’t reinvent the wheel – we already have reusable components that we use to accelerate your projects."},{T:"a",href:"#gallery-video",C:[{T:"span",class:t+"ss1-link",C:"Show Gallery"},{T:"strong",C:"»"}]}]},{T:"img",class:"imgnormal",src:"images/custom/Custom-Analytics.jpg"}]}]},{T:"section",class:"hero cf banner",id:"a-real-life",C:[{T:"div",class:"content",C:[{T:"h2",class:t+"banner1-h",C:"A REAL LIFE USE CASE: "}]}]},{T:"section",id:"custom-rl-solution",class:"hero cf",C:[{class:"content",C:[{class:"copy",C:[{T:"h4",class:t+"ss2-header1",C:"CHALLENGE"},{T:"p",class:t+"ss2-pr1",C:"River Logic, a leading predictive analytics vendor, needed a complex visualisation for their latest product. It needed to be reusable, configurable and have a high level of user interaction."},{T:"br"},{T:"h4",class:t+"ss2-header2",C:"SOLUTION"},{T:"p",C:{T:"span",class:t+"ss2-pr2",C:"We worked closely with the client‘s development and design teams to rapidly build the module to exacting designs through a series of iterations. The result – a beautifully animated visualisation that combines dynamic navigation with live data."}}]},{T:"img",class:"imgnormal",src:"images/custom/CustomVideo.png"}]}]},{T:"section",id:"custom-rl-result",class:"hero cf",C:[{class:"content",C:[{class:"copy left-60",C:[{T:"h4",class:t+"ss3-header1",C:"THE RESULT"},{T:"ul",C:[{T:"li",C:{T:"span",class:t+"ss3-li1",C:"Highly cost effective – shorter build cycle and noongoing licence fee"}},{T:"li",C:{T:"span",class:t+"ss3-li2",C:"Reusable – the visualisation can be used across the RiverLogic product suite"}},{T:"li",C:{T:"span",class:t+"ss3-li3",C:"Fully documented and supported"}}]},{T:"img",class:"imgnormal",src:"images/custom/CustomAnalyze.png"}]},{class:"copy right-30",C:[{class:"dialog1",C:{T:"p",class:t+"ss3-r-p1",C:"“The team did a superb job of accelerating our development around complex visualisations. They delivered on time and to a very high standard.” <br> Peter Bull (Chief Technology Officer - River Logic Inc.)"}},{class:"dialog2",C:[{T:"p",class:t+"ss3-r-p2",C:"River Logic goes down a storm at the 2016 Gartner Supply Chain Conference in Phoenix:"},{T:"img",src:"images/custom/custom-riverlogic.png"}]}]}]}]},{T:"section",id:"we-help",class:"hero cf banner",C:[{T:"h3",class:t+"banner2-h",C:"We help clients and ISVs in sectors from Finance, Manufacturing and Oil & Energy."}]},{T:"section",id:"contactus",class:"hero cf",C:{class:"content",C:[{class:"copy",C:[{T:"p",class:t+"contacus-p",C:"For a demo and to learn how we could help your project"}]},{class:"btcontact",C:{T:"button",class:"bt-contact",C:"Please Contact Us"}}]}}]),s.nodes["bt-contact"].addEventListener("click",function(){window.ga("send",{hitType:"event",eventCategory:"Custom Action",eventAction:"Button Click",eventLabel:"Contact Us"});var e="#contact-main";window.location.hash=e})};return s}(),TCN.CustomModel=function(){var e=TTk.Object.privateStore(),s=function(e,s){this.initModel(e,s,!0)};return s.CLASS="TCN.CustomModel",s.PROPS={heroCenterp1:{t:"string",d:"You want an analytics solution built entirely around the needs of your business."},heroCenterp2:{t:"string",d:'We have <span style="color:#dd3409"> TWO </span> great offerings to help you do that.'},"ss1-header":{t:"string",d:"Custom Analytics"},"ss1-pr1":{t:"string",d:"Out of the box just won't do for your data application."},"ss1-pr2":{t:"string",d:"Your experience also tells you that custom visualisation and analytics have a nasty habit of overrun. That’s were we come in."},"ss1-pr3":{t:"string",d:"We don’t reinvent the wheel – we already have reusable components that we use to accelerate your projects."},"banner1-h":{t:"string",d:"A REAL LIFE USE CASE:"},"ss2-header1":{t:"string",d:"CHALLENGE"},"ss2-pr1":{t:"string",d:"River Logic, a leading predictive analytics vendor, needed a complex visualisation for their latest product. It needed to be reusable, configurable and have a high level of user interaction."},"ss2-header2":{t:"string",d:"SOLUTION"},"ss2-pr2":{t:"string",d:"We worked closely with the client‘s development and design teams to rapidly build the module to exacting designs through a series of iterations. The result – a beautifully animated visualisation that combines dynamic navigation with live data."},"ss3-header1":{t:"string",d:"THE RESULT"},"ss3-li1":{t:"string",d:"Highly cost effective – shorter build cycle and noongoing licence fee"},"ss3-li2":{t:"string",d:"Reusable – the visualisation can be used across the RiverLogic product suite"},"ss3-li3":{t:"string",d:"Fully documented and supported"},"ss3-r-p1":{t:"string",d:"“The team did a superb job of accelerating our development around complex visualisations. They delivered on time and to a very high standard.” Peter Bull (Chief Technology Officer - River Logic Inc.)"},"ss3-r-p2":{t:"string",d:"River Logic goes down a storm at the 2016 Gartner Supply Chain Conference in Phoenix:"},"banner2-h":{t:"stirng",d:"We help clients and ISVs in sectors from Finance, Manufacturing and Oil & Energy."},"contacus-p":{t:"string",d:"For a demo and to learn how we could help your project"}},TTk.Model.call(s.prototype,e),s}();
},{"../../toolkit/src/core/model.js":88,"../../toolkit/src/core/object.js":90,"../../toolkit/src/core/ttk.js":103,"../../toolkit/src/core/view.js":109,"../../toolkit/src/widget/editinplace.js":138,"./tcn.js":372}],363:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../../toolkit/src/core/ttk.js");_dereq_("../../toolkit/src/core/object.js"),_dereq_("../../toolkit/src/core/view.js"),_dereq_("../../toolkit/src/core/model.js"),_dereq_("../../toolkit/src/widget/editinplace.js");var TCN=_dereq_("./tcn.js");TCN.ToucanoDashboardsView=function(){var e=TTk.Object.privateStore(),a=function(a){this.initView();var t=e(this);t.model=null,t.dataBind={model:{dashboardsHeroHeader:s+"dashboardsHeroHeader","ss1a-para":s+"ss1a-para","ss1b-para":s+"ss1b-para","ss1c-para":s+"ss1c-para","ss1-para":s+"ss1-para","ss2-header":s+"ss2-header","ss2-para":s+"ss2-para","ss2a-para":s+"ss2a-para","ss3-header":s+"ss3-header","ss3-para":s+"ss3-para","ss3a-para":s+"ss3a-para","ss4-header":s+"ss4-header","ss4-para1":s+"ss4-para1","ss4a-para1":s+"ss4a-para1","ss5-header":s+"ss5-header","ss5-para":s+"ss5-para","ss5a-para":s+"ss5a-para","ss7-header":s+"ss7-header","ss7-para1":s+"ss7-para1","ss7-para2":s+"ss7-para2","ss8-header1":s+"ss8-header1","ss8-header2":s+"ss8-header2","ss8-paraleft":s+"ss8-paraleft","ss8-pararight":s+"ss8-pararight","banner-para1":s+"banner-para1","contactus-para":s+"contactus-para","ss1-link":s+"ss1-link"}}};a.CSS_CLASS=TCN.CSS_PREFIX+"dsbo";var s=a.CSS_CLASS+"-";TTk.View.call(a.prototype,e),a.prototype.render=function(a){var s=this,o=e(this);if(!o.model)return void TTk.ComponentGroup.GLOBAL.execAction("model-query",{class:TCN.DashboardsModel.CLASS}).then(function(e){o.model=e&&e.result?e.result[0]:null,o.model||(o.model=new TCN.DashboardsModel),s.render()},function(e){console.warn("Failed to query model",e),o.model=new TCN.DashboardsModel,s.render()});o.frame||t.call(s),TCN.ToucanoSite.enableEdit(o);var r="Dashboards";window.ga("set","page",r),window.ga("send","pageview")};var t=function(){var a=e(this);a.appendElements([{class:"contenthero",id:"embedded-hero",C:[{class:"content",C:[{T:"h1",class:s+"dashboardsHeroHeader",C:"We take care of your analytics "},{T:"img",id:"img-hero-dash",class:"",src:"images/dashboards/Dashboard-Hero.jpg"}]}]},{class:"top-title-div",id:"top-title-id",C:[{T:"p",C:{T:"span",class:s+"ss1a-para",C:"Fed up with expensive BI tools that don't integrate with your platforms? "}},{T:"p",C:{T:"span",class:s+"ss1b-para",C:"No expertise or time to build your own Business Intelligence tool? "}},{T:"p",C:{T:"span",class:s+"ss1c-para",C:"Now there's an alternative! "}}]},{T:"section",id:"embedded-top",class:"hero cf",C:[{class:"content",C:[{T:"img",class:"imgnormal",src:"images/dashboards/dashboard-2.jpg"},{class:"copy",C:[{T:"br"},{T:"p",C:{T:"span",class:s+"ss1-para",C:"Our modular approach allows you to rapidly build analytics, dashboards and reporting to your exact requirements. The solution is perfectly integrated into your existing application and there is no forward licencing model making it possible for all your customers to benefit from seamless analytics."}},{T:"a",href:"#gallery-img",C:[{T:"span",class:s+"ss1-link",C:"Show Gallery <strong>»</strong>"},{T:"strong",C:"»"}]}]}]}]},{T:"section",id:"embedded-is-it",class:"hero cf",C:[{class:"content",C:[{class:"copy",C:[{T:"h1",class:s+"ss8-header1",C:"Is it Software? Is it Developement Service?"},{T:"h2",class:s+"ss8-header2",C:"It's the best of both worlds."}]},{class:"fly-left",C:{T:"p",class:s+"ss8-paraleft",C:"We don't have to reinvent the wheel as we have an extensive set of interlocking software modules from data handling to visualisation."}},{class:"fly-right",C:{T:"p",class:s+"ss8-pararight",C:"This means that the core of your solution is already tried and tested allowing greatly reduced development times and repeatable success."}},{class:"img-center",C:{T:"img",class:"img-center imgnormal",src:"images/dashboards/dashboard-9.png"}}]}]},{T:"section",class:"banner",C:[{class:"content",C:[{T:"h3",class:s+"banner-para1",C:"Analytics Accelerator. What is it?"}]}]},{T:"section",id:"embedded-solution",class:"hero cf",C:{class:"content",C:{T:"img",src:"images/dashboards/dashboard-10.jpg"}}},{T:"section",id:"embedded-simple-to-use",class:"hero cf",C:[{class:"content",C:[{T:"img",class:"imgnormal",src:"images/dashboards/dashboard-3.png"},{class:"copy",C:[{T:"h2",class:s+"ss2-header",C:"Rapid Development"},{T:"br"},{T:"p",C:{T:"span",class:s+"ss3-para",C:"Our unique modular approach accelerates and de-risks the development cycle. Our tried and tested modules deliver rich animated visualisations, analytic capabilities and data integration components. Toucano’s cutting edge dashboard components can be tailored and styled to your exact requirements. We can deploy to any infrastructure from desktop to mobile, on premise or in the cloud."}},{T:"p",C:{T:"span",class:s+"ss3a-para",C:""}}]}]}]},{T:"section",id:"embedded-flex-config",class:"hero cf",C:[{class:"content",C:[{class:"copy",C:[{T:"h2",class:s+"ss3-header",C:"Self Service"},{T:"br"},{T:"p",C:{T:"span",class:s+"ss2-para",C:"Dashboards start with the Toucano Dashboard Designer. The Designer has been designed for both expert users and novices alike. No coding is required and it can be used to provide self service capabilities with users creating and saving their own dashboards and views of their data."}},{T:"p",C:{T:"span",class:s+"ss2a-para",C:""}}]},{T:"img",class:"imgnormal",src:"images/thumbs/viewer/05.png"}]}]},{T:"section",id:"embedded-mobile",class:"hero cf",C:[{class:"content",C:[{T:"img",class:"imgnormal",src:"images/dashboards/dashboard-6.png"},{class:"copy",C:[{T:"h2",class:s+"ss5-header",C:"Mobile"},{T:"br"},{T:"p",C:{T:"span",class:s+"ss5-para",C:"Our unique modular approach accelerates and de-risks the development cycle. Our tried and tested modules deliver rich animated visualisations, analytic capabilities and data integration components. Toucano’s cutting edge dashboard components can be tailored and styled to your exact requirements. We can deploy to any infrastructure from desktop to mobile, on premise or in the cloud."}},{T:"p",C:{T:"span",class:s+"ss5a-para",C:""}}]}]}]},{T:"section",id:"embedded-total-custom",class:"hero cf",C:[{class:"content",C:[{class:"copy",C:[{T:"h2",class:s+"ss4-header",C:"White Labelling"},{T:"br"},{T:"p",C:{T:"span",class:s+"ss4-para1",C:"Toucano allows configuration down to every last pixel through the use of themes, and access to all CSS and HTML. This allows your analytics to be seamless and consistent with your application look and feel, branding and user experience. We don’t stop at colours or font types; absolutely everything can be customised from the shape of bars in a chart to the thickness of grid lines. As far as the user is concerned the application and the analytics are one solution."}},{T:"p",C:{T:"span",class:s+"ss4a-para1",C:""}}]},{T:"img",class:"imgnormal",src:"images/dashboards/dashboard-5.png"}]}]},{T:"section",id:"dash-7",class:"hero cf section-copy-right",C:[{class:"content",C:[{T:"img",class:"imgnormal",src:"images/dashboards/dashboard-8.png"},{class:"copy",C:[{T:"h2",class:s+"ss7-header",C:"Extensible and Secure"},{T:"br"},{T:"p",C:{T:"span",class:s+"ss7-para1",C:"We use an extensible open architecture with the latest cutting edge web technologies, including D3 visualisations. Functionality from visualisation, data handling and work flow can all be extended. Even without coding developers have a wide range of configurations at their fingertips. Toucano dashboards have a row level authorisation component that can be integrated into your own authentication layer."}},{T:"p",C:{T:"span",class:s+"ss7-para2",C:"We create our dashboard and data modules so that they can be customised down to the lowest level. If you need a custom visualisation to support your business than we can rapidly create that for you and integrate it into the dashboard designer."}}]}]}]},{T:"section",id:"contactus",class:"hero cf",C:{class:"content",C:[{class:"copy",C:[{T:"p",class:s+"contactus-para",C:"For a demo and to learn how we could help your project"}]},{class:"btcontact",C:{T:"button",class:"bt-contact",C:"Please Contact Us"}}]}}]),a.nodes["bt-contact"].addEventListener("click",function(){window.ga("send",{hitType:"event",eventCategory:"Dashboard Action",eventAction:"Button Click",eventLabel:"Contact Us"});var e="#contact-main";window.location.hash=e})};return a}(),TCN.DashboardsModel=function(){var e=TTk.Object.privateStore(),a=function(e,a){this.initModel(e,a,!0)};return a.CLASS="TCN.DashboardsModel",a.PROPS={dashboardsHeroHeader:{t:"string",d:"We take care of your analytics "},"ss1a-para":{t:"string",d:"Fed up with expensive BI tools that don't integrate with your platforms? "},"ss1b-para":{t:"string",d:"No expertise or time to build your own Business Intelligence tool? "},"ss1c-para":{t:"string",d:"Now there's an alternative! "},"ss1-para":{t:"string",d:"Our modular approach allows you to rapidly build analytics, dashboards and reporting to your exact requirements. The solution is perfectly integrated into your existing application and there is no forward licencing model making it possible for all your customers to benefit from seamless analytics."},"ss2-header":{t:"string",d:"Rapid Development"},"ss2-para":{t:"string",d:"Our unique modular approach accelerates and de-risks the development cycle. Our tried and tested modules deliver rich animated visualisations, analytic capabilities and data integration components. Toucano’s cutting edge dashboard components can be tailored and styled to your exact requirements. We can deploy to any infrastructure from desktop to mobile, on premise or in the cloud."},"ss2a-para":{t:"string",d:"---"},"ss3-header":{t:"string",d:"Self Service"},"ss3-para":{t:"string",d:"Dashboards start with the Toucano Dashboard Designer. The Designer has been designed for both expert users and novices alike. No coding is required and it can be used to provide self service capabilities with users creating and saving their own dashboards and views of their data."},"ss3a-para":{t:"string",d:"---"},"ss4-header":{t:"string",d:"White Labelling"},"ss4-para1":{t:"string",d:"Toucano allows configuration down to every last pixel through the use of themes, and access to all CSS and HTML. This allows your analytics to be seamless and consistent with your application look and feel, branding and user experience. We don’t stop at colours or font types; absolutely everything can be customised from the shape of bars in a chart to the thickness of grid lines. As far as the user is concerned the application and the analytics are one solution."},"ss4a-para1":{t:"string",d:"---"},"ss5-header":{t:"string",d:"Mobile"},"ss5-para":{t:"string",d:"Dashboards start with the Toucano Dashboard Designer. The Designer has been designed for both expert users and novices alike. If required it can be used to provide self service capabilities with users creating and saving their own dashboards and views of their data."},"ss5a-para":{t:"string",d:"---"},"ss6-header":{t:"string",d:"Workflow"},"ss6-para":{t:"string",d:"Toucano allows configuration down to every last pixel through the use of themes, and access to all CSS and HTML. This allows your analytics to be seamless and consistent with your application look and feel, branding and user experience. We don’t stop at colours or font types; absolutely everything can be customised from the shape of bars in a chart to the thickness of grid lines. As far as the user is concerned the application and the analytics are one solution."},"ss7-header":{t:"string",d:"Extensible and Secure"},"ss7-para1":{t:"string",d:"We use an extensible open architecture with the latest cutting edge web technologies, including D3 visualisations. Functionality from visualisation, data handling and work flow can all be extended. Even without coding developers have a wide range of configurations at their fingertips. Toucano dashboards have a row level authorisation component that can be integrated into your own authentication layer."},"ss7-para2":{t:"string",d:"We create our dashboard and data modules so that they can be customised down to the lowest level. If you need a custom visualisation to support your business than we can rapidly create that for you and integrate it into the dashboard designer."},"ss8-header1":{t:"string",d:"Is it Software? Is it Developement Service?"},"ss8-header2":{t:"string",d:"It's the best of both worlds."},"ss8-paraleft":{t:"string",d:"We don't have to reinvent the wheel as we have an extensive set of interlocking software modules from data handling to visualisation."},"ss8-pararight":{t:"string",d:"This means that the core of your solution is already tried and tested allowing greatly reduced development times and repeatable success."},"banner-para1":{t:"string",d:"Analytics Accelerator. What is it?"},"contactus-para":{t:"string",d:"For a demo and to learn how we could help your project"},"ss1-link":{t:"string",d:"Show Gallery"}},TTk.Model.call(a.prototype,e),a}();
},{"../../toolkit/src/core/model.js":88,"../../toolkit/src/core/object.js":90,"../../toolkit/src/core/ttk.js":103,"../../toolkit/src/core/view.js":109,"../../toolkit/src/widget/editinplace.js":138,"./tcn.js":372}],364:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../../toolkit/src/core/ttk.js");_dereq_("../../toolkit/src/core/polyfill.js"),_dereq_("../../toolkit/src/persist/firebase.js");var TCN=_dereq_("./tcn.js");_dereq_("./main.js"),TTk.ClientUtils.import("https://www.gstatic.com/firebasejs/3.5.0/firebase.js").then(function(){TTk.Firebase.start({apiKey:"AIzaSyCEfUqoadG4ESIywPJ35tUjQdYAirnjMLA",authDomain:"toucanosite.firebaseapp.com",databaseURL:"https://toucanosite.firebaseio.com",storageBucket:"toucanosite.appspot.com",messagingSenderId:"813513631401"}),TCN.ToucanoSite.instance=new TCN.ToucanoSite});
},{"../../toolkit/src/core/polyfill.js":93,"../../toolkit/src/core/ttk.js":103,"../../toolkit/src/persist/firebase.js":112,"./main.js":370,"./tcn.js":372}],365:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../../toolkit/src/core/ttk.js");_dereq_("../../toolkit/src/core/object.js"),_dereq_("../../toolkit/src/core/view.js"),_dereq_("../../toolkit/src/core/model.js"),_dereq_("../../toolkit/src/visual/visual-chart.js"),_dereq_("../../toolkit/src/visual/animate-transform.js"),_dereq_("../../toolkit/src/visual/interact-transform.js"),_dereq_("../../toolkit/src/visual/interact-mouse.js"),_dereq_("../../toolkit/src/visual/colour.js"),_dereq_("../../toolkit/src/visual/grid.js");var TCN=_dereq_("./tcn.js");TCN.Gallery3DBar=function(){var t=TTk.Object.privateStore(),e=function(e){this.initView();t(this)};e.CSS_CLASS=TCN.CSS_PREFIX+"glr-hc";var n=e.CSS_CLASS+"-";TTk.View.call(e.prototype,t),e.prototype.render=function(e){var n=t(this);n.frame||(a.call(this),o.call(this),r.call(this)),s.call(this);var c="gallery-honeycomb";window.ga("set","page",c),window.ga("send","pageview")};var a=function(){var e=t(this);e.appendElements([{T:"section",class:"tcn-top-content",C:[{T:"h1",class:"tcn-top-content-label",C:"3D Bar Chart"}]},{class:"tcn-main-content"},{T:"section",class:"tcn-help-content",C:[{T:"p",C:["Built by ",{T:"a",href:"https://toucano.uk/",C:"Toucano"}," using ",{T:"a",href:"https://d3js.org/",C:"D3"},". Find out about our ",{T:"a",href:"https://toucano.uk/#custom",C:"D3 Services"}]}]},{T:"section",id:"contactus",class:"hero cf",C:{class:"content",C:[{class:"copy",C:[{T:"p",class:n+"contacus-p",C:"For a demo and to learn how we could help your project"}]},{class:"btcontact",C:{T:"button",class:"bt-contact",C:"Please Contact Us"}}]}}]),this.frame().style.background="#f8fffe",e.nodes["tcn-top-content-label"].style.color="#888989",e.nodes["tcn-main-content"].classList.add("gallery-3dbar")},o=function(){var e=t(this);e.nodes["bt-contact"].addEventListener("click",function(){window.ga("send",{hitType:"event",eventCategory:"Custom Action",eventAction:"Button Click",eventLabel:"Contact Us"});var t="#contact-main";window.location.hash=t})},r=function(){for(var e=t(this),n=[0,20],a=[],o=n[0]+1;o<n[1];o++)for(var r=n[0]+1;r<n[1];r++)a.push([o,r,(Math.cos(.2*o)*Math.cos(.2*r)+1)*n[1]/2]);var c=d3.select(e.nodes["tcn-main-content"]).append("svg"),i=c.node().getBoundingClientRect().width<600,l=TTk.Projection.Persp3D().focal(1e3),u=TTk.Visual.Scatter3D().data(a).grid(TTk.Grid3D.FullBox().adaptive(!0)).autoScale(!0).points(null),o=d3.scale.linear().domain(n).range(i?[40,300]:[100,700]),r=d3.scale.linear().domain(n).range(i?[40,300]:[100,700]),d=d3.scale.linear().domain(n).range(i?[120,0]:[300,0]),h=u.context();h.x(o).y(r).z(d),h.projection(l);var v=function(){u.context().transform().yaw(Math.PI/6).pitch(.4)};v();var T=h.z().domain(),f=TTk.ColourScale("HUE1"),g=function(t){var e=t[2]/T[1];return{stroke:f(e)}};u.stocks().style(g),window.addEventListener("resize",function(){var t=c.node().getBoundingClientRect().width;t<600?(o.range([40,300]),r.range([40,300]),d.range([120,0])):(o.range([100,700]),r.range([100,700]),d.range([300,0])),h.x(o).y(r).z(d)});var p=TTk.Interact.Transform().transform(h.transform()).scale(!1).translate(!1).on("change",s.bind(this));c.call(p);var C=TTk.Animate.Transform().transform(h.transform()).on("change",s.bind(this)).suppress(p.isInteracting);C();e.chart=u,e.svg=c},s=function(){var e=t(this);e.svg.call(e.chart)};return e}();
},{"../../toolkit/src/core/model.js":88,"../../toolkit/src/core/object.js":90,"../../toolkit/src/core/ttk.js":103,"../../toolkit/src/core/view.js":109,"../../toolkit/src/visual/animate-transform.js":115,"../../toolkit/src/visual/colour.js":118,"../../toolkit/src/visual/grid.js":125,"../../toolkit/src/visual/interact-mouse.js":127,"../../toolkit/src/visual/interact-transform.js":128,"../../toolkit/src/visual/visual-chart.js":134,"./tcn.js":372}],366:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../../toolkit/src/core/ttk.js");_dereq_("../../toolkit/src/core/object.js"),_dereq_("../../toolkit/src/core/view.js"),_dereq_("../../toolkit/src/core/model.js"),_dereq_("../../toolkit/src/visual/visual-chart.js"),_dereq_("../../toolkit/src/visual/interact-hilight.js"),_dereq_("../../toolkit/src/visual/interact-transform.js"),_dereq_("../../toolkit/src/visual/interact-mouse.js");var TCN=_dereq_("./tcn.js");TCN.GalleryHoneycomb=function(){var t=TTk.Object.privateStore(),e=function(e){this.initView();t(this)};e.CSS_CLASS=TCN.CSS_PREFIX+"glr-hc";var n=e.CSS_CLASS+"-";TTk.View.call(e.prototype,t),e.prototype.render=function(e){var n=t(this);n.frame||(o.call(this),a.call(this),c.call(this)),i.call(this);var r="gallery-honeycomb";window.ga("set","page",r),window.ga("send","pageview")};var o=function(){var e=t(this);e.appendElements([{T:"section",class:"tcn-top-content",C:[{T:"h1",class:"tcn-top-content-label",C:"3D Honeycombs"}]},{class:"tcn-main-content"},{T:"section",class:"tcn-help-content",C:[{T:"p",C:["Built by ",{T:"a",href:"https://toucano.uk/",C:"Toucano"}," using ",{T:"a",href:"https://d3js.org/",C:"D3"},". Find out about our ",{T:"a",href:"https://toucano.uk/#custom",C:"D3 Services"}]}]},{T:"section",id:"contactus",class:"hero cf",C:{class:"content",C:[{class:"copy",C:[{T:"p",class:n+"contacus-p",C:"For a demo and to learn how we could help your project"}]},{class:"btcontact",C:{T:"button",class:"bt-contact",C:"Please Contact Us"}}]}}]),this.frame().style.background="#d1ebff",e.nodes["tcn-top-content-label"].style.color="#6d7373",e.nodes["tcn-main-content"].classList.add("gallery-honeycomb")},a=function(){var e=t(this);e.nodes["bt-contact"].addEventListener("click",function(){window.ga("send",{hitType:"event",eventCategory:"Custom Action",eventAction:"Button Click",eventLabel:"Contact Us"});var t="#contact-main";window.location.hash=t})},c=function(){for(var e=this,n=t(this),o=[0,7],a=[],c=Math.sqrt(3)/2,r=o[0]+1,s=0;r<o[1];s++,r+=c)for(var l=o[0]+(s%2?.5:1);l<o[1];l++){var u=o[1]/2;a.push({point:[l,r,1*u*(1+Math.cos(.3*l)*-Math.cos(.4*r))]})}var h=d3.select(n.nodes["tcn-main-content"]).append("svg"),d=h.node().getBoundingClientRect().width<600?40:81,p=TTk.Shape.Bar().base(TTk.Glyph2D.HEXAGON).unit([d,d]),v=TTk.Visual.Point().shape(p).autoScale(!0).data(a);v.context().transform().pitch(.5).yaw(.4);var l,r,f;l=d3.scale.linear().domain(o).range([150,650]),r=d3.scale.linear().domain(o).range([150,650]),f=d3.scale.linear().domain(o).range([250,0]);var T=v.context().x(l).y(r).z(f),C=T.y().domain(),g=d3.scale.linear().domain(C).range(["#bc964f","#bc964f"]),m=d3.scale.linear().domain(C).range(["#FFEFBB","#FFAD7B"]),y=function(t){return{stroke:g(t.point[1]),fill:m(t.point[1]),opacity:"1"}},k=function(t){m(t.point[1]);return{stroke:"#AAA",fill:"#FFEFBB",opacity:"1"}},b=function(t){return{stroke:"#CCC",fill:"#FFAD7B",opacity:"0.1"}},w=TTk.Interact.Hilight().on("change",function(){i.call(e)});v.hilight(w).style(y).styleHigh(y).styleSlice([null,k]).styleFade(b),window.addEventListener("resize",function(){var t=h.node().getBoundingClientRect().width;t<600?p.unit([40,40]):p.unit([81,81])});var S=TTk.Interact.Transform().transform(T.transform()).scale(!1).translate(!1).on("change",i.bind(this));h.call(S),n.chart=v,n.svg=h},i=function(){var e=t(this);e.svg.call(e.chart)};return e}();
},{"../../toolkit/src/core/model.js":88,"../../toolkit/src/core/object.js":90,"../../toolkit/src/core/ttk.js":103,"../../toolkit/src/core/view.js":109,"../../toolkit/src/visual/interact-hilight.js":126,"../../toolkit/src/visual/interact-mouse.js":127,"../../toolkit/src/visual/interact-transform.js":128,"../../toolkit/src/visual/visual-chart.js":134,"./tcn.js":372}],367:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../../toolkit/src/core/ttk.js");_dereq_("../../toolkit/src/core/object.js"),_dereq_("../../toolkit/src/core/view.js"),_dereq_("../../toolkit/src/core/model.js"),_dereq_("../../toolkit/src/visual/visual-mesh.js"),_dereq_("../../toolkit/src/visual/interact-mouse.js");var TCN=_dereq_("./tcn.js");TCN.GalleryTorus=function(){var t=TTk.Object.privateStore(),e=function(e){this.initView();t(this)};e.CSS_CLASS=TCN.CSS_PREFIX+"glr-tr";var o=e.CSS_CLASS+"-";TTk.View.call(e.prototype,t),e.prototype.render=function(e){var o=t(this);o.frame||(s.call(this),n.call(this),c.call(this)),i.call(this);var a="gallery-honeycomb";window.ga("set","page",a),window.ga("send","pageview")};var s=function(){var e=t(this);e.appendElements([{T:"section",class:"tcn-top-content",C:[{T:"h1",class:"tcn-top-content-label",C:"3D Interactive Torus"}]},{class:"tcn-main-content"},{T:"section",class:"tcn-help-content",C:[{T:"p",C:["Built by ",{T:"a",href:"https://toucano.uk/",C:"Toucano"}," using ",{T:"a",href:"https://d3js.org/",C:"D3"},". Find out about our ",{T:"a",href:"https://toucano.uk/#custom",C:"D3 Services"}]}]},{T:"section",id:"contactus",class:"hero cf",C:{class:"content",C:[{class:"copy",C:[{T:"p",class:o+"contacus-p",C:"For a demo and to learn how we could help your project"}]},{class:"btcontact",C:{T:"button",class:"bt-contact",C:"Please Contact Us"}}]}}]),this.frame().style.background="#0e0c16",e.nodes["tcn-top-content-label"].style.color="#646368",e.nodes["tcn-main-content"].classList.add("gallery-torus")},n=function(){var e=t(this);e.nodes["bt-contact"].addEventListener("click",function(){window.ga("send",{hitType:"event",eventCategory:"Custom Action",eventAction:"Button Click",eventLabel:"Contact Us"});var t="#contact-main";window.location.hash=t})},c=function(){var e=t(this),o=d3.select(e.nodes["tcn-main-content"]).append("svg").attr("class","meshnet click-close-tip").attr("id","d3-svg"),s=o.node().getBoundingClientRect().width<600?20:0,n=TTk.Mesh.Torus(0).rows(13).cols(16).value(5).nCats(3),c={r:25,g:100,b:255},i={r:255,g:200,b:153},a=TTk.Mesh().mesh(n).nodeNames(["Click to Remove Node","Click to Remove Node","Click to Remove Node"]).nodeCols([c,{r:111,g:88,b:163},{r:118,g:165,b:191}]).heatCol(i).linkCol(c).spheres(!1).nodeRadius(3).maxRadius(10).linkDist(10).linkOpacity(.5).maxDistCol(100).maxDistGrw(80).forceCharge(-30+s).forceGravity(.05);window.addEventListener("resize",function(){var t=e.nodes["tcn-main-content"];t.removeChild(t.childNodes[0]);var o=d3.select(t).append("svg").attr("class","meshnet click-close-tip").attr("id","d3-svg"),n=o.node().getBoundingClientRect().width;s=n<600?20:0,e.meshVis.forceCharge(-30+s),e.meshVis(o)}),e.meshVis=a,e.svg=o},i=function(){var e=t(this);e.meshVis(e.svg)};return e}();
},{"../../toolkit/src/core/model.js":88,"../../toolkit/src/core/object.js":90,"../../toolkit/src/core/ttk.js":103,"../../toolkit/src/core/view.js":109,"../../toolkit/src/visual/interact-mouse.js":127,"../../toolkit/src/visual/visual-mesh.js":135,"./tcn.js":372}],368:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../../toolkit/src/core/ttk.js");_dereq_("../../toolkit/src/core/object.js"),_dereq_("../../toolkit/src/core/view.js"),_dereq_("../../toolkit/src/core/model.js"),_dereq_("../../toolkit/src/widget/editinplace.js");var TCN=_dereq_("./tcn.js");TCN.ToucanoGalleryView=function(){var a=TTk.Object.privateStore(),o=function(o){this.initView();var s=a(this);s.model=null,s.dataBind={model:{windowtitle:t+"windowtitle",glheader1:t+"glheader1",glheader3:t+"glheader3",glheader4:t+"glheader4",caption1:t+"caption1w",caption2:t+"caption2w",caption3:t+"caption3w",caption4:t+"caption4w",caption5:t+"caption5w",caption6:t+"caption6w",caption11:t+"caption11",caption12:t+"caption12",caption13:t+"caption13",caption14:t+"caption14",caption15:t+"caption15",caption16:t+"caption16",caption31:t+"caption31",caption32:t+"caption32",caption33:t+"caption33",caption34:t+"caption34",caption35:t+"caption35",caption36:t+"caption36",contactusp:t+"contactusp",link1:t+"link1",link2:t+"link2",link4:t+"link4"}}};o.CSS_CLASS=TCN.CSS_PREFIX+"gal";var t=o.CSS_CLASS+"-";TTk.View.call(o.prototype,a),o.prototype.render=function(o){var t=this,i=a(this);if(!i.model)return void TTk.ComponentGroup.GLOBAL.execAction("model-query",{class:TCN.GalleryModel.CLASS}).then(function(a){i.model=a&&a.result?a.result[0]:null,i.model||(i.model=new TCN.GalleryModel),t.render()},function(a){console.warn("Failed to query model",a),i.model=new TCN.GalleryModel,t.render()});i.frame||s.call(t),TCN.ToucanoSite.enableEdit(i);var e="Gallery";window.ga("set","page",e),window.ga("send","pageview")};var s=function(){var o=a(this);o.appendElements([{T:"section",id:"gallery-img",C:[{T:"section",class:"images windows viewer cf",id:"viewer",C:[{class:"heading",C:[{T:"a",href:"#embedded-hero",C:[{T:"span",class:t+"link1",C:"Discover More"},{T:"strong",C:"»"}]},{T:"h3",class:t+"windowtitle",C:""}]},{T:"ul",class:"cf",C:[{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption1"),class:"jslghtbx-thmb","data-jslghtbx":o.model.prop("imgsWindow")[0][1],src:o.model.prop("imgsWindow")[0][2],"data-jslghtbx-group":"mygroup1"},{T:"span",class:t+"caption1w",C:"Toucano Index -KPIs"}]},{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption2"),class:"jslghtbx-thmb","data-jslghtbx":o.model.prop("imgsWindow")[1][1],src:o.model.prop("imgsWindow")[1][2],"data-jslghtbx-group":"mygroup1"},{T:"span",class:t+"caption2w",C:"Toucano Index -Dashboards"}]},{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption3"),class:"jslghtbx-thmb","data-jslghtbx":o.model.prop("imgsWindow")[2][1],src:o.model.prop("imgsWindow")[2][2],"data-jslghtbx-group":"mygroup1"},{T:"span",class:t+"caption3w",C:"Toucano Index -Selected"}]},{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption4"),class:"jslghtbx-thmb","data-jslghtbx":o.model.prop("imgsWindow")[3][1],src:o.model.prop("imgsWindow")[3][2],"data-jslghtbx-group":"mygroup1"},{T:"span",class:t+"caption4w",C:"Corporate Scorecard"}]},{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption5"),class:"jslghtbx-thmb","data-jslghtbx":o.model.prop("imgsWindow")[4][1],src:o.model.prop("imgsWindow")[4][2],"data-jslghtbx-group":"mygroup1"},{T:"span",class:t+"caption5w",C:"Expenses"}]},{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption6"),class:"jslghtbx-thmb","data-jslghtbx":o.model.prop("imgsWindow")[5][1],src:o.model.prop("imgsWindow")[5][2],"data-jslghtbx-group":"mygroup1"},{T:"span",class:t+"caption6w",C:"Marketing Dashboard"}]}]}]},{T:"section",class:"images ipad cf",id:"images-mobile",C:[{class:"heading",C:[{T:"a",href:"#embedded-mobile",C:[{T:"span",class:t+"link2",C:"Discover More"},{T:"strong",C:"»"}]},{T:"h3",class:t+"glheader1",C:"Toucano App On Mobile"}]},{T:"ul",class:"cf",C:[{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption11"),class:"jslghtbx-thmb","data-jslghtbx":o.model.prop("imgsIpad")[0][1],src:o.model.prop("imgsIpad")[0][2],"data-jslghtbx-group":"mygroup2"},{T:"span",class:t+"caption11",C:"Toucano Index -KPIs"}]},{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption12"),class:"jslghtbx-thmb","data-jslghtbx":o.model.prop("imgsIpad")[1][1],src:o.model.prop("imgsIpad")[1][2],"data-jslghtbx-group":"mygroup2"},{T:"span",class:t+"caption12",C:"Toucano Index -Dashboards"}]},{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption13"),class:"jslghtbx-thmb","data-jslghtbx":o.model.prop("imgsIpad")[2][1],src:o.model.prop("imgsIpad")[2][2],"data-jslghtbx-group":"mygroup2"},{T:"span",class:t+"caption13",C:"Toucano Index -Selected"}]},{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption14"),class:"jslghtbx-thmb","data-jslghtbx":o.model.prop("imgsIpad")[3][1],src:o.model.prop("imgsIpad")[3][2],"data-jslghtbx-group":"mygroup2"},{T:"span",class:t+"caption14",C:"Corporate Scorecard"}]},{T:"li",class:"wide",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption15"),class:"jslghtbx-thmb","data-jslghtbx":o.model.prop("imgsIpad")[4][1],src:o.model.prop("imgsIpad")[4][2],"data-jslghtbx-group":"mygroup2"},{T:"span",class:t+"caption15",C:"Expenses"}]},{T:"li",class:"wide",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption16"),class:"jslghtbx-thmb","data-jslghtbx":o.model.prop("imgsIpad")[5][1],src:o.model.prop("imgsIpad")[5][2],"data-jslghtbx-group":"mygroup2"},{T:"span",class:t+"caption16",C:"Marketing Dashboard"}]}]}]},{T:"section",class:"images ipad cf",id:"ipad",C:[{class:"heading",C:[{T:"a",href:"#embedded-total-custom",C:[{T:"span",class:t+"link4",C:"Discover More"},{T:"strong",C:"»"}]},{T:"h3",class:t+"glheader3",C:"Toucano App On Mobile"}]},{T:"ul",class:"cf",C:[{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption31"),class:"jslghtbx-thmb","data-jslghtbx":"images/visuals/mobie3/01.png",src:"images/thumbs/mobie3/01.png","data-jslghtbx-group":"mygroup4"},{T:"span",class:t+"caption31",C:"Toucano Index -KPIs"}]},{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption32"),class:"jslghtbx-thmb","data-jslghtbx":"images/visuals/mobie3/02.png",src:"images/thumbs/mobie3/02.png","data-jslghtbx-group":"mygroup4"},{T:"span",class:t+"caption32",C:"Toucano Index -Dashboards"}]},{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption33"),class:"jslghtbx-thmb","data-jslghtbx":"images/visuals/mobie3/03.png",src:"images/thumbs/mobie3/03.png","data-jslghtbx-group":"mygroup4"},{T:"span",class:t+"caption33",C:"Toucano Index -Selected"}]},{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption34"),class:"jslghtbx-thmb","data-jslghtbx":"images/visuals/mobie3/04.png",src:"images/thumbs/mobie3/04.png","data-jslghtbx-group":"mygroup4"},{T:"span",class:t+"caption34",C:"Corporate Scorecard"}]},{T:"li",class:"wide",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption35"),class:"jslghtbx-thmb","data-jslghtbx":"images/visuals/mobie3/05.png",src:"images/thumbs/mobie3/05.png","data-jslghtbx-group":"mygroup4"},{T:"span",class:t+"caption35",C:"Expenses"}]},{T:"li",class:"wide",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption36"),class:"jslghtbx-thmb","data-jslghtbx":"images/visuals/mobie3/06.png",src:"images/thumbs/mobie3/06.png","data-jslghtbx-group":"mygroup4"},{T:"span",class:t+"caption36",C:"Marketing Dashboard"}]}]}]}]},{T:"section",id:"gallery-video",class:"images ipad cf",C:[{class:"heading",C:[{T:"a",href:"#custom-analytics",C:[{T:"span",class:t+"link4",C:"Discover More"},{T:"strong",C:"»"}]},{T:"h3",class:t+"glheader4",C:"Custom Analytics"}]},{T:"ul",class:"cf",C:[{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption41"),class:"jslghtbx-thmb","data-jslghtbx-video":"videos/hero-koi-grey.mp4",src:"images/thumbs/videos/01.png","data-jslghtbx-video-group":"mygroup5"},{T:"span",class:t+"caption41",C:"Dynamic Navigation With Sparklines"}]},{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption42"),class:"jslghtbx-thmb","data-jslghtbx-video":"videos/hero-retail-grey2.mp4",src:"images/thumbs/videos/02.png","data-jslghtbx-video-group":"mygroup5"},{T:"span",class:t+"caption42",C:"Heat Map With Drill Through"}]},{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption43"),class:"jslghtbx-thmb","data-jslghtbx-video":"videos/hero-network-grey.mp4",src:"images/thumbs/videos/03.png","data-jslghtbx-video-group":"mygroup5"},{T:"span",class:t+"caption43",C:"Elastic Configurable Network Diagram"}]},{T:"li",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption44"),class:"jslghtbx-thmb","data-jslghtbx-video":"videos/hero-fluid-heatmap-grey.mp4",src:"images/thumbs/videos/04.png","data-jslghtbx-video-group":"mygroup5"},{T:"span",class:t+"caption44",C:"Raster Heat Map"}]},{T:"li",class:"wide",C:[{T:"img","data-jslghtbx-caption":o.model.prop("caption45"),class:"jslghtbx-thmb","data-jslghtbx-video":"videos/hero-target-grey2.mp4",src:"images/thumbs/videos/05.png","data-jslghtbx-video-group":"mygroup5"},{T:"span",class:t+"caption45",C:"Real Time Data"}]}]}]},{T:"section",id:"contactus",class:"hero cf",C:[{class:"content",C:[{class:"copy",C:[{T:"p",class:t+"contactusp",C:"For a demo and to learn how we could help your project"}]},{class:"btcontact",C:{T:"button",class:"bt-contact",C:"Please Contact Us"}}]}]},{T:"secion",id:"_dialogs"},{T:"a",href:"#top"}]),o.nodes["bt-contact"].addEventListener("click",function(){window.ga("send",{hitType:"event",eventCategory:"Gallery Action",eventAction:"Button Click",eventLabel:"Contact Us"});var a="#contact-main";window.location.hash=a}),o.lightbox=o.lightbox||new window.Lightbox;var s={boxId:!1,dimensions:!0,captions:!0,hideCloseBtn:!1,closeOnClick:!0,loadingAnimation:400,animElCount:4,preload:!0,carousel:!0,animation:200,nextOnClick:!0,responsive:!0,maxImgSize:.8,maxVidSize:.6,keyControl:!0,prevImg:"images/lightbox/prevlight.png",nextImg:"images/lightbox/nextlight.png",onopen:function(){},onclose:function(){},onload:function(){},onresize:function(a){},onloaderror:function(){}};o.lightbox.load(s)};return o}(),TCN.GalleryModel=function(){var a=TTk.Object.privateStore(),o=function(a,o){this.initModel(a,o,!0)};return o.CLASS="TCN.GalleryModel",o.PROPS={link1:{t:"string",d:"Discover More"},link2:{t:"string",d:"Discover More"},link3:{t:"string",d:"Discover More"},link4:{t:"string",d:"Discover More"},glheader1:{t:"string",d:"Toucano App On Mobile"},glheader2:{t:"string",d:"Toucano App On Mobile"},glheader3:{t:"string",d:"Toucano App On Mobile"},glheader4:{t:"string",d:"Custom Analytics"},caption1:{t:"string",d:"Toucano Index -KPIs"},caption2:{t:"string",d:"Toucano Index -Dashboards"},caption3:{t:"string",d:"Toucano Index -Selected"},caption4:{t:"string",d:"Corporate Scorecard"},caption5:{t:"string",d:"Expenses"},caption6:{t:"string",d:"Marketing Dashboard"},caption7i:{t:"string",d:"Corporate Scorecard"},caption11:{t:"string",d:"Toucano Index -KPIs"},caption12:{t:"string",d:"Toucano Index -Dashboards"},caption13:{t:"string",d:"Toucano Index -Selected"},caption14:{t:"string",d:"Corporate Scorecard"},caption15:{t:"string",d:"Expenses"},caption16:{t:"string",d:"Marketing Dashboard"},caption21:{t:"string",d:"Toucano Index -KPIs"},caption22:{t:"string",d:"Toucano Index -Dashboards"},caption23:{t:"string",d:"Toucano Index -Selected"},caption24:{t:"string",d:"Corporate Scorecard"},caption25:{t:"string",d:"Expenses"},caption26:{t:"string",d:"Marketing Dashboard"},caption31:{t:"string",d:"Toucano Index -KPIs"},caption32:{t:"string",d:"Toucano Index -Dashboards"},caption33:{t:"string",d:"Toucano Index -Selected"},caption34:{t:"string",d:"Corporate Scorecard"},caption35:{t:"string",d:"Expenses"},caption36:{t:"string",d:"Marketing Dashboard"},caption41:{t:"string",d:"Dynamic Navigation With Sparklines"},caption42:{t:"string",d:"Heat Map With Drill Through"},caption43:{t:"string",d:"Elastic Configurable Network Diagram"},caption44:{t:"string",d:"Raster Heat Map"},caption45:{t:"string",d:"Real Time Data"},contactusp:{t:"string",d:"For a demo and to learn how we could help your project"},windowtitle:{t:"string",d:"Toucano App On Mobile"},appStoretitle:{t:"string",d:"Toucano App On Safari"},imgsWindow:{t:"array",d:[["Toucano Index -KPIs","images/visuals/viewer/01.png","images/thumbs/viewer/01.png"],["Toucano Index -Dashboards","images/visuals/viewer/02.png","images/thumbs/viewer/02.png"],["Toucano Index -Selected","images/visuals/viewer/03.png","images/thumbs/viewer/03.png"],["Corporate Scorecard","images/visuals/viewer/04.png","images/thumbs/viewer/04.png"],["Expenses","images/visuals/viewer/05.png","images/thumbs/viewer/05.png"],["Marketing Dashboard","images/visuals/viewer/06.png","images/thumbs/viewer/06.png"]]},imgsIpad:{t:"array",d:[["Toucano Index -KPIs","images/visuals/ipad/01.png","images/thumbs/ipad/01.png"],["Toucano Index -Dashboards","images/visuals/ipad/02.png","images/thumbs/ipad/02.png"],["Toucano Index -Selected","images/visuals/ipad/03.png","images/thumbs/ipad/03.png"],["Corporate Scorecard","images/visuals/ipad/04.png","images/thumbs/ipad/04.png"],["Expenses","images/visuals/ipad/05.png","images/thumbs/ipad/05.png"],["Marketing Dashboard","images/visuals/ipad/06.png","images/thumbs/ipad/06.png"]]}},TTk.Model.call(o.prototype,a),o}();
},{"../../toolkit/src/core/model.js":88,"../../toolkit/src/core/object.js":90,"../../toolkit/src/core/ttk.js":103,"../../toolkit/src/core/view.js":109,"../../toolkit/src/widget/editinplace.js":138,"./tcn.js":372}],369:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../../toolkit/src/core/ttk.js");_dereq_("../../toolkit/src/core/object.js"),_dereq_("../../toolkit/src/core/view.js"),_dereq_("../../toolkit/src/core/model.js"),_dereq_("../../toolkit/src/widget/editinplace.js");var TCN=_dereq_("./tcn.js");TCN.ToucanoHomeView=function(){var s=TTk.Object.privateStore(),e=function(e){this.initView();var a=s(this);a.model=null,a.dataBind={model:{splashTitle:t+"splashTitle",trusted:t+"trusted",latest:t+"latest",banner2:t+"banner2",intro1:t+"intro1",intro2:t+"intro2",intro3:t+"intro3",linkSplash:t+"linkSplash",splashl1:t+"splashl1",splashl2:t+"splashl2",dbh2:t+"dbh2",dbh4:t+"dbh4",dbul1:t+"dbul1",dbul2:t+"dbul2",dbul3:t+"dbul3",biexh2:t+"biexh2",biexh4:t+"biexh4",biexul1:t+"biexul1",biexul2:t+"biexul2",biexul3:t+"biexul3",dashbuildh2:t+"dashbuildh2",dashbuildh4:t+"dashbuildh4",dashbuildul1:t+"dashbuildul1",dashbuildul2:t+"dashbuildul2",dashbuildul3:t+"dashbuildul3",contactusp:t+"contactusp",dblink:t+"dblink",customlink:t+"customlink",dbbuillink:t+"dbbuillink",dashboardsHeroHeader:t+"dashboardsHeroHeader",ss1apara:t+"ss1apara"}}};e.CSS_CLASS=TCN.CSS_PREFIX+"home";var t=e.CSS_CLASS+"-";TTk.View.call(e.prototype,s),e.prototype.render=function(e){var t=this,i=s(this);if(!i.model)return void TTk.ComponentGroup.GLOBAL.execAction("model-query",{class:TCN.HomeModel.CLASS}).then(function(s){i.model=s&&s.result?s.result[0]:null,i.model||(i.model=new TCN.HomeModel),t.render()},function(s){console.warn("Failed to query model",s),i.model=new TCN.HomeModel,t.render()});i.frame||a.call(t),TCN.ToucanoSite.enableEdit(i);var o="Home";window.ga("set","page",o),window.ga("send","pageview")};var a=function(){var e=s(this);e.appendElements([{class:"contenthero",id:"embedded-hero",C:[{class:"content",C:[{T:"h1",class:t+"dashboardsHeroHeader",C:"We take care of your analytics "},{T:"img",id:"img-hero-dash",class:"",src:"images/index/Home-Hero.jpg"}]}]},{class:"top-title-div",id:"top-title-id",C:[{T:"p",C:{T:"span",class:t+"ss1apara",C:"No ongoing license fees"}}]},{T:"section",id:"home-splash",class:"hero cf",C:{class:"content",C:[{T:"img",class:t+"splashimg",src:e.model.prop("splashImg")},{T:"img",id:"imgTrusted",class:t+"imgTrusted",src:e.model.prop("imgTrusted")},{class:"copy",C:[{class:"titles",C:{T:"h1",C:[{T:"span",class:t+"splashTitle"}]}},{T:"p",class:t+"splashP"},{T:"ul",C:[{T:"li",class:t+"splashl1",C:"Embedded analytics "},{T:"li",class:t+"splashl2",C:"Custom analytics "}]},{T:"br"},{T:"br"},{class:"more",C:{T:"a",href:"#solutions-top",C:[{T:"span",class:t+"linkSplash",C:"Read how it works"},{T:"strong",C:"»"}]}}]}]}},{T:"section",id:"home-last-tech",class:"hero cf banner",C:{class:"content",C:[{T:"h3",class:t+"trusted"}]}},{T:"section",id:"home-perfect-dashboards",class:"hero cf",C:{class:"content",C:[{T:"img",src:e.model.prop("imgPerfectDashBoard")},{class:"copy",C:[{T:"h2",C:{T:"span",class:t+"dbh2"}},{T:"h4",C:{T:"span",class:t+"dbh4"}},{T:"ul",C:[{T:"li",C:{T:"span",class:t+"dbul1"}},{T:"li",C:{T:"span",class:t+"dbul2"}},{T:"li",C:{T:"span",class:t+"dbul3"}}]},{T:"a",href:"#embedded-hero",C:[{T:"span",class:t+"dblink",C:"Discover More"},{T:"strong",C:"»"}]}]}]}},{T:"section",id:"home-banner-logo",class:"hero cf banner",C:{class:"content",C:[{T:"img",src:"images/heroes/html-logo.png"},{T:"img",src:"images/heroes/css-logo.png"},{T:"img",src:"images/heroes/js-logo.png"},{T:"img",src:"images/heroes/Logo_D3.png"},{T:"h3",class:t+"banner2"}]}},{T:"section",id:"home-custom-analytics",class:"hero cf",C:{class:"content",C:[{class:"copy",C:[{T:"h2",C:{T:"span",class:t+"biexh2"}},{T:"h4",C:{T:"span",class:t+"biexh4"}},{T:"ul",C:[{T:"li",C:{T:"span",class:t+"biexul1"}},{T:"li",C:{T:"span",class:t+"biexul2"}},{T:"li",C:{T:"span",class:t+"biexul3"}}]},{T:"a",href:"#custom-analytics",C:[{T:"span",class:t+"customlink",C:"Discover More <strong>»</strong>"},{T:"strong",C:"»"}]}]},{T:"img",src:e.model.prop("imgCustomAna")}]}},{T:"section",class:"hero cf banner",C:{class:"content",C:[{T:"h3",class:t+"latest"}]}},{T:"section",id:"home-app",class:"",C:{class:"content",C:[{class:"intro",C:[{T:"h2",class:t+"intro1",C:"PC"},{T:"img",src:e.model.prop("introImg1")}]},{class:"intro",C:[{T:"h2",class:t+"intro2",C:"Smartphone"},{T:"img",src:e.model.prop("introImg2")}]},{class:"intro",C:[{T:"h2",class:t+"intro3",C:"Tablet"},{T:"img",src:e.model.prop("introImg3")}]}]}},{T:"section",id:"home-dashboard-designer",class:"hero cf",C:{class:"content",C:[{class:"copy",C:[{T:"h2",C:{T:"span",class:t+"dashbuildh2"}},{T:"h4",C:{T:"span",class:t+"dashbuildh4"}},{T:"ul",C:[{T:"li",C:{T:"span",class:t+"dashbuildul1"}},{T:"li",C:{T:"span",class:t+"dashbuildul2"}},{T:"li",C:{T:"span",class:t+"dashbuildul3"}}]},{T:"a",href:"#embedded-simple-to-use",C:[{T:"span",class:t+"dbbuillink",C:"Discover More <strong>»</strong>"},{T:"strong",C:"»"}]}]},{T:"img",src:e.model.prop("imgDashDes")}]}},{T:"section",id:"contactus",class:"hero cf",C:{class:"content",C:[{class:"copy",C:[{T:"p",class:t+"contactusp",C:"For a demo and to learn how we could help your project"}]},{class:"btcontact",C:{T:"button",class:"bt-contact",C:"Please Contact Us"}}]}}]),e.nodes["bt-contact"].addEventListener("click",function(){window.ga("send",{hitType:"event",eventCategory:"Home Action",eventAction:"Button Click",eventLabel:"Contact Us"});var s="#contact-main";window.location.hash=s})};return e}(),TCN.HomeModel=function(){var s=TTk.Object.privateStore(),e=function(s,e){this.initModel(s,e,!0)};return e.CLASS="TCN.HomeModel",e.PROPS={navHome:{t:"string",d:"Home"},navOverview:{t:"string",d:"Overview"},navFeatures:{t:"string",d:"Features"},navGallery:{t:"string",d:"Gallery"},navCompany:{t:"string",d:"Company"},splashImg:{t:"string",d:"images/index/HomeHerosmall.png",l:"",e:""},splashTitle:{t:"string",d:"Analytics solutions built around your business needs",l:"",e:""},splashP:{t:"string",d:"Embedded analytics </br> Custom analytics </br> No ongoing licence </br>"},splashl1:{t:"string",d:"Embedded analytics"},splashl2:{t:"string",d:"Custom analytics"},splashl3:{t:"string",d:"No ongoing licence"},trusted:{t:"string",d:"Trusted by Gartner Quadrant Clients"},banner2:{t:"string",d:"We use the latest technologies including brilliant D3 visualisations"},latest:{t:"string",d:"The latest web technology for all platforms"},imgTrusted:{t:"string",d:"images/heroes/Sticker.png",l:"",e:""},introImg1:{t:"string",d:"images/heroes/HomePC2.png",l:"",e:""},introImg2:{t:"string",d:"images/heroes/HomeMobile.png",l:"",e:""},introImg3:{t:"string",d:"images/heroes/Home.07.png",l:"",e:""},imgPerfectDashBoard:{t:"string",d:"images/heroes/HomePC.png",l:"",e:""},imgCustomAna:{t:"string",d:"images/heroes/Home.05a.png",l:"",e:""},imgDashDes:{t:"string",d:"images/heroes/HomeDashboardDesigner.png",l:"",e:""},imgPlaceHolder:{t:"string",d:"images/index/placeholder.png",l:"",e:""},imgD3logo:{t:"string",d:"images/heroes/logod3.png",l:"",e:""},intro1:{t:"string",d:"PC"},intro2:{t:"string",d:"Smart Phone"},intro3:{t:"string",d:"Tablet"},linkSplash:{t:"string",d:"Read how it works"},dblink:{t:"string",d:"Discover More"},customlink:{t:"string",d:"Discover More"},dbbuillink:{t:"string",d:"Discover More"},dbh2:{t:"string",d:"Embedded Analytics"},dbh4:{t:"string",d:"Integrate into your applications"},dbul1:{t:"string",d:"User configurable"},dbul2:{t:"string",d:"Built in analytics"},dbul3:{t:"string",d:"Connect to any data"},biexh2:{t:"string",d:"Custom Analytics"},biexh4:{t:"string",d:"Go beyond out-of-the-box"},biexul1:{t:"string",d:"Exactly as you need"},biexul2:{t:"string",d:"Built in a fraction of the time"},biexul3:{t:"string",d:"Integrates with your data layer"},dashbuildh2:{t:"string",d:"Dashboard Designer"},dashbuildh4:{t:"string",d:"Self Service Dashboards"},dashbuildul1:{t:"string",d:"Loads of styling options"},dashbuildul2:{t:"string",d:"Easy data loader"},dashbuildul3:{t:"string",d:"Filtering and ad hoc analysis"},contactusp:{t:"string",d:"For a demo and to learn how we could help your project"},dashboardsHeroHeader:{t:"string",d:"We take care of your analytics"},ss1apara:{t:"string",d:"No ongoing license fees"}},TTk.Model.call(e.prototype,s),e}();
},{"../../toolkit/src/core/model.js":88,"../../toolkit/src/core/object.js":90,"../../toolkit/src/core/ttk.js":103,"../../toolkit/src/core/view.js":109,"../../toolkit/src/widget/editinplace.js":138,"./tcn.js":372}],370:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../../toolkit/src/core/ttk.js");_dereq_("../../toolkit/src/core/view-workflow.js"),_dereq_("../../toolkit/src/core/model.js"),_dereq_("../../toolkit/src/widget/editinplace.js"),_dereq_("../../toolkit/src/core/object.js"),_dereq_("../../toolkit/src/format/json.js"),_dereq_("../../toolkit/src/core/utils.js"),_dereq_("../../toolkit/src/core/time.js"),_dereq_("../../toolkit/src/core/date.js"),_dereq_("../../toolkit/src/core/ttk.js"),_dereq_("../../toolkit/src/core/object.js"),_dereq_("../../toolkit/src/core/component.js"),_dereq_("../../toolkit/src/format/json.js"),_dereq_("../../toolkit/src/core/model-user.js");var TCN=_dereq_("./tcn.js");_dereq_("./gallery.js"),_dereq_("./home.js"),_dereq_("./solutions.js"),_dereq_("./dashboards.js"),_dereq_("./custom.js"),_dereq_("./contact.js"),_dereq_("./gallery-honeycomb.js"),_dereq_("./gallery-torus.js"),_dereq_("./gallery-3dbar.js"),TCN.MainModel=function(){var e=TTk.Object.privateStore(),o=function(e,o){this.initModel(e,o,!0)};return o.CLASS="TCN.MainModel",o.PROPS={maintitle:{t:"string",d:"Embedded and Custom Analytics"},navHome:{t:"string",d:"Home"},navSolutions:{t:"string",d:"Solutions"},navDashboard:{t:"string",d:"Embedded Analytics"},navCustom:{t:"string",d:"Custom Analytics"},navGallery:{t:"string",d:"Gallery"},navContact:{t:"string",d:"Contact"},contactStarted:{t:"string",d:"Get Started"},contactEmail:{t:"string",d:"info@toucano.uk"},contactSupport:{t:"string",d:"Contact Us: "},footerCopy:{t:"string",d:"Copyright © 2016 Toucano Services Limited. All rights reserved."},footerAbout:{t:"string",d:"About Us"}},TTk.Model.call(o.prototype,e),o}(),TCN.ToucanoSite=function(){var e=TTk.Object.privateStore(),o=function(n){var l=e(this);a.call(this,!0);var s=o.CSS_CLASS+"-";l.TEST_RES=1,l.galleryView=new TCN.ToucanoGalleryView,l.galleryHCView=new TCN.GalleryHoneycomb,l.galleryTorus=new TCN.GalleryTorus,l.gallery3DBar=new TCN.Gallery3DBar,l.HomeView=new TCN.ToucanoHomeView,l.toucanoSolutionsView=new TCN.ToucanoSolutionsView,l.toucanoDashboardsView=new TCN.ToucanoDashboardsView,l.toucanoCustomView=new TCN.ToucanoCustomView,l.toucanoContactView=new TCN.ToucanoContactView,l.model=null,l.dataBind={model:{navHome:[s+"navHome1",s+"navHome2"],navSolutions:[s+"navSolutions1",s+"navSolutions2"],navGallery:[s+"navGallery1",s+"navGallery2"],navContact:[s+"navContact1",s+"navContact2"],navDashboard:[s+"navDashboard1",s+"navDashboard2"],navCustom:[s+"navCustom1",s+"navCustom2"],maintitle:[s+"maintitle",s+"maintitle2"],contactStarted:s+"contactStarted",contactEmail:s+"contactEmail",contactSupport:s+"contactSupport",footerCopy:s+"footerCopy",footerAbout:s+"footerAbout"}},this.home("home").missing("error").views({home:l.HomeView,solutions:l.toucanoSolutionsView,"solutions-top":l.toucanoSolutionsView,"solutions-compare":l.toucanoSolutionsView,embedded:l.toucanoDashboardsView,"embedded-simple-to-use":l.toucanoDashboardsView,"embedded-hero":l.toucanoDashboardsView,"embedded-is-it":l.toucanoDashboardsView,"embedded-mobile":l.toucanoDashboardsView,"embedded-total-custom":l.toucanoDashboardsView,"dash-8":l.toucanoDashboardsView,custom:l.toucanoCustomView,"custom-analytics":l.toucanoCustomView,"header-custom":l.toucanoCustomView,"gallery-img":l.galleryView,"gallery-video":l.galleryView,gallery:l.galleryView,"gallery-honeycomb":l.galleryHCView,"gallery-torus":l.galleryTorus,"gallery-3dbar":l.gallery3DBar,contact:l.toucanoContactView,"contact-main":l.toucanoContactView,error:[{T:"h1",C:"Not Found"},{C:"The page you are looking for does not exist."},{T:"a",href:"#home",C:"Back to home page"}]}),t.call(this)},t=function(){!function(e,o,t,a,n,l,s){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,l=o.createElement(t),s=o.getElementsByTagName(t)[0],l.async=1,l.src=a,s.parentNode.insertBefore(l,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),window.ga("create","UA-92173547-1","auto")},a=TTk.Workflow.extend(o,e);o.prototype.render=function(){var t=this,a=e(this),l=o.CSS_CLASS+"-";if(a.TEST_RES&&!a.model)return void TTk.ComponentGroup.GLOBAL.execAction("model-query",{class:TCN.MainModel.CLASS}).then(function(e){a.model=e&&e.result?e.result[0]:null,a.model||(a.model=new TCN.MainModel),t.render()},function(e){console.warn("Failed to query model",e),a.model=new TCN.MainModel,t.render()});a.frame||n.call(t),a.nodes.flat.style.display=TTk.User.logged?null:"none",TTk.User.logged?TCN.ToucanoSite.enableEdit(a):o.editMode=!1;var s=this.view();return s?void s.container("main."+l+"content").render():void 0};var n=function(){var t=this,a=e(this),n=o.CSS_CLASS+"-";a.appendElements([{T:"header",C:[{class:"masthead",C:[{class:"content",C:[{class:"logo",C:{T:"a",href:"/",C:{T:"img",src:"images/header/logo_ondark.png"}}},{T:"div",class:"maintitle",C:{T:"h1",class:n+"maintitle",C:"Dashboards and Custom Analytics"}},{id:"iconeml",C:{T:"a",class:n+"icon-email",href:"mailto:"+a.model.prop("contactEmail"),C:{T:"i",class:"fa fa-envelope-o"}}},{id:"navbtn",class:"collapsed",C:[{T:"a",id:"dropdown"},{T:"ul",id:"navmobile",C:[{T:"li",C:{T:"a",href:"#home",class:n+"navHome1",C:"Home"}},{T:"li",C:{T:"a",href:"#solutions",class:n+"navSolutions1",C:"Solutions"}},{T:"li",C:{T:"a",href:"#embedded",C:"Embedded Analytics",class:n+"navDashboard1"}},{T:"li",C:{T:"a",href:"#custom",C:"Custom Analytics",class:n+"navCustom1"}},{T:"li",C:{T:"a",href:"#gallery",C:"Gallery",class:n+"navGallery1"}},{T:"li",C:{T:"a",href:"#contact",C:"Contact",class:n+"navContact1"}}]}]},{class:"contact",C:[{T:"ul",class:"links",C:{T:"li",class:"start",C:{T:"a",href:"#contact",class:"start",C:{T:"span",class:n+"contactStarted",C:"Get Started"}}}},{class:"sales",C:{T:"p",C:[{T:"span",class:n+"contactSupport",C:"Contact Support:  "},{T:"span",C:{T:"a",href:"mailto:"+a.model.prop("contactEmail"),class:n+"contactEmail"}}]}}]}]}]},{class:"subhead",C:{T:"h2",class:n+"maintitle2",C:"Visualisation & Analytics Accelerator"}},{T:"nav",C:[{T:"div",class:"content",C:[{class:"navcontent",C:[{T:"ul",C:[{T:"li",C:{T:"a",href:"#home",C:"Home",class:n+"navHome2"}},{T:"li",C:{T:"a",href:"#solutions",C:"Solutions",class:n+"navSolutions2"}},{T:"li",C:{T:"a",href:"#embedded",C:"Embedded Analytics",class:n+"navDashboard2"}},{T:"li",C:{T:"a",href:"#custom",C:"Custom Analytics",class:n+"navCustom2"}},{T:"li",C:{T:"a",href:"#gallery",C:"Gallery",class:n+"navGallery2"}},{T:"li",C:{T:"a",href:"#contact",C:"Contact",class:n+"navContact2"}}]}]}]}]}]},{T:"main",class:n+"content"},{T:"footer",C:[{T:"div",class:"content",C:[{T:"div",class:"microsoft",C:{T:"img",src:"images/header/logo_ondark.png"}},{T:"p",class:n+"footerCopy indicia ",C:"Copyright © 2016 Toucano Services Limited. All rights reserved."},{T:"ul",class:"links",C:[{T:"li",class:"mobile",C:{T:"a",href:"#contact-main",C:{T:"span",class:n+"footerAbout",C:"About Us"}}},{T:"li",C:{T:"a",href:"#",class:n+"hidden-link",C:"Login"}}]},{class:"flat",C:[{class:"editable-switch",C:[{T:"span",C:"Editable Content : "},{T:"label",class:"switch",C:[{T:"input",type:"checkbox"},{T:"div",class:"slider"}]}]},{T:"button",class:n+"open",C:"Import"},{T:"button",class:n+"save",C:"Export"}]}]}]},{T:"a",href:"#top"}]),a.nodes.dropdown.addEventListener("click",function(){var e=a.nodes.navbtn.classList.contains("collapsed");a.nodes.navbtn.classList[e?"remove":"add"]("collapsed")}),a.nodes.navmobile.addEventListener("click",function(){a.nodes.navbtn.classList.add("collapsed")}),a.nodes[n+"icon-email"].addEventListener("click",function(){console.log("email is clicked"),window.ga("send",{hitType:"event",eventCategory:"Header Action",eventAction:"Email Click",eventLabel:"Contact Email"})}),a.nodes.sales.addEventListener("mousedown",function(){console.log("sale is clicked"),window.ga("send",{hitType:"event",eventCategory:"Header Action",eventAction:"Email Click",eventLabel:"Contact Email"})}),a.nodes.slider.addEventListener("click",function(){o.editMode=!o.editMode,t.render()}),a.nodes[n+"save"].addEventListener("click",function(e){console.log("exporting storage:",window.localStorage),TTk.ComponentGroup.GLOBAL.execAction("models-export").then(function(e){var o=TTk.Format.JSON.format(e),t=new TTk.Date(null,TTk.TimeGranularity.DAY);TTk.ClientUtils.downloadTextFile(o,"toucanosite_db-"+t+".json")})}),a.nodes[n+"open"].addEventListener("click",function(e){TTk.ClientUtils.openFile().then(function(e){if(e&&e.length){var o=e[0];TTk.ClientUtils.readFileText(o).then(function(e){var t;try{t=TTk.Format.JSON.parse(e)}catch(e){return void alert("Could not load file '"+o.name+"'.\n"+e.message)}TTk.ComponentGroup.GLOBAL.execAction("models-import",{data:t}).then(function(){window.location.reload(!1)},function(e){alert("Could not import file '"+o.name+"'.\n"+e)})})}})});var l=function(e){TTk.ComponentGroup.GLOBAL.execAction("authenticate",e).then(function(e){t.render()})};a.nodes[n+"hidden-link"].addEventListener("click",function(e){var o={};if(TTk.User.logged)o.logout=!0;else if(TTk.SyncLocal)return o.user=(new TTk.User).forename("Joe").surname("Bloggs").email("enquire@starsoftqa.com"),void TTk.Promise.onceEvent("models-synced").then(function(){l(o)});l(o),a.nodes[n+"hidden-link"].style.color="rgba(0,0,0,0)"}),a.model.onEvent("model-changed",function(e){"contactEmail"===e.key&&(a.nodes[n+"contactEmail"].href="mailto:"+a.model.prop("contactEmail"))})};return o.CSS_CLASS="tcn",o.editMode=!1,o.enableEdit=function(e){Object.keys(e.dataBind.model).forEach(function(t){var a=e.dataBind.model[t];Array.isArray(a)||(a=[a]),a.forEach(function(a){var n=e.nodes[a];TTk.EditInPlace.setEditable(n,!!o.editMode&&{resultFn:function(o){o=o?o.trim():"",o||(o="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),e.model.prop(t,o)}})})})},TTk.Firebase||(TTk.SyncLocal.start(),o.instance=new o),o}(),window.initMap=function(){var e={lat:51.520241,lng:-.083519},o={center:e,mapTypeControlOptions:{mapTypeIds:["ROADMAP"]},streetViewControl:!1,zoom:12,minZoom:10,maxZoom:18,styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"},{visibility:"off"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"},{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"},{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"},{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"icon",stylers:[{color:"#d59563"},{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]},t=new window.google.maps.Map(document.getElementById("googlemap"),o),a=new window.google.maps.MarkerImage("images/markbig.png"),n=new window.google.maps.Marker({icon:a,position:e,map:t,title:"Our Office"});n.setMap(t)};
},{"../../toolkit/src/core/component.js":74,"../../toolkit/src/core/date.js":76,"../../toolkit/src/core/model-user.js":87,"../../toolkit/src/core/model.js":88,"../../toolkit/src/core/object.js":90,"../../toolkit/src/core/time.js":102,"../../toolkit/src/core/ttk.js":103,"../../toolkit/src/core/utils.js":106,"../../toolkit/src/core/view-workflow.js":108,"../../toolkit/src/format/json.js":111,"../../toolkit/src/widget/editinplace.js":138,"./contact.js":361,"./custom.js":362,"./dashboards.js":363,"./gallery-3dbar.js":365,"./gallery-honeycomb.js":366,"./gallery-torus.js":367,"./gallery.js":368,"./home.js":369,"./solutions.js":371,"./tcn.js":372}],371:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../../toolkit/src/core/ttk.js");_dereq_("../../toolkit/src/core/object.js"),_dereq_("../../toolkit/src/core/view.js"),_dereq_("../../toolkit/src/core/model.js"),_dereq_("../../toolkit/src/widget/editinplace.js");var TCN=_dereq_("./tcn.js");TCN.ToucanoSolutionsView=function(){var e=TTk.Object.privateStore(),a=function(a){this.initView();var t=e(this);t.model=null,t.dataBind={model:{heroCenterp1:o+"heroCenterp1",heroCenterp2:o+"heroCenterp2",dashboardsHeroLabelLeft:o+"dashboardsHeroLabelLeft",dashboardsHeroLabelRight:o+"dashboardsHeroLabelRight",solutionCompareHeader1:o+"solutionCompareHeader1",solutionCompareHeader2:o+"solutionCompareHeader2",solutionComparePara11:o+"solutionComparePara11",solutionComparePara12:o+"solutionComparePara12",solutionComparePara21:o+"solutionComparePara21",solutionComparePara22:o+"solutionComparePara22",solutionBenefitHeader:o+"solutionBenefitHeader",solutionBenefitPara:o+"solutionBenefitPara",solutionMulPlatHeader:o+"solutionMulPlatHeader",solutionMulPlatPara:o+"solutionMulPlatPara",anyDataHeader:o+"anyDataHeader",anyDataPara:o+"anyDataPara",lastTechHeader:o+"lastTechHeader",lastTechPara:o+"lastTechPara",contactuspara:o+"contactuspara",dblink:o+"dblink",customlink:o+"customlink",benefitlink:o+"benefitlink",adatalink:o+"adatalink"}}};a.CSS_CLASS=TCN.CSS_PREFIX+"sln";var o=a.CSS_CLASS+"-";TTk.View.call(a.prototype,e),a.prototype.render=function(a){var o=this,s=e(this);if(!s.model)return void TTk.ComponentGroup.GLOBAL.execAction("model-query",{class:TCN.SolutionsModel.CLASS}).then(function(e){s.model=e&&e.result?e.result[0]:null,s.model||(s.model=new TCN.SolutionsModel),o.render()},function(e){console.warn("Failed to query model",e),s.model=new TCN.SolutionsModel,o.render()});s.frame||t.call(o),TCN.ToucanoSite.enableEdit(s);var n="Solutions";window.ga("set","page",n),window.ga("send","pageview")};var t=function(){var a=e(this);a.appendElements([{T:"section",id:"solutions-top",C:[{class:"content",C:[{T:"section",id:"slnhero",clash:"hero cf",C:[{class:"center",C:[{T:"h2",class:o+"heroCenterp1"},{T:"h2",class:o+"heroCenterp2"}]},{class:"wrapper",C:[{T:"a",href:"#solutions-compare",C:{class:"label left",C:{T:"span",class:o+"dashboardsHeroLabelLeft",C:"Embedded"}}},{T:"a",href:"#solutions-compare",C:{class:"label right",C:{T:"span",class:o+"dashboardsHeroLabelRight",C:"Custom"}}},{id:"juxtapose-wrapper",class:"juxtapose",C:[]}]}]}]}]},{T:"section",id:"solutions-compare",class:"hero cf",C:[{class:"content",C:[{class:"half-1 copy",C:[{T:"h2",class:o+"solutionCompareHeader1",C:"Embedded Analytics"},{T:"p",class:o+"solutionComparePara11",C:"Embedded analytics let you differentiate your product in a busy marketplace."},{T:"p",class:o+"solutionComparePara12",C:"Toucano modules combine to make a beautiful fluid user experience, increase customer satisfaction and make your application stand out from the crowd."},{T:"a",href:"#embedded-hero",C:[{T:"span",class:o+"dblink",C:"Discover More"},{T:"strong",C:"»"}]}]},{class:"colum1"},{class:"half-2 copy",C:[{T:"h2",class:o+"solutionCompareHeader2",C:"Custom Analytics"},{T:"p",class:o+"solutionComparePara21",C:"Custom is where we really showcase our experience with data and design"},{T:"p",class:o+"solutionComparePara22",C:"Our clients love the fact they can do anything and are not limited by out-of-the-box limitations."},{T:"a",href:"#custom-analytics",C:[{T:"span",class:o+"customlink",C:"Discover More"},{T:"strong",C:"»"}]}]}]}]},{T:"section",id:"solutions-benefit",class:"hero cf",C:[{T:"div",class:"content",C:[{T:"img",src:"images/solutions/NoLicenceCost.png"},{T:"h2",class:o+"solutionBenefitHeader",C:"Both benefit from having NO ongoing license cost."},{T:"p",class:o+"solutionBenefitPara",C:"This means that you can distribute to a large user base without having to worry about spiralling costs making it much easier to plan your projects."},{T:"a",href:"#embedded-is-it",C:[{T:"span",class:o+"benefitlink",C:"Find out more"},{T:"strong",C:"»"}]}]}]},{T:"section",id:"solutions-mul-plat",class:"hero cf",C:[{class:"content",C:[{class:"copy",C:[{T:"h2",class:o+"solutionMulPlatHeader",C:"Multiple Platforms"},{T:"br"},{T:"p",C:{T:"span",class:o+"solutionMulPlatPara",C:"All Toucano dashboards and modules work equally as well across different web browser platforms. Optimmised for performance, our analytic layer ensures that your latest data will be ready on any device as you need it. We also build native android and IOS apps to your exact requirements."}}]},{T:"img",class:"imgnormal",src:"images/solutions/solution-multiple.png"}]}]},{T:"section",id:"solutions-any-data",class:"hero cf",C:[{class:"content",C:[{T:"img",class:"imgnormal",src:"images/solutions/connect-to.png"},{class:"copy",C:[{T:"h2",class:o+"anyDataHeader",C:"Any Data"},{T:"br"},{T:"p",C:{T:"span",class:o+"anyDataPara",C:"Our data and analytics layer easily integrates to your data and provides a common data model to all Toucano modules. Data linking is common to all modules and multiple levels of filtering easily applied"}},{T:"a",href:"#custom-analytics",C:[{T:"span",class:o+"adatalink",C:"Discover More"},{T:"strong",C:"»"}]}]}]}]},{T:"section",id:"solutions-last-tech",class:"hero cf",C:[{class:"content",C:[{class:"copy",C:[{T:"h2",class:o+"lastTechHeader",C:"Latest Technology"},{T:"br"},{T:"p",C:{T:"span",class:o+"lastTechPara",C:"At Toucano we are passionate about using the right technology for the job. Our visualisation library of choice is the excellent D3, rendering to SVG and Canvas as required."}}]},{T:"img",class:"imgnormal",src:"images/solutions/solution_tech.png"}]}]},{T:"section",id:"contactus",class:"hero cf",C:{class:"content",C:[{class:"copy",C:[{T:"p",class:o+"contactuspara",C:"For a demo and to learn how we could help your project"}]},{class:"btcontact",C:{T:"button",class:"bt-contact",C:"Please Contact Us"}}]}}]),a.nodes["bt-contact"].addEventListener("click",function(){window.ga("send",{hitType:"event",eventCategory:"Solution Action",eventAction:"Button Click",eventLabel:"Contact Us"});var e="#contact-main";window.location.hash=e}),a.slider=a.slider||new window.juxtapose.JXSlider("#juxtapose-wrapper",[{src:"images/solutions/dashboard.png",label:"Embedded"},{src:"images/solutions/custom.png",label:"Custom"}],{animate:!0,showLabels:!0,showCredits:!1,startingPosition:"50%",makeResponsive:!0})};return a}(),TCN.SolutionsModel=function(){var e=TTk.Object.privateStore(),a=function(e,a){this.initModel(e,a,!0)};return a.CLASS="TCN.SolutionsModel",a.PROPS={dashboardsHeroLabelLeft:{t:"string",d:"Embedded"},dashboardsHeroLabelRight:{t:"string",d:"Custom"},solutionCompareHeader1:{T:"string",d:"Embedded Analytics"},solutionCompareHeader2:{T:"string",d:"Custom Analytics"},solutionComparePara11:{T:"string",d:"Embedded analytics let you differentiate your product in a busy marketplace."},solutionComparePara12:{T:"string",d:"Toucano modules combine to make a beautiful fluid user experience, increase customer satisfaction and make your application stand out from the crowd."},solutionComparePara21:{T:"string",d:"Custom is where we really showcase our experience with data and design"},solutionComparePara22:{T:"string",d:"Our clients love the fact they can do anything and are not limited by out-of-the-box limitations."},solutionBenefitHeader:{T:"string",d:"Both benefit from having NO ongoing license cost."},solutionBenefitPara:{T:"string",d:"This means that you can distribute to a large user base without having to worry about spiralling costs making it much easier to plan your projects."},imgPlaceHolder:{t:"string",d:"images/index/placeholder.png"},heroCenterp1:{t:"string",d:"You want an analytics solution that's right for your business."},heroCenterp2:{t:"string",d:'We have <span style="color:#dd3409"> TWO </span> great offerings to help you do that.'},solutionMulPlatHeader:{t:"string",d:"Multiple Platforms"},solutionMulPlatPara:{t:"string",d:"All Toucano dashboards and modules work equally as well across different web browser platforms. Optimmised for performance, our analytic layer ensures that your latest data will be ready on any device as you need it. We also build native android and IOS apps to your exact requirements."},anyDataHeader:{t:"string",d:"Any Data"},anyDataPara:{t:"string",d:"Our data and analytics layer easily integrates to your data and provides a common data model to all Toucano modules. Data linking is common to all modules and multiple levels of filtering easily applied"},lastTechHeader:{t:"string",d:"Latest Technology"},lastTechPara:{t:"string",d:"At Toucano we are passionate about using the right technology for the job. Our visualisation library of choice is the excellent D3, rendering to SVG and Canvas as required."},contactuspara:{t:"string",d:"For a demo and to learn how we could help your project"},dblink:{t:"string",d:"Discover More"},customlink:{t:"string",d:"Discover More"},benefitlink:{t:"string",d:"Find out more"},adatalink:{t:"string",d:"Discover More"}},TTk.Model.call(a.prototype,e),a}();
},{"../../toolkit/src/core/model.js":88,"../../toolkit/src/core/object.js":90,"../../toolkit/src/core/ttk.js":103,"../../toolkit/src/core/view.js":109,"../../toolkit/src/widget/editinplace.js":138,"./tcn.js":372}],372:[function(_dereq_,module,exports){
"use strict";var TCN={};TCN.CSS_PREFIX="tcn-",TCN.EVENT_PREFIX="tcn-",function(){try{return window}catch(n){return!1}}()&&(window.TCN?TCN=window.TCN:window.TCN=TCN),module.exports=TCN;
},{}]},{},[364])

